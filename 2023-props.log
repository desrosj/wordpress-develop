commit 52854e2796bff1ab2e69991b1c233c277542a0fc
Author: Joe McGill <joemcgill@git.wordpress.org>
Date:   Wed Dec 6 16:03:48 2023 +0000

    HTML-API: Prevent unintended behavior when WP_HTML_Token is unserialized.
    
    Props dmsnell, peterwilsoncc, dd32, xknown, rawrly, johnbillion, barry, jeffpaul, vortfu, isabel_brison, mikeschroder, jorbin.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57163 602fd350-edb4-49c9-b593-d223f7449a82

commit 0300f8869e35901d3b67c302b99540e659b141e8
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Dec 6 11:52:35 2023 +0000

    Docs: Fix typo in `Gettext_Translations::parenthesize_plural_exression()` description.
    
    Follow-up to [10584], [12079], [41722], [57161].
    
    Props tohincoderex.
    See #59347.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57162 602fd350-edb4-49c9-b593-d223f7449a82

commit 68ded6f3aa972a0b95dcbcc6f42afb00dc9ccdd6
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Dec 6 11:48:04 2023 +0000

    I18N: Deprecate `Gettext_Translations::parenthesize_plural_exression()`.
    
    Aside from having a typo in the name, the method is unused by core as of WordPress 4.9.
    
    Follow-up to [10584], [12079], [41722].
    
    Props tohincoderex, jrf.
    Fixes #59347.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57161 602fd350-edb4-49c9-b593-d223f7449a82

commit ee461f010a87d806d31367d047a0d20804a80dde
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Dec 5 13:37:52 2023 +0000

    Administration: Don't unnecessarily escape `none` or `div` in the admin menu.
    
    This matches a similar conditional in `wp-admin/menu-header.php`, where these values are handled as special cases and don't output the default menu image so that an icon could be added to `div.wp-menu-image` as CSS background.
    
    Follow-up to [9578], [21877], [26664].
    
    Props andrewleap, ironprogrammer, azaozz.
    Fixes #58361.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57159 602fd350-edb4-49c9-b593-d223f7449a82

commit 7f0b94069d40e1766a453d77542a533f44fb008f
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Dec 4 22:05:51 2023 +0000

    Coding Standards: Add missing escaping in `wp-activate.php`.
    
    Follow-up to [13884].
    
    Props dilipbheda, mukesh27, pitamdey, nareshbheda.
    Fixes #59200.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57158 602fd350-edb4-49c9-b593-d223f7449a82

commit c44432b3388c6ec73198bdd112e3384ca1f20c77
Author: bernhard-reiter <bernhard-reiter@git.wordpress.org>
Date:   Mon Dec 4 20:24:33 2023 +0000

    Block Hooks: Store ignored hooked blocks metadata in anchor block.
    
    The biggest tradeoff that was made in the implementation of Block Hooks was that they were limited to layouts (i.e. templates, template parts, and patterns) that ''didn't have any user modifications'' (see #59313 for the reason). This changeset is a preparatory step to remove this limitation, so they’ll eventually also work with user-modified layouts.
    
    The crucial problem to solve is how to acknowledge that a user has opted to remove or persist a hooked block, so that the auto-insertion mechanism won't run again and inject an extraneous hooked block on the frontend when none is solicited.
    
    This is achieved by storing all known blocks hooked to a given anchor block in the `metadata` attribute on that anchor block; specifically in a field called `ignoredHookedBlocks` inside of the `metadata`. Hooked blocks are only rendered on the frontend if they're absent from that field; OTOH, they're injected into that field (via the REST API) when first loaded in the editor.
    
    This simple logic guarantees that once a user modifies a given layout, those changes are respected on the frontend; yet if a plugin that includes a hooked block is activated after those modifications have taken place, the hooked block will be rendered on the frontend. This new technique supplants the one previously used (i.e. rendering hooked blocks on the frontend only if a layout doesn't have any modifications) in a rather direct way.
    
    Note that this changeset only introduces the new metadata field and relevant logic; it does not yet enable hooked block insertion into modified layouts. That will be done in a subsequent step (see #59646).
    
    Props gziolo.
    Closes #60008.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57157 602fd350-edb4-49c9-b593-d223f7449a82

commit 57a5164cbd447769b49577bd77d596cc9ec4a58c
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Mon Dec 4 19:49:18 2023 +0000

    Themes: Clean up inactive themes' theme mods from being autoloaded as part of upcoming 6.5 upgrade routine.
    
    Alongside [57153], this reduces unnecessarily autoloaded data from inactive themes, which can contribute to slow database performance as part of excessive autoloading. This changeset specifically resolves the issue for existing sites.
    
    Props mukesh27, joemcgill, swissspidy, westonruter, flixos90.
    Fixes #59975.
    See #39537.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57155 602fd350-edb4-49c9-b593-d223f7449a82

commit 7ce128134985dd9fc3cb2a83dccf31d8b8924071
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Mon Dec 4 19:36:27 2023 +0000

    Themes: Avoid autoloading the previous theme's theme mods when switching to another theme.
    
    This reduces unnecessarily autoloaded data from inactive themes, which can contribute to slow database performance as part of excessive autoloading.
    
    Props mukesh27, rajinsharwar, igmoweb, joemcgill, swissspidy, westonruter, flixos90.
    Fixes #59537.
    See #59975.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57153 602fd350-edb4-49c9-b593-d223f7449a82

commit b38a6cf9761a523a6b8a5e18fec18227a4be4a5e
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Mon Dec 4 18:51:01 2023 +0000

    Build/Test Tools: Update the MariaDB test strategy matrix.
    
    This updates the test strategy matrix in the PHPUnit test GitHub Actions workflow to include the most recent MariaDB release, 11.2.
    
    While 11.0 and 11.1 are still maintained, all three are short-term stable releases, which see support dropped after 1 year.
    
    Until a larger discussion around how the project supports database software releases with shorter support windows takes place (short-term in MariaDB or “innovation” releases in MySQL), testing only against the latest short-term release should be sufficient.
    
    Props johnbillion, l1nuxjedi.
    See #59806.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57152 602fd350-edb4-49c9-b593-d223f7449a82

commit f3236c2c93988dc09096767b42b6fc07916a7d71
Author: Aaron Jorbin <jorbin@git.wordpress.org>
Date:   Mon Dec 4 18:05:08 2023 +0000

    Help/About: Change CSS align-item for full browser support.
    
    The values of `start` and `end` are not fully supported by Opera Mini which has 1.01% usage. There is no material change in functionality with this change.
    
    Props kebbet, NekoJonez, luminuu, hellofromTonya.
    Fixes #59819.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57151 602fd350-edb4-49c9-b593-d223f7449a82

commit 96a589bf0d1cc4e9f2364b8e15228f77a175b2a1
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Dec 3 19:59:10 2023 +0000

    Docs: Add missing argument type for `supports` in `register_post_type()`.
    
    If set to `false`, no feature support is registered for the post type.
    
    Follow-up to [12751], [20734], [29091], [37883].
    
    Props jeremyfelt, swissspidy.
    Fixes #59690.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57150 602fd350-edb4-49c9-b593-d223f7449a82

commit 76ab1b8891b05fe2f95573b69d21100d9dc3cded
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Dec 2 11:56:31 2023 +0000

    Build/Test Tools: Allow overriding the `WP_UnitTestCase_Base::factory()` method.
    
    This allows third-party plugins to write their own factory extending `WP_UnitTest_Factory` for testing purposes, as well as benefit from `WP_UnitTestCase_Base` features.
    
    Follow-up to [35186], [35225], [35242].
    
    Props hugod.
    Fixes #59999.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57149 602fd350-edb4-49c9-b593-d223f7449a82

commit 0ce733c78f86c4ea06dd0dde329fcca571179f50
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Dec 1 01:33:40 2023 +0000

    Upgrade/Install: Add port number to target origin when decrementing update counts.
    
    This ensures that the update counter bubble in the admin menu is properly decreased after a successful plugin or theme update from within the update iframe when the site uses a non-standard port number.
    
    Follow-up to [27280], [29357].
    
    Props TobiasBg.
    Fixes #59987.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57148 602fd350-edb4-49c9-b593-d223f7449a82

commit 4d19f6c23fab4a0ad0638eb6e626c6a882f2947c
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Thu Nov 30 14:52:52 2023 +0000

    REST API: Restore site logo and icon in index.
    
    Restores setting the site's logo, icon, and wp-admin's back button image (which defaults to W).
    
    Prior to [56566], the site logo and icon were unconditionally added to the index. [56566] changed this by conditionally adding them if either the `_links` or `_embedded` fields were included. However, these fields are not included when using the Site Logo block, as it uses the `site_logo`, `site_icon`, and `site_icon_url` fields instead.
    
    This changeset restores the functionality by checking specifically for the `site_*` fields when neither of the `_links` or `_embedded` fields are present.
    
    Follow up to [56566].
    
    Props antonvlasenko, hellofromTonya, ironprogrammer, priethor, wildworks.
    Fixes #59935.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57147 602fd350-edb4-49c9-b593-d223f7449a82

commit 36a7c6ca409455ac8663d1a98b672685b654b2b2
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Nov 30 11:15:34 2023 +0000

    Tests: Update `_wp_timezone_choice_usort_callback()` tests for consistency.
    
    * Use the same `@group` annotation as the other tests.
    * Use `assertSame()` to verify the type of the result.
    * Use `data_` prefix for the data provider.
    * Use named data set in the data provider. This makes the output when using the `--testdox` option more descriptive and is helpful when trying to debug which data set from a data provider failed the test.
    * Other minor corrections.
    
    Reference: [https://make.wordpress.org/core/handbook/testing/automated-testing/writing-phpunit-tests/#repetitive-tests Core Handbook: Writing PHP Tests: Repetitive Tests].
    
    Follow-up to [57145].
    
    See #59953, #59647.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57146 602fd350-edb4-49c9-b593-d223f7449a82

commit 4cee935825612180fe357cbe41f4453c51d873f6
Author: Aaron Jorbin <jorbin@git.wordpress.org>
Date:   Wed Nov 29 17:31:44 2023 +0000

    Add automated tests for `_wp_timezone_choice_usort_callback`
    
    Props pbearne.
    Fixes #59953.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57145 602fd350-edb4-49c9-b593-d223f7449a82

commit 2dc568464e09be30927ac2cba21a3fd30ecfcd4d
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Wed Nov 29 16:43:15 2023 +0000

    Plugins: Fix Add Plugin search button pos when JS off.
    
    When JavaScript is disabled, the Add Plugins screen's search button position was too high in comparison to the search text field. This fix reuses the CSS declaration to keep field and button aligned.
    
    By targeting the `.no-js` class, the CSS specificity is not impacted when JavaScript is enabled.
    
    Follow up to [48281], [30830].
    
    Props devmuhib, sabernhardt, huzaifaalmesbah, hellofromTonya.
    Fixes #59967.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57144 602fd350-edb4-49c9-b593-d223f7449a82

commit fdec26724691d64c58e4cfe17557ec5ef00bc0bd
Author: Pascal Birchler <swissspidy@git.wordpress.org>
Date:   Wed Nov 29 11:52:36 2023 +0000

    Test: Run database upgrades between performance test steps.
    
    Prevents pending upgrades from blocking tests when checking out previous builds.
    
    Props mukesh27.
    See #59647.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57143 602fd350-edb4-49c9-b593-d223f7449a82

commit 96339bda237182d2d1246b8b4f12df9833643cd9
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Nov 29 09:32:58 2023 +0000

    Login and Registration: Use correct variable to display a single error message.
    
    When the `wp_login_errors` filter is used to add an error message followed by an instructional message, the former was not displayed and the latter was errouneously displayed twice above the login form.
    
    This commit ensures that the error message is displayed as expected.
    
    Follow-up to [56654].
    
    Props mapumba.
    Fixes #59983.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57142 602fd350-edb4-49c9-b593-d223f7449a82

commit a21f5a3cc054137f3ace4760db43845158fb3cc2
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Nov 28 20:22:26 2023 +0000

    Site Health: Remove unused `$wpdb` global in `utf8mb4` support test.
    
    Follow-up to [44984], [56475].
    
    Props upadalavipul, mukesh27.
    Fixes #59977.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57141 602fd350-edb4-49c9-b593-d223f7449a82

commit 5f2f5f60ee9cf2092ac751a1bd7702ea6df5776d
Author: John Blackbourn <johnbillion@git.wordpress.org>
Date:   Mon Nov 27 20:18:39 2023 +0000

    Docs: Correct the documented type for the `block_hooks` argument when registering a block type.
    
    This argument is an associative array of strings, not an array of arrays.
    
    See #59313, 59651
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57140 602fd350-edb4-49c9-b593-d223f7449a82

commit 6a891c736533417deb3be8940ecc89f71c80b455
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Nov 27 09:15:56 2023 +0000

    Coding Standards: Reorder conditionals in `is_random_header_image()`.
    
    This aims to slightly improve performance by checking the faster `empty()` language construct first and potentially avoiding an unnecessary function call. Additionally, this better matches a similar conditional a few lines below.
    
    Follow-up to [17757], [17770].
    
    Props Cybr.
    See #59650.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57139 602fd350-edb4-49c9-b593-d223f7449a82

commit 8f40982c31cc763ad85dadb02afb0dff0057574f
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Nov 27 08:44:06 2023 +0000

    Twenty Twenty-One: Add "blog" and "portfolio" subject tags.
    
    Follow-up to [49216], [49574].
    
    Props sumisubedi, sabernhardt.
    Fixes #59495.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57138 602fd350-edb4-49c9-b593-d223f7449a82

commit 653b6448f52f56c1e9219b569af1c060e66471dc
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Nov 26 19:25:50 2023 +0000

    External Libraries: Upgrade PHPMailer to version 6.9.1.
    
    This is a maintenance and feature release, adding support for the official release of PHP 8.3, methods for removing and replacing custom headers, XCLIENT support, and links to a new way of implementing XOAUTH2 authentication.
    
    The only change likely to have any impact on existing code is that PHPMailer previously attempted to use opportunistic STARTTLS encryption when connecting to `localhost`, which was unlikely to work. The workaround required setting `SMTPAutoTLS = false`, but that's no longer required. You may still need to use this setting when connecting to literal IPs.
    
    References:
    * [https://github.com/PHPMailer/PHPMailer/releases/tag/v6.9.1 PHPMailer 6.9.1 release notes]
    * [https://github.com/PHPMailer/PHPMailer/compare/v6.8.1...v6.9.1 Full list of changes in PHPMailer 6.9.1]
    
    Follow-up to [50628], [50799], [51169], [51634], [51635], [52252], [52749], [52811], [53500], [53535], [53917], [54427], [54937], [55557], [56484].
    
    Props jrf, Synchro.
    Fixes #59966.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57137 602fd350-edb4-49c9-b593-d223f7449a82

commit bc4eb46b5577bae4fc48f0cebac0f0d037939db0
Author: Pascal Birchler <swissspidy@git.wordpress.org>
Date:   Sun Nov 26 16:41:34 2023 +0000

    I18N: Improve translator comments for strings containing date formats.
    
    Adds translator comments where absent and changes code style so that
    comments are attached to the right strings during string extraction.
    
    Props NekoJonez.
    Fixes #59947
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57136 602fd350-edb4-49c9-b593-d223f7449a82

commit cd5cf79e54826e17f0e0776e933402f2cee4218c
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Nov 25 21:17:28 2023 +0000

    I18N: Move code out of translatable strings in a few error messages.
    
    Follow-up to [54272], [56101].
    
    Props rabmalin, Presskopp.
    Fixes #59563.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57135 602fd350-edb4-49c9-b593-d223f7449a82

commit 5ff4794ef195479930dbc244440a92d456fab835
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Nov 24 14:07:00 2023 +0000

    Build/Test Tools: Add a readme note on passing parameters into the PHPUnit tests.
    
    Follow-up to [45745], [47743].
    
    Props pbearne, costdev.
    Fixes #59624.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57134 602fd350-edb4-49c9-b593-d223f7449a82

commit 09a2050fca40250036b222474572749dd3c45b7e
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Nov 23 14:39:16 2023 +0000

    Tests: Avoid an infinite loop in `Spy_REST_Server` if a non-existing method is called.
    
    Follow-up to [34928].
    
    Props xknown, joemcgill.
    Fixes #59601.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57133 602fd350-edb4-49c9-b593-d223f7449a82

commit 9099d9789bc0baadd65c46b1b7724f28dd2887a5
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Wed Nov 22 19:38:09 2023 +0000

    Build/Test Tools: Run unit tests using new MySQL versions.
    
    The MySQL project has introduced a new versioning strategy with two types of releases: innovation and long-term support. While long-term support is a familiar concept, it’s not clear how innovation releases should be supported in various WordPress versions for a number of reasons.
    
    Mainly, innovation releases are very short-lived. Each one is only supported until the next innovation version is released with a goal of one per quarter. Even though these versions will have a short lifespan they are described as producton-grade and generally available.
    
    More discussion is needed to determine exactly how each WordPress release should support these new innovation releases. But while the parameters for proper support are determined, the PHPUnit tests can be run against these innovation releases to detect any potential problems or incompatibilities.
    
    This change adds the `8.1` and `8.2` innovation releases to the testing matrix for the PHPUnit test worfklow.
    
    Props johnbillion, jorbin.
    See #59779.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57132 602fd350-edb4-49c9-b593-d223f7449a82

commit 647d59302d3a9cd942c862f496c77fe7249d231a
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Nov 22 17:42:11 2023 +0000

    Text Changes: Update mentions of “web site” to “website” for consistency.
    
    While “web site” was the original spelling, this variant has become rarely used, and “website” is now the standard spelling, already used throughout most of the WordPress core.
    
    Reference: [https://en.wikipedia.org/wiki/Website Wikipedia: Website].
    
    Props LiamMcArthur, cafenoirdesign, sabbirshouvo, sabernhardt, ironprogrammer, mukesh27.
    Fixes #59853, #54276.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57131 602fd350-edb4-49c9-b593-d223f7449a82

commit 2452701c3253aef0c33f1cd85fb01f0c77a83c3e
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Nov 21 00:23:01 2023 +0000

    General: Rename `wp_json_encode()` parameters for parity with PHP Core.
    
    `wp_json_encode()` is a wrapper for the PHP native `json_encode()` function with some extra safety checks.
    
    This commit renames the `$data` parameter in the `wp_json_encode()` function and associated functions to `$value`, and the `$options` parameter to `$flags` for parity with the parameter names used in PHP Core.
    
    Reference: [https://www.php.net/manual/en/function.json-encode.php PHP Manual: json_encode()].
    
    Follow-up to [30055].
    
    Props jrf, hellofromTonya.
    Fixes #59630.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57130 602fd350-edb4-49c9-b593-d223f7449a82

commit b6bf3553d975da2e017a00443b7639aacf0a8586
Author: Joe McGill <joemcgill@git.wordpress.org>
Date:   Mon Nov 20 22:27:17 2023 +0000

    Themes: Remove memoization from stylesheet and theme directories.
    
    This fixes bugs introduced in [56635] whereby the template or stylesheet path could be memoized incorrectly if `get_template_directory()` or `get_stylesheet_directory()` were called before the theme has been fully initialized.
    
    Props partyfrikadelle, coreyw, kdowns, rebasaurus, meta4, flixos90, mukesh27, joemcgill.
    Fixes #59847.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57129 602fd350-edb4-49c9-b593-d223f7449a82

commit 30954f7ac0840cfdad464928021d7f380940c347
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Nov 20 00:06:08 2023 +0000

    Administration: Standardize default values in `submit_button()`.
    
    This commit updates the `submit_button()` function to standardize the default values of `$text` and `$other_attributes` parameters. Previously set to `null`, these defaults have now been changed to an empty string (`''`), bringing consistency with the `get_submit_button()` function, which `submit_button()` wraps.
    
    The change maintains backward compatibility, as `get_submit_button()` does not perform strict type-checking on these parameters. This update aligns with the ongoing effort to standardize function parameters across the WordPress codebase, improving the readability and predictability of the core functions.
    
    Follow-up to [31446].
    
    Props andbalashov.
    Fixes #59921.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57128 602fd350-edb4-49c9-b593-d223f7449a82

commit 2a0d8fcd645e0df939eed588b1cc832e568a1150
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Nov 19 11:35:09 2023 +0000

    Twenty Twenty-Four: Add missing textdomain in pattern category description.
    
    Follow-up to [56951].
    
    Props gavande1, acosmin, afercia, huzaifaalmesbah, ironprogrammer.
    Fixes #59840.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57127 602fd350-edb4-49c9-b593-d223f7449a82

commit 1427d257160ac8a4596038ab8417005d0ac00ca9
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Nov 18 20:44:32 2023 +0000

    Code Modernization: Use `str_starts_with()` in `WP_REST_Server::serve_request()`.
    
    Follow-up to [55703], [56834].
    
    See #59650.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57126 602fd350-edb4-49c9-b593-d223f7449a82

commit f72f1893d6d1ec2e1938ba4d3b60f340622ff614
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Fri Nov 17 20:09:51 2023 +0000

    Build/Test Tools: Allow the `playground-comment` job to fail.
    
    When this job fails, it should not fail the entire workflow. The next update to the pull request will attempt to dispatch the commenting workflow.
    
    Follow up to [57124].
    
    Props johnbillion.
    See #59416.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57125 602fd350-edb4-49c9-b593-d223f7449a82

commit 26ed1b8bcf824f18033eb2c3da78a2347bd60290
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Fri Nov 17 18:22:49 2023 +0000

    Build/Test Tools: Comment on PRs with WordPress Playground information.
    
    After [56958], pull requests to `wordpress-develop` can be tested within a WordPress Playground instance. However this capability is not obvious.
    
    This makes several updates to GitHub action workflows to avoid unnecessary extra runs/jobs while also commenting on pull requests with proper context for testing in Playground once a build is available for the PR.
    
    Changes:
    - The `build.yml` workflow has been deleted. The WordPress build process is already being tested within the `test-build-processes.yml` workflow. Now that workflow will produce and upload the built artifact for the given PR.
    - A `pull-request-comments.yml` workflow has been added to handle the commenting. To avoid having multiple workflows that comment on PRs, the logic within the `welcome-new-contributors.yml` workflow has been merged into this one.
    - The `pull_request` event trigger lacks the needed permission to comment on or update pull requests. Instead of using `pull_request_target` to navigate around this, the `test-build-processes.yml` workflow will now use `workflow_dispatch` to initiate a run of the commenting workflow. This adds the ability to only comment on the PR when a build has been successfully created and uploaded as an artifact.
    
    Props swissspidy, zieladam, jeffpaul.
    See #59416.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57124 602fd350-edb4-49c9-b593-d223f7449a82

commit 2b15e0fc7b48c7900957f5766f8ccd2ef29f898f
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Nov 17 17:09:09 2023 +0000

    Coding Standards: Rewrite a few capability checks for clarity and readability.
    
    This aims to:
    * Perform the checks as early as possible to avoid redundant function calls.
    * Remove an empty conditiaonal branch and make the exit conditions clearer.
    * Bring the formatting in line with other multi-line conditionals in core.
    
    Follow-up to [56836].
    
    See #59650.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57123 602fd350-edb4-49c9-b593-d223f7449a82

commit b558a7bde170678c7b4a7b8cee941d5ecfd4a37d
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Fri Nov 17 16:20:50 2023 +0000

    Twenty Twenty-One: Update all dependencies.
    
    In preparation for updating Core to use Node.js version 18.x, this updates the dependancies for the Twenty Twenty-One theme to the latest versions. This addresses an unsupported engine warning where packages within the dependency tree did not support Node.js > 16.x.
    
    All changes to built files are included in this commit. These changes are a result of the following:
    
    - Identical sets of properties for multiple selectors are now consolidated into one.
    - The removal of a duplicate `--branding--description--font-family` definition.
    - The addition of the `postcss-discard-empty` dependency, which removes empty CSS rules within IE stylesheets after the previous consolidation is performed.
    - `stylelint` has only been updated to 14.x (15.x is the latest). This is because `@wordpres/stylelint-config` currently has a version constraint of `^14.2` and does not properly support 15.x.
    
    The last change of note is the new configuration for the `value-keyword-case` rule in `.stylelint-css.json`. This was added as a way to prevent the `currentColor` from being changed to all lowercase.
    
    Props jorbin, poena.
    See #59663, #59658.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57122 602fd350-edb4-49c9-b593-d223f7449a82

commit 9857a80406a01d4457d19d268f3cfd90bac891b8
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Nov 17 15:31:52 2023 +0000

    Docs: Fix typo in `get_image_tag()` DocBlock.
    
    Follow-up to [54173].
    
    Props kitchin.
    See #55646, #59651.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57121 602fd350-edb4-49c9-b593-d223f7449a82

commit 7c492d36e0c6e219e54ce22eb6d1f5ae4610092b
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Nov 17 13:27:23 2023 +0000

    Docs: Improve some DocBlocks and inline comments per the documentation standards.
    
    Follow-up to [56834], [56836], [56837], [56838].
    
    Props kebbet, costdev, mukesh27, SergeyBiryukov.
    See #59651.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57120 602fd350-edb4-49c9-b593-d223f7449a82

commit b892a416377c1cd1b8dad524daabd78a5295b4c7
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Fri Nov 17 07:08:47 2023 +0000

    Block Hooks: Expose serialized template content to filter.
    
    The recently introduced Block Hooks API exposes a filter (`hooked_block_types`) which is given a `$context` argument, among others. If the filter is called on a block that's part of a template or template part, `$context` is set to the corresponding `WP_Block_Template` object.
    
    However, that object's `$content` property is currently ''not'' exposed to the filter. This changeset amends that shortcoming.
    
    This is useful for callbacks that might want to detect the presence of a serialized block instance (or potentially in the future utilize the HTML API) to restrict where the block is injected (before the template is rendered).
    
    Addressing this also achieves parity with the structure of `$context` when it represents a pattern (where pattern serialized content is present).
    
    Props nerrad.
    Fixes #59882.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57118 602fd350-edb4-49c9-b593-d223f7449a82

commit f2df7d8b7c419f5cbfd5c729d70d07527b22cf29
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Fri Nov 17 06:38:33 2023 +0000

    HTML API: Fix typo in documentation example.
    
    The example code in the PHPDoc comment for the HTML Tag Processor class
    previously showed calling `next_tag()` with an array containing a `class`
    key, which should have been `class_name`. This patch fixes this by using
    the appropriate `class_name` key.
    
    Props dmsnell, gaambo, crstauf, atachibana, audrasjb, krupalpanchal.
    Fixes #59891.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57116 602fd350-edb4-49c9-b593-d223f7449a82

commit 3d06660c636430d9b256c660062756d9142e008d
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Fri Nov 17 06:11:31 2023 +0000

    HTML API: Add support for containers elements, including ARTICLE.
    
    There are a handful of elements which behave similarly and are generically container elements. These are the following elements:
    
        ADDRESS, ARTICLE, ASIDE, BLOCKQUOTE, CENTER, DETAILS, DIALOG, DIR,
        DL, DIV, FIELDSET, FIGCAPTION, FIGURE, FOOTER, HEADER, HGROUP, MAIN,
        MENU, NAV, SEARCH, SECTION, SUMMARY
    
    This patch adds support to the HTML Processor for handling these elements. They do not require any additional logic in the rest of the class, and carry no specific semantic rules for parsing beyond what is listed in their group in the IN BODY section of the HTML5 specification.
    
    Props dmsnell.
    Fixes #59914.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57115 602fd350-edb4-49c9-b593-d223f7449a82

commit ddb67a0099c9912c46a22374bcf90e5aac2f25e3
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Nov 16 17:00:28 2023 +0000

    Docs: Replace `tabindex` example in submit button functions documentation.
    
    Most of the `tabindex` attributes across the admin were removed in [21311].
    
    This commit updates the example for the `$other_attributes` parameter to use the `id` attribute instead.
    
    Includes synchronizing documentation between `submit_button()` and `get_submit_button()`.
    
    Follow-up to [15810], [16061], [21311], [27136], [31599].
    
    Props benjaminknox, sabernhardt, fushar, SergeyBiryukov.
    Fixes #59768.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57114 602fd350-edb4-49c9-b593-d223f7449a82

commit 0b8ca16ea3bd9722bd1a38f8ab68901506b1a0e7
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Nov 15 09:31:56 2023 +0000

    Docs: Fix typo in the `ms_user_list_site_class` filter description.
    
    Follow-up to [44977].
    
    Props nithins53, shailu25, sabernhardt.
    Fixes #59907.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57111 602fd350-edb4-49c9-b593-d223f7449a82

commit 6456e6ea8b4ef25762a7c94821011d42a0c6da99
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Nov 14 12:42:52 2023 +0000

    Docs: Use typed array notation for the `$options` parameter in some new functions.
    
    Follow-up to [56445], [56508], [57013].
    
    Props tmatsuur.
    Fixes #59904.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57110 602fd350-edb4-49c9-b593-d223f7449a82

commit 7304f61f9894b08caeb845a7ddaa667bd398b2d6
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Tue Nov 14 00:09:17 2023 +0000

    Editor: update npm packages for 6.4.2.
    
    Package updates with bug fixes related to patterns, Query look interactivity, design tools UI and accessibility.
    
    Props mikachan, jorbin, kebbet, artemiosans, talldanwp, ramonopoly, alexstine, andrewserong, mamaduka, cbravobernal, ajlende, luisherranz.
    See #59828.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57109 602fd350-edb4-49c9-b593-d223f7449a82

commit cfecc5cde5d84954b5c4812701fed396ebaabb2a
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Nov 13 11:11:54 2023 +0000

    Docs: Replace miscellaneous incorrect PHPDoc tags.
    
    * `@contrib` is not a valid tag.
    * `@origin` is not a valid tag.
    * `@ref` is not a valid tag.
    * `@blessed` is not a valid tag and doesn't convey any meaningful information.
    * `@issue` is not a valid tag.
    
    Reference: [https://developer.wordpress.org/coding-standards/inline-documentation-standards/php/#phpdoc-tags PHP Documentation Standards: PHPDoc Tags].
    
    Follow-up to [8852], [34754], [38832], [43808].
    
    Props jrf.
    See #59651.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57108 602fd350-edb4-49c9-b593-d223f7449a82

commit 00791300b386af12d871293c56cd8a2e208f4b32
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Nov 12 09:19:20 2023 +0000

    Docs: Fix incorrect property doc in `WP_Theme::get_allowed()` tests.
    
    The `@array` tag does not exist. This should be `@var array`.
    
    Reference: [https://developer.wordpress.org/coding-standards/inline-documentation-standards/php/#2-1-class-members PHP Documentation Standards: Class Members].
    
    Follow-up to [36350].
    
    Props jrf.
    See #59651.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57107 602fd350-edb4-49c9-b593-d223f7449a82

commit 152a1ecd81a61ee3a1cbc8c721d934cc0099ceca
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Nov 11 09:26:44 2023 +0000

    Docs: Include `'weekly'` as a valid value in `wp_schedule_event()` description.
    
    Follow-up to [47062].
    
    Props crstauf, pacicio.
    Fixes #59888.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57106 602fd350-edb4-49c9-b593-d223f7449a82

commit db071f729c6e4fc6c46af89c5b602e704fa541e6
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Nov 10 22:52:06 2023 +0000

    Docs: Fix broken `@covers` tag in `_wp_post_thumbnail_context_filter()` tests.
    
    Without the space between the tag and the "description", the tag will not be recognized and the test will not record coverage correctly.
    
    Reference: [https://docs.phpunit.de/en/9.6/annotations.html#covers PHPUnit Manual: Annotations].
    
    Follow-up to [55821].
    
    Props jrf.
    See #59651.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57105 602fd350-edb4-49c9-b593-d223f7449a82

commit 9df9e28f65fb5da8b65e08e3aeceed061f18638d
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Fri Nov 10 18:59:59 2023 +0000

    Tests: Fix incorrect check for block themes in legacy PHPUnit test for themes.
    
    Props mukesh27.
    Fixes #59881.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57104 602fd350-edb4-49c9-b593-d223f7449a82

commit 155017ae7b2d37a1a65406179ec29c0958a43728
Author: Joe McGill <joemcgill@git.wordpress.org>
Date:   Fri Nov 10 15:10:35 2023 +0000

    Themes: Correct docblock for _register_theme_block_patterns.
    
    This updates the '@since 6.4.0' annotation in `_register_theme_block_patterns` to reference `WP_Theme::get_block_patterns` instead of `_wp_get_block_patterns`, which was changed in [56978].
    
    Props audrasjb, mukesh27, joemcgill.
    Fixes #59869.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57102 602fd350-edb4-49c9-b593-d223f7449a82

commit 1b5ab7ad0c701d4dbe5e07743beffc7afcc7a6a0
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Nov 10 10:47:55 2023 +0000

    Docs: Fix incorrect `@return` tag in `wp_check_filetype()` tests.
    
    `@return[]` is not a valid tag. Fixed now, though without further specification.
    
    Reference: [https://developer.wordpress.org/coding-standards/inline-documentation-standards/php/#phpdoc-tags PHP Documentation Standards: PHPDoc Tags].
    
    Follow-up to [55456].
    
    Props jrf.
    See #59651.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57101 602fd350-edb4-49c9-b593-d223f7449a82

commit a4a4f3a1dc68d84e2f3d24c8c9951ae962c6860d
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Fri Nov 10 00:07:59 2023 +0000

    Coding Standards: Replace CRLF line breaks with LF.
    
    Run `npm run grunt format:php:error` to correct the EOL sequence for:
    
    * `tests/phpunit/tests/functions/wpAdminNotice.php`
    * `tests/phpunit/tests/functions/wpGetAdminNotice.php`
    
    See #59650.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57100 602fd350-edb4-49c9-b593-d223f7449a82

commit 7287ff52633264b4e16fdaed5697307d4b8ceac1
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Nov 9 09:49:41 2023 +0000

    Docs: Fix various incorrect WP-flavored array specifications.
    
    Tags like `@string` or `@array` do not exist and are not supported. The way these were used here, also meant duplicate information being documented.
    
    Fixed now by using the `@type` tag as per the WP flavor of array documentation.
    
    Includes some fixes to the documentation formatting.
    
    Reference: [https://developer.wordpress.org/coding-standards/inline-documentation-standards/php/#1-1-parameters-that-are-arrays PHP Documentation Standards: Parameters That Are Arrays].
    
    Follow-up to [33322], [42880], [42971], [44786].
    
    Props jrf.
    See #59651.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57099 602fd350-edb4-49c9-b593-d223f7449a82

commit 2bf4a27d5ae2bf4005b438fbc86fe76a6d45a7c6
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Wed Nov 8 23:20:33 2023 +0000

    Quick/Bulk Edit: Prevent assigning posts to default categories during bulk edit.
    
    During a bulk edit of posts with different categories, the categories for the edited posts would be reset to the default category: uncategorized by default.
    
    This reverts [56712] to resolve the issue.
    
    Props peterwilsoncc, hellofromtonya, jorbin.
    Fixes #59837.
    See #11302.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57093 602fd350-edb4-49c9-b593-d223f7449a82

commit 8c2c762e23bc2400b5e39400634c0b9e2e7330d2
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Wed Nov 8 20:31:34 2023 +0000

    Database: Reinstate wpdb::$use_mysqli property.
    
    Partial revert of [56475] to reinstate the private `wpdb::$use_mysqli` property and set to its default to `true`. This private property was / is accessible through the magic methods. Though Core's usage of this property was removed by [56475], plugins are using the property. Reinstating it resolves the BC break.
    
    Follow up to [56475].
    
    Props jason_the_adams, joemcgill, johnbillion, johnjamesjacoby, jrf, rajinsharwar, renehermi.
    Fixes #59846.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57089 602fd350-edb4-49c9-b593-d223f7449a82

commit 2130a90861bb7c2ecca7927b04e7a23f247f37ba
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Wed Nov 8 19:46:00 2023 +0000

    External Libraries: Update Requests to `2.0.9`.
    
    This updates the Requests library from version `2.0.8` to `2.0.9`. This is a hotfix release.
    
    Props jorbin, hellofromTonya, desrosj, barry, cenkdemir, nexflaszlo, schlessera, jrf, Clorith, tomsommer, azaozz, pbiron, afragen, howdy_mcgee.
    Fixes #59842.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57086 602fd350-edb4-49c9-b593-d223f7449a82

commit 1e2619a2dcc71076bcc4e3e4532346f4982e7937
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Wed Nov 8 14:06:39 2023 +0000

    Build/Test Tools: Use correct order of arguments for `contains()`.
    
    This corrects the order the arguments are passed to the `contains()` function in the Performance Testing workflow.
    
    Because the arguments were passed incorrectly, the expression was not evaluating correctly.
    
    Follow up to [56972].
    
    Props hellofromTonya.
    See #59805.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57085 602fd350-edb4-49c9-b593-d223f7449a82

commit 1eed1269eb708f8054da69221411727764670b93
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Nov 8 11:04:14 2023 +0000

    Administration: Fix typos in `wp_admin_notice()` arguments in a few instances.
    
    Follow-up to [56570], [56599].
    
    Props dlh, mukesh27, sumitbagthariya16.
    Fixes #59830.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57084 602fd350-edb4-49c9-b593-d223f7449a82

commit 74e06045081e8f1db32b3603733610751a16e8f8
Author: Pascal Birchler <swissspidy@git.wordpress.org>
Date:   Wed Nov 8 10:30:21 2023 +0000

    Build/Test Tools: Expand performance test scenarios.
    
    Adds new tests for localized sites as well as the dashboard.
    Also amends Server-Timing output to measure memory usage in all scenarios.
    
    Props swissspidy, joemcgill, flixos90, mukesh27, mamaduka.
    See #59656.
    Fixes #59815.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57083 602fd350-edb4-49c9-b593-d223f7449a82

commit a31c785af19787a39893816b735be96a08a15412
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Wed Nov 8 00:34:17 2023 +0000

    Build/Test Tools: Add 6.3 to the Upgrade Testing workflow.
    
    This adds WordPress 6.3 to the Upgrade Testing GitHub Actions workflow.
    
    See #59805.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57082 602fd350-edb4-49c9-b593-d223f7449a82

commit 9c19bc5a2c2d645745016ca6a625e6d84136f613
Author: Aaron Jorbin <jorbin@git.wordpress.org>
Date:   Tue Nov 7 22:56:57 2023 +0000

    Help/About: Improve translation comment around release notes.
    
    Props kharisblank, kebbet.
    Fixes #59821.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57081 602fd350-edb4-49c9-b593-d223f7449a82

commit 4e4fdcb94910fb4cd21d17658431c28e06e7e19c
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Nov 7 00:12:24 2023 +0000

    Docs: Use proper case for `@todo` tags.
    
    The correct tag is `@todo`, not `@TODO` or `@todo:` (note the trailing colon).
    
    Reference: [https://developer.wordpress.org/coding-standards/inline-documentation-standards/php/#phpdoc-tags PHP Documentation Standards: PHPDoc tags].
    
    Follow-up to [55203], [56274], [56565], [56698].
    
    Props jrf.
    See #59651.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57077 602fd350-edb4-49c9-b593-d223f7449a82

commit b22d0618d37f241e5101085860d26598d4cf1c83
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Mon Nov 6 17:47:32 2023 +0000

    Upgrade/Install: Update $_old_files for 6.4.
    
    Props davidbaumwald.
    Fixes #59817.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57075 602fd350-edb4-49c9-b593-d223f7449a82

commit 072b38a18b88936b3a1835ef4dc81ce58c79e54d
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Mon Nov 6 15:19:34 2023 +0000

    Bundled Themes: Bump versions for WP 6.4 releases.
    
    Since every default theme was updated during the 6.4 release cycle, this bumps the version of each one.
    
    Twenty Ten: 4.0
    Twenty Eleven: 4.5
    Twenty Twelve: 4.1
    Twenty Thirteen: 4.0
    Twenty Fourteen: 3.8
    Twenty Fifteen: 3.6
    Twenty Sixteen: 3.1
    Twenty Seventeen: 3.4
    Twenty Nineteen: 2.7
    Twenty Twenty: 2.4
    Twenty Twenty-One: 2.0
    Twenty Twenty-Two: 1.6
    Twenty Twenty-Three: 1.3
    
    Props sabernhardt, rajinsharwar, mukesh27.
    Fixes #58832.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57069 602fd350-edb4-49c9-b593-d223f7449a82

commit 2a93cafb524aec329d6c87f27312fc38d85f2f47
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Mon Nov 6 14:45:28 2023 +0000

    Block Types: Add `metadata` global attribute.
    
    Add a new global attribute (i.e. an attribute that can be added to all and any blocks) called `metadata`. This is required for use cases such as allowing the user to assign custom names to blocks, or for making Block Hooks work with user-modified templates/parts/patterns (#59646).
    
    Props Mamaduka, gziolo, get_dave.
    Fixes #59797.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57068 602fd350-edb4-49c9-b593-d223f7449a82

commit 69e85003d524d83ff4b847d73a0f786383b711cb
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Mon Nov 6 14:41:11 2023 +0000

    Twenty Twenty-Four: Bugfixes and refinement for 6.4 RC4.
    
    This update includes the following changes:
    
    * [https://github.com/WordPress/twentytwentyfour/pull/723 Remove custom CSS for links].
    * [https://github.com/WordPress/twentytwentyfour/pull/718 Fix the link to the theme's docs].
    * [https://github.com/WordPress/twentytwentyfour/pull/719 Separate outline css to its own function] - which introduces `twentytwentyfour_block_stylesheets()` for enqueuing custom block stylesheets.
    * [https://github.com/WordPress/twentytwentyfour/pull/720 Fix height of newsletter landing pattern].
    * [https://github.com/WordPress/twentytwentyfour/pull/722/ Resolve border colors in variations].
    
    Follow up to [57036], [56999], [56951], [56813], [56764], [56716].
    
    Props onemaggie, richtabor, luminuu, huzaifaalmesbah, sabernhardt, poena, rajinsharwar.
    Fixes #59812.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57067 602fd350-edb4-49c9-b593-d223f7449a82

commit afe96d58e82314d28df4588731696c3c99c6663e
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Mon Nov 6 13:35:28 2023 +0000

    Blocks: Document Block Hooks functions as private.
    
    Documents the 4 new 6.4 Block Hooks global functions as private and for Core-only internal usage:
    
    * `make_before_block_visitor()`
    * `make_after_block_visitor()`
    * `traverse_and_serialize_block()`
    * `traverse_and_serialize_blocks()`
    
    This is being done as the architectural design of these new functions may change in the next cycle. Further denoting them as private / Core only can help to avoid extender churn if any of these functions are deprecated.
    
    Follow up to [56649], [56620].
    
    Props azaozz, hellofromTonya, bernhard-reiter, gziolo, mikeschroder.
    Fixes #59783.
    See #59313.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57066 602fd350-edb4-49c9-b593-d223f7449a82

commit f84e2281966dbbf7202f1fd3f8f3427c0f16775e
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Nov 6 09:25:02 2023 +0000

    Docs: Replace incorrect `@private` tags.
    
    The `@private` tag does not exist and is not supported. To indicate that something is private when in the global namespace, `@access private` should be used instead.
    
    Reference: [https://developer.wordpress.org/coding-standards/inline-documentation-standards/php/#phpdoc-tags PHP Documentation Standards: PHPDoc tags].
    
    Props jrf.
    See #59651.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57065 602fd350-edb4-49c9-b593-d223f7449a82

commit f9429d5f933127c4ef8c7cd4d47ae4c4a947206a
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Sun Nov 5 17:13:48 2023 +0000

    Editor: Update of npm packages after 6.4 RC3.
    
    This update includes the following fixes reported after RC3:
    
    * Regression: [https://github.com/WordPress/gutenberg/pull/55858 Fixes patterns not working anymore as a post template for custom post types].
    
    Scenario: When creating a new post for any custom post type registered with its "template" argument set to a pattern.
    
    For this scenario, the pattern template no longer renders in the post editor or the frontend with 6.4, whereas it did render properly in 6.3.2.
    
    This package update resolves the console error raised:
    {{{
    Uncaught TypeError: select(...).getCurrentTheme() is undefined
    }}}
    which restores the rendering of the pattern template.
    
    * Regression: [https://github.com/WordPress/gutenberg/pull/55859  Fixes positioning and styles for the new lightbox's trigger] introduced in 6.4.
    
    Follow up to [57048], [57034], [56987], [56961], [56849], [56818], [56816].
    
    Props renathoc, rajinsharwar, richtabor, joen, mikachan, hellofromTonya.
    Fixes #59411.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57063 602fd350-edb4-49c9-b593-d223f7449a82

commit 57d8eef46b762926dd90056efeb0b0b2b2c31bdd
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Nov 5 16:20:40 2023 +0000

    Docs: Fix typo in a function DocBlock in `WP_Duotone` tests.
    
    Follow-up to [56101], [56981].
    
    See #59651.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57062 602fd350-edb4-49c9-b593-d223f7449a82

commit 0ac7b38407a880ce350616d8f1de9a14b178d1ab
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Nov 4 00:24:33 2023 +0000

    Coding Standards: Remove unnecessary ignore annotations in `dbDelta()`.
    
    It is perfectly possible to write a commented regex with layout for readability by using the `x` modifier.
    
    As per the manual:
    > x (`PCRE_EXTENDED`)
    >
    > If this modifier is set, whitespace data characters in the pattern are totally ignored except when escaped or inside a character class, and characters between an unescaped # outside a character class and the next newline character, inclusive, are also ignored. This is equivalent to Perl's /x modifier, and makes it possible to include commentary inside complicated patterns.
    >
    > Note, however, that this applies only to data characters. Whitespace characters may never appear within special character sequences in a pattern, for example within the sequence (?( which introduces a conditional subpattern.
    
    Reference: [https://www.php.net/manual/en/reference.pcre.pattern.modifiers.php PHP Manual: Pattern Modifiers].
    
    This commit rewrites these two regexes to use the `x` modifier and gets rid of the unnecessary `phpcs:disable` comments.
    
    The tests in the `tests/phpunit/tests/db/dbDelta.php` file cover this change.
    
    Follow-up to [42249].
    
    Props jrf.
    See #59650.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57061 602fd350-edb4-49c9-b593-d223f7449a82

commit 75796f5e92a73e46c07d05e86293dc4f878a15ed
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Fri Nov 3 23:27:35 2023 +0000

    Build/Test Tools: Introduce tests for `wp_cache_set_last_changed()`.
    
    Props pbearne.
    Fixes #59737.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57060 602fd350-edb4-49c9-b593-d223f7449a82

commit e408533070a59efa36be220ec481c8cfba0e5863
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Fri Nov 3 21:53:01 2023 +0000

    Build/Test Tools: Fix group for `wp_unique_prefixed_id()` tests.
    
    Change the group from `functions.php` to `functions` to match other tests.
    
    See #59647.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57057 602fd350-edb4-49c9-b593-d223f7449a82

commit 13192d385f0f9f261ddf1ef50f43121e163a964b
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Nov 3 15:31:51 2023 +0000

    Coding Standards: Remove unnecessary ignore annotation in `wp_kses_hair_parse()`.
    
    It is perfectly possible to write a commented regex with layout for readability by using the `x` modifier.
    
    As per the manual:
    > x (`PCRE_EXTENDED`)
    >
    > If this modifier is set, whitespace data characters in the pattern are totally ignored except when escaped or inside a character class, and characters between an unescaped # outside a character class and the next newline character, inclusive, are also ignored. This is equivalent to Perl's /x modifier, and makes it possible to include commentary inside complicated patterns.
    >
    > Note, however, that this applies only to data characters. Whitespace characters may never appear within special character sequences in a pattern, for example within the sequence (?( which introduces a conditional subpattern.
    
    Reference: [https://www.php.net/manual/en/reference.pcre.pattern.modifiers.php PHP Manual: Pattern Modifiers].
    
    This commit rewrites these two regexes to use the `x` modifier and gets rid of the unnecessary `phpcs:disable` comments.
    
    The tests in the `tests/phpunit/tests/db/dbDelta.php` file cover this change.
    
    Follow-up to [42249].
    
    Props jrf.
    See #59650.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57056 602fd350-edb4-49c9-b593-d223f7449a82

commit 64bfb23202af5a023d2918bc73ee82421c6bbb63
Author: Aaron Jorbin <jorbin@git.wordpress.org>
Date:   Thu Nov 2 14:55:56 2023 +0000

    Help/About: Update link to field guide for 6.4.
    
    Follow up to [56950].
    
    Props afercia.
    Fixes #59289.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57054 602fd350-edb4-49c9-b593-d223f7449a82

commit 75008892aa4f7073f7499215e126306d951cbd9e
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Nov 2 00:02:36 2023 +0000

    Coding Standards: Correct equals sign alignment in various files.
    
    This resolves a few WPCS warnings:
    {{{
    Equals sign not aligned with surrounding statements
    }}}
    so that the output of `composer format` is clean.
    
    Follow-up to [56796], [56803], [56838], [56839], [56985].
    
    See #59650.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57053 602fd350-edb4-49c9-b593-d223f7449a82

commit 2e6a235812f94c4065705a8f68eefa0654eb9822
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Wed Nov 1 19:29:53 2023 +0000

    Build/Test Tools: Increase the number of retries when restarting a workflow.
    
    This increases the number of times to retry restarting a workflow from 10 to 15, and the `timeout-minutes` value to `30`.
    
    For workflows with complex strategy matrix, the exponential backoff of 10 retries is still not enough to account for the GitHub Actions UI taking a long time to catch up.
    
    Follow up to [56829] and [56830].
    See #58867.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57052 602fd350-edb4-49c9-b593-d223f7449a82

commit 126d780de939cb4036e53cd8abe705426767661c
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Wed Nov 1 17:46:03 2023 +0000

    Editor: 2nd update of npm packages for 6.4 RC3.
    
    This second update for RC3 includes the following fixes:
    
    * [https://github.com/WordPress/gutenberg/pull/55724 Update label for lightbox editor UI] - string change.
    * [https://github.com/WordPress/gutenberg/pull/55720 Query: Require queryId for enhanced pagination to prevent PHP notices] and warnings.
    * [https://github.com/WordPress/gutenberg/pull/55714 Query block enhanced pagination: Detect inner plugin blocks during render] - which avoids turning off enhanced pagination in TT4, includes string changes.
    * [https://github.com/WordPress/gutenberg/pull/55309 Query Loop block: Reuse existing screen-reader-text CSS class for the enhanced pagination aria-live region].
    
    Follow up to [57034], [56987], [56961], [56849], [56818], [56816].
    
    Props afercia, aristath, artemiosans, czapla, darerodz, glendaviesnz, hellofromTonya, jameskoster, joen, luisherranz, mikachan, ocean90, peterwilsoncc, ramonopoly, rajinsharwar, swissspidy.
    Fixes #59411.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57048 602fd350-edb4-49c9-b593-d223f7449a82

commit 5333ea1f91892d3bf9c601404315dde4d273a1f2
Author: John Blackbourn <johnbillion@git.wordpress.org>
Date:   Wed Nov 1 15:08:10 2023 +0000

    Docs: Correct some docblock formatting errors.
    
    Fixes #59784
    
    See #12009, #52710
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57046 602fd350-edb4-49c9-b593-d223f7449a82

commit f6905ebced9045091456a7f9cedf80fbf41a156e
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Wed Nov 1 14:48:50 2023 +0000

    Taxonomy: Set "public" to "false" for user pattern categories.
    
    Changes the `'wp_pattern_category'` taxonomy's `'public'` argument to `false`.
    
    Follow-up to [56642].
    
    Props vrajadas, glendaviesnz, hellofromTonya, ramonopoly.
    Fixes #59569.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57044 602fd350-edb4-49c9-b593-d223f7449a82

commit 01c842a25f0a689d472a7bcaf6c7e3aaa5065f00
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Nov 1 11:49:31 2023 +0000

    Docs: Correct the type for optional parameters in a few media functions.
    
    This affects the `$image_src` and/or `$image_meta` parameters in:
    * `wp_get_attachment_image_srcset()`
    * `wp_get_attachment_image_sizes()`
    * `wp_calculate_image_sizes()`
    
    Follow-up to [35412], [35419], [35481], [35498], [35569], [35672].
    
    Props dilipbheda.
    Fixes #59745.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57042 602fd350-edb4-49c9-b593-d223f7449a82

commit f58f64587b221f5fade3b8d0a4163a08eb041ed9
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Tue Oct 31 19:23:25 2023 +0000

    Block Hooks: Allow traversal callbacks to modify parent block.
    
    The callbacks returned by `make_before_block_visitor` and `make_after_block_visitor`, respectively, (which are passed as arguments to `traverse_and_serialize_block(s)`) currently accept three arguments, all of which are block arrays (i.e. with properties `blockName`, `attrs`, etc.):
    - A ''reference'' to the block they're currently visiting, `&$block`;
    - the block's `$parent_block`; and
    - the `$prev`ious block (for `make_before_block_visitor`), or the `$next` block (for `make_after_block_visitor`), respectively.
    
    Those arguments are passed to the "block visitor" callbacks by `traverse_and_serialize_block(s)` during traversal. The block that the callback is currently visiting is passed ''by reference'' to allow modifying it, which is e.g. used to inject the `theme` attribute into Template Part blocks.
    
    One major limitation of Block Hooks is that they currently only work with templates, parts, and patterns that ''don't have any user modifications'' (i.e. that come straight from the corresponding theme files, rather than from the database). For WordPress 6.5, it is planned to change that to make Block Hooks work for templates, parts, and patterns that ''do'' have user modifications: #59646.
    
    This will be implemented by storing an attribute on the "anchor" block. While working on that feature, it was found that the aforementioned callbacks will need to modify not only the currently visited `$block`, but also the `$parent_block` -- i.e. that the latter argument needs to be passed by reference as well. This is consistent with the requirement of adding an attribute to an anchor block, as it's not only the currently visited block that can serve as an anchor block (in the case of `before` or `after` sibling insertion), but also its parent (for `first_child` and `last_child` insertion).
    
    If the `$parent_block` argument were to be changed to become a reference in a later WordPress version, this could be considered a backwards-compatibility breaking change. For this reason, this change is instead proposed for 6.4 already, which is the cycle during which the relevant functions were first introduced. This should have no impact on existing code, since nothing currently relies on `$parent_block` remaining unmodified by the respective callback, nor is anything currently modifying that argument.
    
    Props hellofromTonya.
    Fixes #59776.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57038 602fd350-edb4-49c9-b593-d223f7449a82

commit c01bacad6bb91c3301316737c82c004c690b9ad9
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Tue Oct 31 17:24:38 2023 +0000

    Twenty Twenty-Four: Bugfixes for 6.4 RC2.
    
    This update includes the following bugfixes:
    
    - Fix: Added a new block pattern for the home template that inherits the page query and fits the design of the home page. (more context on the theme repo: https://github.com/WordPress/twentytwentyfour/pull/706)
    - Fix: Rely on parent theme data for block style.
    - Fix: Categories for some patterns.
    - Fix: Minor labeling issues
    
    Follow-up to [56999], [56951], [56813], [56764], [56716].
    
    Props anlino, beafialho, desrosj, devmuhib, didierjm, fabiorubioglio, flixos90, hanneslsm, hellofromTonya, huzaifaalmesbah, ktaron, luminuu, mshowes, onemaggie, phillsav, poena, rajinsharwar, richtabor, shailu25.
    Fixes #59770, #59759.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57036 602fd350-edb4-49c9-b593-d223f7449a82

commit 5dff9238b9e07e2251fab8480751a6c3a036412b
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Tue Oct 31 15:11:42 2023 +0000

    Update editor related npm packages for 6.4 RC3.
    
    The npm packages needed update for 6.4 RC3.
    
    Patch: https://github.com/WordPress/wordpress-develop/pull/5587.
    This PR includes the following changes:
    
    - Regression: [https://github.com/WordPress/gutenberg/pull/55553 Patterns: fix bug with authors and contributors not seeing user pattern categories].
    - Bugfix: [https://github.com/WordPress/gutenberg/pull/55539 Query Loop:Disallow "enhanced pagination" with core blocks that may contain third-party blocks].
    - Regression: [https://github.com/WordPress/gutenberg/pull/55667 File: Fix embedded PDF files in Safari].
    - Regression: [https://github.com/WordPress/gutenberg/pull/55669 Ensure Term Description block is registered in core]
    
    Props DAreRodz, luisherranz, poena, afercia, danieldudzic, hellofromtonya, siobhyb, mikachan, get_dave, scruffian, wildworks, glendaviesnz, ramonopoly, aaronrobertshaw.
    
    See #59411.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57034 602fd350-edb4-49c9-b593-d223f7449a82

commit db034446ac7591b5105214edb09921b23e6b95ed
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Oct 31 14:21:23 2023 +0000

    Coding Standards: Remove extra space in a comment in `WP_REST_Blocks_Controller`.
    
    This fixes a WPCS error: `Whitespace found at end of line`.
    
    Follow-up to [57032].
    
    Props hellofromTonya.
    See #59388.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57033 602fd350-edb4-49c9-b593-d223f7449a82

commit 3d86a763a6aaa7d5c025a7c36c5e57e44d0e92e8
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Oct 31 12:56:16 2023 +0000

    Docs: Update some reusable block references to synced patterns.
    
    In WordPress 6.3, [https://wordpress.org/documentation/article/reusable-blocks/ Reusable Blocks were renamed to Patterns]. A synced pattern will behave in exactly the same way as a reusable block.
    
    This commit updates some references in DocBlocks and inline comments to use the new name.
    
    Follow-up to [56030].
    
    Props benjaminknox, oglekler, hellofromTonya, marybaum, nicolefurlan.
    Fixes #59388.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57032 602fd350-edb4-49c9-b593-d223f7449a82

commit 17a01ed185f38f87362eb7588908dc95ec6cbe23
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Mon Oct 30 22:56:25 2023 +0000

    Options, Meta APIs: Fast follow fixes for option cache priming functions.
    
    A collection of fixes for `wp_prime_option_caches()`:
    
    * cache arrays and objects in their serialized form for consistency with `get_option()` and `wp_load_alloptions()`
    * prevent repeat database queries for falsey and known non-existent options (notoptions)
    
    Additional tests for `wp_prime_option_caches()` to ensure:
    
    * additional database queries are not made repriming options (known, known-unknown and alloptions)
    * cache is primed consistently
    * `get_option()` returns a consistent value regardless of how it is primed
    * database queries do not contain earlier primed options
    * `get_option` does not prime the cache when testing the cache has been successfully primed
    
    Fixes a test for `wp_prime_option_caches_by_group()` to ensure `get_option` does not prime the cache when testing the cache has been successfully primed.
    
    Follow up to [56445],[56990],[57013].
    
    Props peterwilsoncc, costdev, flixos90, hellofromTonya, mikeschroder, joemcgill.
    Fixes #59738. See #58962.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57029 602fd350-edb4-49c9-b593-d223f7449a82

commit 63a4ae98ee3c08d93c3d3e21a0c8804b54eae917
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Oct 30 12:52:44 2023 +0000

    Editor: Correctly load RTL stylesheets in `register_core_block_style_handles()`.
    
    When setting an RTL language under Settings → General, some RTL stylesheets were not loaded, with LTR stylesheets being loaded instead, meaning that some blocks were not displayed correctly.
    
    This commit ensures that all appropriate RTL stylesheets are loaded when selecting an RTL language.
    
    Follow-up to [56524].
    
    Props mukesh27, maahrokh, hellofromTonya, joemcgill, huzaifaalmesbah, rajinsharwar, devmuhib, swissspidy.
    Fixes #59715.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57028 602fd350-edb4-49c9-b593-d223f7449a82

commit ffcf5fb38aa0de123f71ef89d14de77eaa5904c0
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Oct 29 00:14:46 2023 +0000

    Docs: Improve documentation for `wp_tempnam()` and `download_url()`.
    
    Instead of mentioning the `unlink()` function specifically, the DocBlock should state that the calling function must delete or move the temporary file.
    
    Follow-up to [6779], [12151].
    
    Props bedas.
    Fixes #59761.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57027 602fd350-edb4-49c9-b593-d223f7449a82

commit cc2133fc3448de9bc050c0a7484f9a08c206847c
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Oct 28 01:00:14 2023 +0000

    Blocks: Parse the arguments earlier in `register_block_type_from_metadata()`.
    
    This makes it possible to register a block by passing an array of arguments, without the presence of a `block.json` file.
    
    Follow-up to [48141], [49948].
    
    Props aristath, spacedmonkey, mukesh27, costdev, audrasjb, oglekler, felipeelia, hellofromTonya.
    Fixes #56865.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57026 602fd350-edb4-49c9-b593-d223f7449a82

commit d571da5db51ccf31df92a2ff56bd13a4025401d2
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Fri Oct 27 19:23:07 2023 +0000

    Plugins: Prevent `ajaxComplete` listener from observing all events.
    
    Add a conditional to prevent the `prefers-reduced-motion` `ajaxComplete` listener from observing events not occurring in the plugin installation screen. Improve handling of settings data test.
    
    The listener observing `ajaxComplete` in [56541] was intercepting all `ajaxComplete` events, creating potential for unexpected errors in unrelated functions.
    
    Props bplv, afercia, rudlinkon, hellofromTonya, huzaifaalmesbah, joedolson, jorbin.
    Fixes #59689.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57022 602fd350-edb4-49c9-b593-d223f7449a82

commit ea30b5d8eb25e036baf021f406935a4907614abf
Author: Joe McGill <joemcgill@git.wordpress.org>
Date:   Fri Oct 27 19:02:54 2023 +0000

    Upgrade/Install: Skip registering theme block patterns during the upgrade process.
    
    This fixes a bug during the database upgrade process where a theme's `functions.php` file may not be loaded, leading to potential exceptions if the theme's pattern files use symbols (classes, functions, constants, etc.) that are declared only when the `functions.php` file is loaded. To do so, a check for `wp_get_active_and_valid_themes()` is added early to `_register_theme_block_patterns()`, which returns early if no active or valid themes are returned.
    
    Props fabiankaegy, rajinsharwar, pbiron, huzaifaalmesbah, hellofromTonya, peterwilsoncc, joemcgill.
    Fixes #59723.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57021 602fd350-edb4-49c9-b593-d223f7449a82

commit 22e32d8993f7584c4be8bb56e5d064579799a62d
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Fri Oct 27 18:16:05 2023 +0000

    Themes: Skip wrapping block template for singular content with a main query loop when the template was injected from outside the current theme.
    
    As a follow up to [56507], this fixes a bug that could occur for instance when plugins hijack the block template detection process to inject their own block template with entirely custom logic.
    
    Props afragen, hellofromTonya, costdev, mukesh27, huzaifaalmesbah, flixos90.
    Fixes #59736.
    See #58154.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57019 602fd350-edb4-49c9-b593-d223f7449a82

commit f6befb782e385b13b51aca65e087da6743e0431f
Author: Aaron Jorbin <jorbin@git.wordpress.org>
Date:   Fri Oct 27 17:01:50 2023 +0000

    Help/About: Improve Accessibility, RTL, Internationalization, and Responsiveness of about pages.
    
    Tweaks the 6.4 about pages in a couple of ways:
     - Decouples the background from the 6.4 logo so the logo can move for RTL.
     - Updates a color to improve color contrast.
     - Help prevent overlap of long text strings with 6.4 logo.
     - Ensure background isn't dark when no background is used on mobile.
    
    Props nudge, jorbin, afercia, sumitsingh, sabernhardt.
    See #59289, #59664.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57018 602fd350-edb4-49c9-b593-d223f7449a82

commit dea705e71f978bb93295a468a5dd96844da5e292
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Oct 27 08:27:33 2023 +0000

    Coding Standards: Remove a redundant section in the `phpcs.xml.dist` ruleset.
    
    The affected lines already have ignore annotations in the `wp-includes/class-wp-block-parser-block.php` file itself.
    
    Follow-up to [56048], [56738], [56743], [56751], [56752], [56753].
    
    Props jrf, SergeyBiryukov.
    See #59161.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57017 602fd350-edb4-49c9-b593-d223f7449a82

commit fc3aae3a0816f20182204449a2c61127b12c7a70
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Thu Oct 26 22:54:15 2023 +0000

    Options, Meta APIs: Rename option cache priming functions.
    
    Rename the option cache priming functions to more closely follow the naming convention used by other cache priming functions.
    
    * `wp_load_options()` becomes `wp_prime_option_caches()`
    * `wp_load_options_by_group()` becomes `wp_prime_option_caches_by_group()`
    
    The unit test files and classes are renamed accordingly.
    
    Unlike the existing cache priming functions, these functions were introduced with the intention of being public so use the `wp_` prefix rather than the `_` prefix used by the functions initially introduced as private functions but since made public.
    
    Follow up to [56445],[56990].
    
    Props flixos90, peterwilsoncc, joemcgill, SergeyBiryukov, desrosj.
    Fixes #58962.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57013 602fd350-edb4-49c9-b593-d223f7449a82

commit 2fb54c20cd8b9e5a0d4a1b89e6103fcd61893e2b
Author: Aaron Jorbin <jorbin@git.wordpress.org>
Date:   Thu Oct 26 22:34:41 2023 +0000

    REST API: Move `rest_pre_serve_request` filter to after no cache headers are sent.
    
    [56834] adjusted the order of activity inside the rest server responses. This lead to the `rest_pre_serve_request` filter potentially blocking the sending of the no cache headers. This moves that action back to being after the sending of no cache headers has finished to restore the pre 6.3.2 order of these two actions.
    
    Props perrelet, SergeyBiryukov, peterwilsoncc.
    Fixes #59722.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57012 602fd350-edb4-49c9-b593-d223f7449a82

commit 64b1726c4434fd34ab7e62dae89a71fbb6ddee4c
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Oct 26 20:31:45 2023 +0000

    Tests: Use a `@requires` annotation for `readonly()` function test.
    
    The function is only defined by WordPress core on PHP < 8.1.
    
    Follow-up to [51586].
    
    See #59647.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57011 602fd350-edb4-49c9-b593-d223f7449a82

commit 33069c3c6b6001a25a455ac6536c9ba8613b99d2
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Thu Oct 26 18:42:46 2023 +0000

    Themes: Fix block theme supports being added too early, leading to Customizer live preview bugs in 6.4.
    
    The Customizer live preview broke because of [56635], however the root cause for the bug was a lower-level problem that had been present since WordPress 5.8: The block theme specific functions `_add_default_theme_supports()` and `wp_enable_block_templates()` were being hooked into the `setup_theme` action, which fires too early to initialize theme features. Because of that, theme functionality would be initialized before the current theme setup being completed. In the case of the Customizer, that includes overriding which theme is the current theme entirely, thus leading to an inconsistent experience.
    
    This changeset fixes the bug by moving those two callbacks to the `after_setup_theme` action, which is the appropriate action to initialize theme features.
    
    Props karl94, hellofromTonya, joemcgill, flixos90.
    Fixes #59732.
    See #18298, #53397, #54597.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57009 602fd350-edb4-49c9-b593-d223f7449a82

commit 0133fc5441e299a39480d0e726a61a585713af32
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Oct 25 11:20:23 2023 +0000

    Tests: Remove some unnecessary multisite test skipping.
    
    These checks are redundant, as the skipping already handled by the `ms-required` and `ms-excluded` groups.
    
    Follow-up to [36740], [36741], [38705], [40520], [51415].
    
    Props johnbillion.
    See #59647.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57008 602fd350-edb4-49c9-b593-d223f7449a82

commit 32f75bf0f4c9adeaa51277f979490a53bea07e4f
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Tue Oct 24 14:33:23 2023 +0000

    Twenty Twenty-Four: Include file renaming for RC2.
    
    This includes a file renaming that was missed in [56999].
    
    Follow-up to [56999], [56951], [56813], [56764], [56716].
    
    Props hellofromTonya, huzaifaalmesbah.
    See #59711.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@57003 602fd350-edb4-49c9-b593-d223f7449a82

commit 9b539b65bf8ed5e7db9eeda070528992393a147c
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Tue Oct 24 14:04:13 2023 +0000

    Twenty Twenty-Four: Bug fixes for 6.4 RC2.
    
    This update includes updates to patterns to correct color issues and some code quality fixes.
    
    Follow-up to [56951], [56813], [56764], [56716].
    
    Props luminuu, richtabor, onemaggie, kafleg, swissspidy, huzaifaalmesbah, neilorangepeel, shailu25, lada7042, mukesh27, nilovelez, jorbin.
    Fixes #59711.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56999 602fd350-edb4-49c9-b593-d223f7449a82

commit c438bebad1530fcef443be35061bf67024dde6a7
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Oct 24 11:32:42 2023 +0000

    Tests: Correct the `WP_Test_Stream::mkdir()` method.
    
    The method attempted to check if there is already a file with the same name, however the conditional used an undefined variable.
    
    This commit prevents directory creation if a file or directory with the same name already exists, bringing consistency with the PHP `mkdir()` implementation.
    
    Includes adding missing documentation for the method.
    
    Reference: [https://www.php.net/manual/en/streamwrapper.mkdir.php PHP Manual: streamWrapper::mkdir()].
    
    Follow-up to [49230].
    
    Props david.binda, sadizaman, rajinsharwar, SergeyBiryukov.
    Fixes #59406.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56998 602fd350-edb4-49c9-b593-d223f7449a82

commit 88ab0a2c5716f3c2949b3bbb12bdd7fc19b3e141
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Tue Oct 24 10:57:03 2023 +0000

    Tests: Fix static property handling in r56991.
    
    Fixes static property handling for `WP_Duotone::$block_css_declarations` in the `Tests_Block_Supports_Duotone::test_css_declarations_are_generated_even_with_empty_block_content()`:
    
    * Fixes `ReflectionProperty::setValue()` to use an instance of `WP_Duotone`.
    * Adds an inline comment to explain why a static class (i.e. a class that is not intended to be an object by design as it only contains static properties and methods) needs an instance, i.e. needed for PHP 8.3 and higher.
    * Resets the static property's value to its original value, i.e. before the test started.
    
    Follow-up to [56991].
    
    Props costdev.
    See #59694.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56996 602fd350-edb4-49c9-b593-d223f7449a82

commit ac8bca4fdf78ccf6f49a1503ccfa33c274e29f57
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Tue Oct 24 08:49:38 2023 +0000

    Blocks: Fix layout support to be compatible with enhanced pagination.
    
    Make layout support compatible with enhanced pagination by ensuring that generated class names are stable across pagination, even when the number of rendered posts is different.
    
    With the previous implementation of enhanced pagination, the CSS corresponding to each block was not detected. Therefore, for enhanced pagination to work correctly, the CSS of the blocks present in the Post Template must be stable on all pages.
    
    The number of posts rendered by the Query block is always the same, except in the last page, where it can be only a fraction. If any of the blocks rendered by the Post Template used the `wp_unique_id` function, the ID (which is incremental) would have been different than in the previous pages and the class names would have varied.
    
    This is remediated by this changeset by replacing the usage of `wp_unique_id` in the layout support (which is used by the Query block) with an implementation that uses IDs that are incremental only for that block. That way, the generated class names are never affected by the number of times `wp_unique_id` runs.
    
    Props luisherranz, andrewserong, isabel_brison, costdev, mukesh27, cbravobernal, hellofromTonya, jorbin.
    Fixes #59681.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56994 602fd350-edb4-49c9-b593-d223f7449a82

commit b5392cc28c6f065227e9345cdb9ac266a0f9ee30
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Tue Oct 24 01:38:16 2023 +0000

    Build/Test tools: Introduce partial unit tests for `WP_Upgrader`.
    
    Props jipmoors, karlijnbk, chaion07, cu121, martin.krcho, costdev, mukesh27, hellofromTonya, SergeyBiryukov, audrasjb, jrf.
    Fixes #54245.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56992 602fd350-edb4-49c9-b593-d223f7449a82

commit ee631556b43aca2d55a32d58189da55faa219547
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Mon Oct 23 23:37:55 2023 +0000

    Editor: Fix render_duotone_support() to be compatible with enhanced pagination.
    
    Some blocks do not have content. For duotone support, blocks without content still need to run through the `render_duotone_support()` to render their duotone CSS.
    
    This fix makes the duotone compatible with the enhanced pagination (introduced in 6.4.0) by making sure that the CSS is always on the page, even when the posts have no featured image. It also prevents the duotone from interfering with other blocks using `wp_unique_id()`.
    
    
    References:
    * [https://github.com/WordPress/gutenberg/pull/55415 Gutenberg PR 55415]
    
    Follow-up to [56226].
    
    Props cbravobernal, luisherranz, hellofromTonya, isabel_brison, jorbin.
    Fixes #59694.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56991 602fd350-edb4-49c9-b593-d223f7449a82

commit 51ae4e67d0425277cccd2872bfbe72ea05f7f21b
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Mon Oct 23 21:27:31 2023 +0000

    Options, Meta APIs: Rename `prime_options()` to `wp_load_options()`.
    
    This clearly separates these functions which are intended to be used by external developers from the existing `_prime_*_caches()` functions which are primarily intended for internal usage. The term "load" is additionally more accessible than "prime".
    
    This changeset renames the above function, as well as the wrapper function `prime_options_by_group()` to `wp_load_options_by_group()`.
    
    Props peterwilsoncc, joemcgill, hellofromTonya, poran766, flixos90.
    Fixes #58962.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56990 602fd350-edb4-49c9-b593-d223f7449a82

commit ce342f1a33051dcafdb47132f8e07d0597f49124
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Mon Oct 23 17:05:29 2023 +0000

    Update editor related npm packages for 6.4 RC2.
    
    The npm packages needed update for 6.4 RC2.
    
    Props siobhyb, cbravobernal, DAreRodz, luisherranz, artemiosans, afercia, jameskoster, czapla, alexstine, SantosGuillamot, ramonopoly, isabel_brison, andrewserong, jeryj, joedolson
    
    See #59411.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56987 602fd350-edb4-49c9-b593-d223f7449a82

commit 0ad07266171153be3ed206fbf83f5ba862100446
Author: Pascal Birchler <swissspidy@git.wordpress.org>
Date:   Mon Oct 23 15:40:44 2023 +0000

    Sitemaps: add `lastmod` for individual posts and the homepage.
    
    When the XML sitemaps feature was originally introduced, the `lastmod` field was omitted because guidance at the time indicated it was less important for search engines, plus for some entities it was computationally expensive to add. Now that the guidance has slightly changed, we are revisiting this and adding `lastmod` where easily possible.
    
    - Adds `lastmod` to all individual post objects (of any post type) in the sitemap
    - Adds `lastmod` to the homepage sitemap entry if the homepage is set to display the latest posts.
    
    No `lastmod` is added for the individual sitemap pages in the sitemap index, nor for term archives or user archives. Those enhancements require additional changes, such as storing the modified date for a taxonomy term when something is added to that term. They can be revisited in separate follow-up tickets.
    
    Props swissspidy, joemcgill.
    Fixes #52099
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56985 602fd350-edb4-49c9-b593-d223f7449a82

commit 219dbc651f7e2a31ecf4b1a157f3c63b2bf7b977
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Oct 23 13:15:17 2023 +0000

    Docs: Improve documentation for meta revision functions.
    
    Includes:
    
    * Correcting the position of `@since 6.4.0` in a few places.
    * Adding missing `@return` documentation.
    * Adjusting parameter spacing.
    
    Follow-up to [56714].
    
    Props jeremyfelt, mukesh27.
    Fixes #59666.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56984 602fd350-edb4-49c9-b593-d223f7449a82

commit 482843ae0e51e40335af03ab7625309396240ad3
Author: Greg ZiÃ³Å‚kowski <gziolo@git.wordpress.org>
Date:   Mon Oct 23 05:36:50 2023 +0000

    Tests: Improve code coverage for _build_block_template_result_from_file
    
    Props costdev, bernhard-reiter.
    See #54335, #59325.
    Follow-up for [56562].
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56983 602fd350-edb4-49c9-b593-d223f7449a82

commit f597832f53924dc31eebbe51957f7179ce578637
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Oct 22 09:03:12 2023 +0000

    General: Bump the recommended MySQL version in `readme.html`.
    
    MySQL 5.7 reaches EOL (“End of Life”) in October 2023. The recommended minimum is bumped to 8.0 for now.
    
    References:
    * [https://www.mysql.com/support/ MySQL Support Policies]
    * [https://make.wordpress.org/hosting/handbook/server-environment/#database Hosting team handbook: Server Environment: Database]
    
    Follow-up to [31291], [33946], [35759], [52420], [52421], [54069].
    
    Props swissspidy, SergeyBiryukov.
    See #59701.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56982 602fd350-edb4-49c9-b593-d223f7449a82

commit 33cb0d24dc6f656f5395e0a6566182442cf1f640
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Oct 21 10:19:55 2023 +0000

    Tests: Correct test class name for `WP_Duotone` unit tests.
    
    Follow-up to [56101].
    
    Props cbravobernal.
    Fixes #59696.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56981 602fd350-edb4-49c9-b593-d223f7449a82

commit 67476285c26f1d9a2488ca73e13df51d0323a17a
Author: Pascal Birchler <swissspidy@git.wordpress.org>
Date:   Sat Oct 21 08:37:00 2023 +0000

    Build/Test Tools: Remove now obsolete `jest-image-snapshot` dependency.
    
    With the migration of visual regression tests to Playwright in [56926], this package is no longer needed and can be safely removed.
    
    See #59517.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56980 602fd350-edb4-49c9-b593-d223f7449a82

commit 03e46a7670ff44e92957173ccd02405c33fc794b
Author: Joe McGill <joemcgill@git.wordpress.org>
Date:   Fri Oct 20 19:06:46 2023 +0000

    Themes: Make caches for block patterns clearable.
    
    In [56765], theme block pattern files were cached to a transient as a performance enhancement. However, transients are not easily clearable when caches are flushed on environments not using a persistent cache, which can lead to errors if the theme files are renamed, edited, or moved.
    
    This changes the caching mechanism to use `wp_cache_set()` instead, and caches these values to the global group so they are still persistent on environments using an object cache, and will be cleared by a cache flush.
    
    In addition, the helper `_wp_get_block_patterns` has been moved `WP_Theme::get_block_patterns` for consistency with other block related theme methods and cache helpers for these values, `WP_Theme::get_pattern_cache` and `WP_Theme::set_pattern_cache`, have been made private.
    
    Relevant unit tests updated.
    
    Props: afercia, flixos90, mukesh27, joemcgill.
    Fixes #59633. See #59591, #59490.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56978 602fd350-edb4-49c9-b593-d223f7449a82

commit df21bdf81c48fcdd00692e1ff208f39053c27501
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Fri Oct 20 17:11:10 2023 +0000

    Build/Test Tools: Use the correct path to build process test workflows.
    
    Follow up to [56976].
    
    See #59632.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56977 602fd350-edb4-49c9-b593-d223f7449a82

commit 7ac4f60c33859e3c83e116f92500922058a2f324
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Fri Oct 20 14:54:23 2023 +0000

    Build/Test Tools: Test the Gutenberg plugin build process.
    
    A very common contributor setup is having a copy of the `gutenberg` development repository within a checkout of the `wordpress-develop` repository. On occasion, there are some strange incompatibilities that come up when using this setup. A few examples can be seen in #58671 and #59634.
    
    This changeset helps ensure that these edge cases are not introduced by testing the Gutenberg plugin’s build process within WordPress configured to run from both the `src` and `build` directories.
    
    This also renames the “Test npm” workflow to a more general “Test Build Processes”, which more accurately describes what is actually being tested within it and allows these new test jobs to be grouped in.
    
    And finally, the logic within the workflow has been split out into two callable workflows. This helps avoid code duplication within the workflow, and allows for better grouping on the workflow run screen.
    
    Props swissspidy, aferica, SergeyBiryukov, antonvlasenko, desrosj.
    Fixes #59632. See #58671, #59634.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56976 602fd350-edb4-49c9-b593-d223f7449a82

commit df57c555c29110d736f32e9e01fdb57ad3c79a7d
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Oct 20 13:27:56 2023 +0000

    External Libraries: Update getID3 to version 1.9.23.
    
    The latest version includes numerous bug fixes, a few new features, as well as various improvements for PHP 8.1 and PHP 8.2 support.
    
    This commit also includes PHPCS adjustments previously made for a passing PHP Compatibility scan.
    
    References:
    * [https://github.com/JamesHeinrich/getID3/releases/tag/v1.9.23 getID3 1.9.23 release notes]
    * [https://github.com/JamesHeinrich/getID3/compare/v1.9.22...v1.9.23 Full list of changes in getID3 1.9.23]
    
    Follow-up to [47601], [48278], [52254], [54376].
    
    Props jrf.
    Fixes #59683.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56975 602fd350-edb4-49c9-b593-d223f7449a82

commit 69a56e30f96333dd6de25c141428c7e7ced480d4
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Thu Oct 19 19:07:13 2023 +0000

    Multisite: Ensure that switching sites resets the current theme directory globals.
    
    The globals introduced in [56635] to cache the current theme directories in memory were not considering switching sites in a multisite network. This changeset addresses the bug including test coverage.
    
    Props codex-m, jeremyfelt.
    Fixes #59677.
    See #18298.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56974 602fd350-edb4-49c9-b593-d223f7449a82

commit 545748c9d26cad8d1565d1acf90cbd75e9d4df84
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Thu Oct 19 15:03:51 2023 +0000

    Build/Test Tools: Skip Puppeteer download in build workflow.
    
    This adds the `PUPPETEER_SKIP_DOWNLOAD` environment variable to the Build WordPress workflow to skip downloading Puppeteer browser binaries unnecessarily.
    
    Follow up to [56958].
    
    See #59416, #59517, #58863.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56973 602fd350-edb4-49c9-b593-d223f7449a82

commit 3850ddca39145ba8ae261f4cdee1f061f29677ae
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Thu Oct 19 13:59:01 2023 +0000

    Build/Test Tools: Don’t run the performance workflow when branching.
    
    When a branch is created, there is no previous commit to reference in the `github.event.before` context, which causes the performance workflow to fail because there is no previous commit to perform a comparison with.
    
    This adds a condition to check that `github.event.before` is not set to `0000000000000000000000000000000000000000`, which is the default value when there are no previous commits.
    
    Props swissspidy.
    See #588867.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56972 602fd350-edb4-49c9-b593-d223f7449a82

commit 2a6b527f73260925729beb7860a4a2a01513f527
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Oct 19 13:51:04 2023 +0000

    Tests: Improve the `@group` annotation accuracy and consistency.
    
    Includes removing `.php` from some older group names, because most of the groups are no longer named based on the file containing the function, and sometimes functions move around, making the file-based group name inaccurate.
    
    Props afercia, aristath, poena, SergeyBiryukov.
    See #59647.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56971 602fd350-edb4-49c9-b593-d223f7449a82

commit 6528d9840b6800edfb8e75c4924936bb14b3f31b
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Wed Oct 18 19:30:40 2023 +0000

    Blocks: During traversal, allow post callback to modify block.
    
    Both the `$pre_callback` and `$post_callback` functions that are given as arguments to `traverse_and_serialize_block(s)` receive a reference to the current block as their first argument. However, while any changes that the "pre" callback makes to the block are reflected by the serialized markup, the same wasn't true for the "post" callback: Any changes that it made were only applied ''after'' the block had already been serialized.
    
    This commit changes the behavior such that `$post_callback`'s changes to the current block are also reflected in the serialized markup.
    
    See #59646.
    Props gziolo.
    Fixes #59669.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56970 602fd350-edb4-49c9-b593-d223f7449a82

commit c9ff475e1fe63de1356bc6a3792e6fd836a8c587
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Oct 18 10:39:19 2023 +0000

    Tests: Remove some unnecessary `function_exists()` checks for compat functions.
    
    Each of these functions already has a separate test for availability.
    
    If any of them are unavailable, then the test should fail rather than be skipped.
    
    Follow-up to [52038], [52039], [52040].
    
    Props johnbillion.
    See #59647.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56969 602fd350-edb4-49c9-b593-d223f7449a82

commit 428c624e155dd4f5ee655891f1f8e89da9a6a65d
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Tue Oct 17 20:34:31 2023 +0000

    Build/Test Tools: Fix WP version in package-lock.json.
    
    After [56966], CI jobs that check the `package-lock.json` failed on the "Ensure version-controlled files are not modified or deleted" task.
    
    There are 2 version fields that need to be updated for the new WP version. This changeset updates the "packages" > "version" for 6.5.0.
    
    Follow-up to [56966].
    
    Props swissspidy, benharri.
    Unprops hellofromTonya.
    Fixes #59665.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56968 602fd350-edb4-49c9-b593-d223f7449a82

commit 23f72332788aaa654152e334384a7ad262411412
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Tue Oct 17 18:48:03 2023 +0000

    Fix version number for 6.5-alpha.
    
    Fixes the version number from [56966] to include its number in the version, as it is the commit that opened trunk for 6.5-alpha.
    
    Follow-up to [56966].
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56967 602fd350-edb4-49c9-b593-d223f7449a82

commit 4ec6ff34f61b629607f28e2f848fdfbd88cf3561
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Tue Oct 17 18:39:45 2023 +0000

    Trunk is now 6.5 alpha.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56966 602fd350-edb4-49c9-b593-d223f7449a82

commit eae1aa8ebfc7ce28e736af93769319948c082530
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Tue Oct 17 17:43:48 2023 +0000

    Post WordPress 6.4 RC1 version bump.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56964 602fd350-edb4-49c9-b593-d223f7449a82

commit 47a522ffbed3dc21127211eea1e27245f2013077
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Tue Oct 17 17:25:23 2023 +0000

    WordPress 6.4 RC1 - capitalize RC in version.
    
    Capitalize RC in the version, i.e. just in case the build requires it.
    
    Unprops hellofromTonya.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56963 602fd350-edb4-49c9-b593-d223f7449a82

commit 933d27bbcbec82d6af5d9cf27a2539361e098e41
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Tue Oct 17 17:17:44 2023 +0000

    WordPress 6.4 RC1.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56962 602fd350-edb4-49c9-b593-d223f7449a82

commit b97ae04b52b943c8742f2cfa41b5c5642baf4bb7
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Tue Oct 17 16:06:01 2023 +0000

    Editor: Bugfixes npm packages updates for 6.4 RC1.
    
    Updates for needed bugfixes in RC1:
    
    * [https://github.com/WordPress/gutenberg/pull/55212 Image: Reimplement lightbox trigger as a minimal button in corner of image]
    
    * [https://github.com/WordPress/gutenberg/pull/55403 [Edit Widgets] Only suppress admin notices when JS enabled.]
    
    Follow-up to [56849], [56818], [56816].
    
    Props artemiosans, jameskoster, SantosGuillamot, aristath, czapla, joen, afercia, richtabor, peterwilsoncc, andraganescu, hellofromTonya, siobhyb.
    See #59411.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56961 602fd350-edb4-49c9-b593-d223f7449a82

commit dcd6e5c03689566133ae49d89d44843cadc69dc5
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Tue Oct 17 15:46:44 2023 +0000

    Patterns, Templates: Inject `theme` attr into Template Part blocks.
    
    It was found that Template Part blocks were broken in the Site Editor, showing the `Template part has been deleted or is unavailable` message, due to a missing `theme` attribute.
    
    This bug seems to have been introduced by [56896], whose goal was to only inject that attribute into the markup returned by the templates and patterns REST API endpoints but not on the frontend, in order to improve performance. It has been demonstrated locally that reverting that changeset fixes the bug.
    
    Reverts [56896].
    Props mmcalister, swisspidy, thelovelist, hellofromTonya, pbiron, Pauthake015, richtabor, nicolefurlan, huzaifaalmesbah, annezazu, kafleg, aegkr, sunitarai, shresthaaman, andraganescu, onemaggie, gziolo.
    Fixes #59629.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56960 602fd350-edb4-49c9-b593-d223f7449a82

commit 7856fcbd8cd24854dae0bc0c1a718860411b9065
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Tue Oct 17 13:48:21 2023 +0000

    Bundled Themes: Revert 56451.
    
    Reverts [56451] to avoid the following issues:
    
    * missing the default `font-size` for anyone who does not use the size control.
    * unintentional reduction in citation's `line-height` down to the `--pullquote--line-height` value (1.3 instead of 1.6).
    
    With 6.4 RC1 happening shortly, this revert is necessary to avoid shipping this issues in the release, while giving the time needed to resolve in the next cycle.
    
    Follow-up to [56451].
    
    Props sabernhardt, nicolefurlan.
    See #57854.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56959 602fd350-edb4-49c9-b593-d223f7449a82

commit 8077c0723fd1c8c825ec66df6edad1a1719991d6
Author: zieladam <zieladam@git.wordpress.org>
Date:   Tue Oct 17 13:40:22 2023 +0000

    Build/Test Tools: Store WordPress.zip for every GitHub Pull Request as a GitHub artifact.
    
    Storing build files enables reusing them in WordPress Playground and ultimately implementing a Pull Request.
    
    Props desrosj, bernhard-reiter
    See #59416.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56958 602fd350-edb4-49c9-b593-d223f7449a82

commit eb637362c754063f58ebfb89edb8f5072a8232c2
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Tue Oct 17 13:32:06 2023 +0000

    Build/Test Tools: Update build related dependencies.
    
    This updates the following development dependencies to their latest versions:
    - `postcss`
    - `qunit`
    - `sass`
    - `webpack`
    
    Additionally, `npm audit fix` has been run.
    
    Fixes #58863.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56957 602fd350-edb4-49c9-b593-d223f7449a82

commit 9721943061b6fe33935e123d5bd052c3c0764888
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Tue Oct 17 13:18:43 2023 +0000

    Build/Test Tools: Update the `caniuse-lite` database.
    
    This updates the data for the `caniuse-lite` package and runs `grunt precommit:css`.
    
    Fixes #58869.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56956 602fd350-edb4-49c9-b593-d223f7449a82

commit fe59ac3fb68b5eeb0b8fb9b69e824cc1fb34d39e
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Tue Oct 17 12:42:08 2023 +0000

    Build/Test Tools: Add environment variable for current release.
    
    This adds a global environment variable to the Test old branches workflow to make the supported version more clear and easier to update in the future. This will also make it easier to reference in more places as this workflow grows.
    
    See #58867.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56955 602fd350-edb4-49c9-b593-d223f7449a82

commit f95ddbcee54f2e4eaa4f55add3062be35450272b
Author: Pascal Birchler <swissspidy@git.wordpress.org>
Date:   Tue Oct 17 11:27:24 2023 +0000

    Build/Test Tools: Reinstate `PUPPETEER_SKIP_DOWNLOAD` for most CI workflows.
    
    The `PUPPETEER_SKIP_DOWNLOAD` environment variable is used to prevent Puppeteer from automatically downloading browser binaries.
    It was removed in [56926] due to the migration to Playwright. However, because of the QUnit tests, Puppeteer is actually still a dependency.
    
    Until those tests change, we have to keep this environment variable to prevent unnecessary downloads on CI.
    
    Props SergeyBiryukov.
    Fixes #59517.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56954 602fd350-edb4-49c9-b593-d223f7449a82

commit c9ddecbf094086d91dd833795151b4e2fd510924
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Oct 17 10:37:35 2023 +0000

    HTML API: Scan to end of tag when getting updated HTML output.
    
    When applying updates to HTML, one step was left out in [56941] which updated the position of the end of the current tag. This made it possible to create bookmarks with null or earlier end positions than their start position. This in turn broke the Directive Processor in Gutenberg during the backport of changes from Core into Gutenberg.
    
    In this commit, after applying updates, the HTML document is now scanned fully to the end of the current tag, updating the internal pointer to its end, so that nothing else will be broken or misaligned.
    
    Follow-up to [56941].
    
    Props dmsnell.
    Fixes #59643.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56953 602fd350-edb4-49c9-b593-d223f7449a82

commit 112f7da4c4ecf30e35fe21ef50191ad01c66d603
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Oct 17 09:52:07 2023 +0000

    Twenty Nineteen: Correct the required WordPress version in theme headers.
    
    The required version was previously set to two different values:
    * 4.7 in the theme's `functions.php` file.
    * 4.9.6 in theme headers, because of the `the_privacy_policy_link()` function usage in `footer.php`.
    
    However, as `the_privacy_policy_link()` call is wrapped in a `function_exists()` check, it does not affect the requirements in practice.
    
    This commit aims to correct the discrepancy by updating theme headers to match the actual required WP version.
    
    Follow-up to [43808], [43892].
    
    Props poena, kafleg, felipeelia, audrasjb, huzaifaalmesbah, shailu25, nicolefurlan, oglekler.
    Fixes #59557.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56952 602fd350-edb4-49c9-b593-d223f7449a82

commit 1455e76c88ac3b44e889c7f841adf555745e7244
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Tue Oct 17 02:12:07 2023 +0000

    Twenty Twenty-Four: Bugfixes for 6.4 RC1.
    
    Resyncing changes for TT4 into Core.
    
    Changes include:
    * Reformatted all the patterns for readability.
    * Bugfixes in the markup and improvements on the string translation functions.
    * Renaming of some patterns, making them consistent with the content they show and whether they are simple patterns, full-page patterns or patterns meant to replace templates.
    
    Follow-up to [56813], [56764], [56716].
    
    Props richtabor, onemaggie, luminuu, shailu25, dunhakdis, shivashankerbhatta, dajeema, enodekciw, kafleg, viralsampat, glendaviesnz, beafialho, webmandesign, huzaifaalmesbah, gregfuller, benharri.
    Fixes #59640.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56951 602fd350-edb4-49c9-b593-d223f7449a82

commit c197e15fcc4ae1e3faadc8cc7d0bd542d893d173
Author: Aaron Jorbin <jorbin@git.wordpress.org>
Date:   Tue Oct 17 02:00:11 2023 +0000

    Help/About: Update the About page for 6.4.
    
    Also includes updates to the contribute, credits, freedom and privacy pages.
    
    Props luminuu, rmartinezduque, estelaris, jorbin, mukesh27, cbringmann, richtabor, annezazu, nudge, ohia, acirujano, elmastudio, cathibosco1, sereedmedia, markoserb, joen. (Also someone named Allison who I am going to guess is Taylor Alison Swift but has no avatar so I will never know)
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56950 602fd350-edb4-49c9-b593-d223f7449a82

commit c626e637154f175806c4d4bf252c01ec9746a73e
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Mon Oct 16 23:49:10 2023 +0000

    Options, Meta APIs: Prevent saving of invalid timezones.
    
    Prevent the saving of invalid timezone string in to the database on the options pages. If an invalid timezone is submitted it is ignored and the setting remains unchanged.
    
    This prevents a warning or fatal (depending on the PHP version) from being thrown by an invalid timezone setting on the Settings > General page.
    
    Props ankit-k-gupta, costdev, huzaifaalmesbah, mrinal013, nicolefurlan, oglekler.
    Fixes #58814.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56949 602fd350-edb4-49c9-b593-d223f7449a82

commit 6802179d2ce28960a0372899f514429cee322bf5
Author: Aaron Jorbin <jorbin@git.wordpress.org>
Date:   Mon Oct 16 21:46:26 2023 +0000

    CSS: Run grunt `precommit:css` to update CSS.
    
    See: #58869.
    Props peterwilsoncc.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56948 602fd350-edb4-49c9-b593-d223f7449a82

commit 36019306ff808c65dd520a5d8c3451e229b9f844
Author: Joe McGill <joemcgill@git.wordpress.org>
Date:   Mon Oct 16 20:39:19 2023 +0000

    Options, Meta APIs: Delete leftover unit tests.
    
    This is a followup to [56946] to commit the deletion of a leftover PHP Unit file.
    
    See #22192.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56947 602fd350-edb4-49c9-b593-d223f7449a82

commit ccb9ab48347cd41f75aeac0c64614d028a93aaf8
Author: Joe McGill <joemcgill@git.wordpress.org>
Date:   Mon Oct 16 20:35:05 2023 +0000

    Options, Meta APIs: Revert update_option changes.
    
    This reverts changes from [56648], [56681], [56717], [56762], [56788], [56797], and [56814] to restore the behavior for `update_option()` and `update_network_option()` to their prior state as of 6.3.X due to the discovery of various backwards compatibility issues found late in the 6.4 release cycle.
    
    Props mukesh27, costdev, flixos90, spacedmonkey, snicco, jrf, joemcgill.
    See #22192, #59360.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56946 602fd350-edb4-49c9-b593-d223f7449a82

commit f6c0c517062cf4952cd114ca51972fd8b640cfd3
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Mon Oct 16 19:14:55 2023 +0000

    Update editor related npm packages for 6.4 RC1.
    
    The npm packages needed a second part to the update for 6.4 RC1.
    
    Props isabel_brison, andrewserong, jsnajdr, wildworks, joen, mciampini, tyxla, youknowriad, ramonopoly, spacedmonkey, dmsnell, mikachan, kishanjasani, czapla, siobhyb, darerodz, luisherranz
    
    See #59411.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56945 602fd350-edb4-49c9-b593-d223f7449a82

commit 797bb8d6af0aea34a9d5068736f85aa5f95abc67
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Mon Oct 16 16:04:00 2023 +0000

    Build/Test Tools: Downgrade `grunt-contrib-qunit` dependency.
    
    `grunt-contrib-qunit` was upgraded from version `7.0.1` to `8.0.1` in [56647]. However, this update causes a strange failure when running the build script for the Gutenberg plugin when checked out within a `wordpress-develop` checkout.
    
    This reverts the related change in [56647] and downgrades the dependency back to `7.0.1` until the exact reason for the failure is narrowed down.
    
    Props afercia, kevin940726, antonvlasenko, desrosj.
    See #59634, #58863.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56944 602fd350-edb4-49c9-b593-d223f7449a82

commit 1d006a0f571861686ca36d990d1fa29898fbf4c3
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Mon Oct 16 15:15:14 2023 +0000

    General: Remove discouraged `@return void` annotations.
    
    Such `@return void` annotations must not be used in WordPress core's PHP code, except bundled themes, third-party libraries, and PHP compatibility shims.
    
    Props isabel_brison, swissspidy.
    Fixes #59619.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56943 602fd350-edb4-49c9-b593-d223f7449a82

commit 14173bf50d96e9f97434f1a2e51b7ccf45a2c5d6
Author: Pascal Birchler <swissspidy@git.wordpress.org>
Date:   Mon Oct 16 14:32:26 2023 +0000

    Build/Test Tools: Ensure the failed workflow tasks run last for e2e tests.
    
    This is a follow-up to [56926], where this logic has been reintroduced after it was originally removed in [56198].
    
    Props desrosj.
    See #59517.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56942 602fd350-edb4-49c9-b593-d223f7449a82

commit 0f81f441dca0874b58bd2c3200a7102245a188a8
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Oct 16 14:00:01 2023 +0000

    HTML API: Avoid calling subclass method while internally scanning in Tag Processor.
    
    After modifying tags in the HTML API, the Tag Processor backs up to before the tag being modified and then re-parses its attributes. This saves on the code complexity involved in applying updates, which have already been transformed to “lexical updates” by the time they are applied.
    
    In order to do that, `::get_updated_html()` called `::next_tag()` to reuse its logic. However, as a public method, subclasses may change the behavior of that method, and the HTML Processor does just this. It maintains an HTML stack of open elements and when the Tag Processor calls this method to re-scan a tag and its attributes, it leads to a broken stack.
    
    This commit replaces the call to `::next_tag()` with a more appropriate reapplication of its internal parsing logic to rescan the tag name and its attributes. Given the limited nature of what's occurring in `::get_updated_html()`, this should bring with it certain guarantees that no HTML structure is being changed (that structure will only be changed by subclasses like the HTML Processor).
    
    Follow-up to [56274], [56702].
    
    Props dmsnell, zieladam, nicolefurlan.
    Fixes #59607.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56941 602fd350-edb4-49c9-b593-d223f7449a82

commit 9225964063a0609de92268fea28d0aed66d86542
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Mon Oct 16 04:41:13 2023 +0000

    Twenty Thirteen, Twenty Sixteen: Use default display for summary element.
    
    Within the details block, style the `summary` element using the default display, `list-item`, this ensures the toggle icon appears indicating the summary can be expanded or contracted.
    
    Props ankit-k-gupta, nicolefurlan, poena, sabernhardt.
    Fixes #58915.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56940 602fd350-edb4-49c9-b593-d223f7449a82

commit 60cd149b6f8a92f9e9f0f44bf006efcd2c764bce
Author: Colin Stewart <costdev@git.wordpress.org>
Date:   Mon Oct 16 00:05:28 2023 +0000

    Posts, Post Types: Don't force trailing slash in `get_pagenum_link()`.
    
    Previously, a trailing slash was appended to the link returned from `get_pagenum_link()`. If the permalink structure didn't contain a trailing slash, this link could fail.
    
    This change removes trailing slashes and only appends one if the site is set for adding trailing slashes.
    
    This adds a new test file for the accompanying tests, `tests/phpunit/tests/link/getPagenumLink.php`, and moves an existing test for `get_pagenum_link()` to the same file.
    
    Props davemad-davenet, darkfate, Nazgul, scribu, nacin, obenland, chriscct7, jesin, matthewppelsheimer, audrasjb, petitphp, mukesh27, oglekler, mai21, webtechpooja, tejwanihemant, nicolefurlan, hellofromTonya, costdev.
    Fixes #2877.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56939 602fd350-edb4-49c9-b593-d223f7449a82

commit f5e171652f218df3eaa5ef07a978a7588fed01de
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Sun Oct 15 14:53:12 2023 +0000

    Code Modernization: Declare dynamic properties on WP_Text_Diff_Renderer_Table.
    
    Core uses 3 known, named, dynamic properties on the `WP_Text_Diff_Renderer_Table` class:
    
    * `_title`
    * `_title_left`
    * `_title_right`
    
    When reviewing revisions (within the admin UI), `wp_text_diff()` passes the arguments (without the leading `_`) to a new instance, which raised deprecation notices (see [56354]).
    
    Note: the parent class adds the leading `_` to each of these properties (see [7747]).
    
    The deprecation notices are resolved by declaring each of these known, named, dynamic properties on the class, per the #56034 mitigation strategy. These new properties are not initialized to retain their previous `null` behavior.
    
    Follow-up to [56354], [23506], [7747].
    
    Props wildworks, antonvlasenko, hellofromTonya, ironprogrammer, kafleg, mukesh27, nicolefurlan, presskopp, sabernhardt.
    Fixes #59431.
    See #58898, #56034.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56938 602fd350-edb4-49c9-b593-d223f7449a82

commit 39e28173d5c23787e7a9db2dbf60f2f249e13e44
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Sun Oct 15 14:02:34 2023 +0000

    Users: Show "Password reset link sent" message only when finished.
    
    When an admin sends a password reset link to a user (from the Users UI screen), the "finished" UI message:
    
    >Password reset link sent.
    
    is displayed on "finished" and no longer displayed on error.
    
    **What is the change?**
    
    Previously, the conditional (for incrementing the reset counter) checked for a truthy return from `retrieve_password()`. But `retrieve_password()` always returns a truthy state: `true` (meaning "finished") or an instance of `WP_Error`. Thus, checking for a truthy meant the "finished" message was sent on both "finished" and error/failed.
    
    This fix checks for `retrieve_password()` returning `true` to indicate "finished".
    
    **What is displayed on error?**
    
    If `retrieve_password()` returns an instance of `WP_Error`, the following UI message is shown:
    
    >Password reset links sent to 0 users.
    
    The UI messages were not modified by this changeset.
    
    Follow-up to [50129].
    
    Props letraceursnork, prashantbhivsane, audrasjb, costdev, dilipbheda, hareesh-pillai, hellofromTonya, ironprogrammer, huzaifaalmesbah, marybaum, nicolefurlan, oglekler, petitphp, SergeyBiryukov.
    Fixes #58407.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56937 602fd350-edb4-49c9-b593-d223f7449a82

commit 0633814df899694d29e185763776000a933b92fe
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Oct 15 08:07:11 2023 +0000

    Tests: Reset the current user before performing assertions in some comment tests.
    
    This aims to avoid affecting other tests in case of failure.
    
    Follow-up to [54527].
    
    See #58955.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56936 602fd350-edb4-49c9-b593-d223f7449a82

commit 12dc9ca50bfc715f1b17c0e7efb146790cf1fc21
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Oct 14 12:20:25 2023 +0000

    Twenty Nineteen: Correctly display default color names in the color palette.
    
    Instead of displaying the color names, two of the default colors displayed the color code, which was only intended to show when the user has enabled the custom color option in the Customizer.
    
    The reason is that the default value for the option is `false`, and this value is changed to the string `'custom'` if the color option is enabled, and the string `'default'` if the custom color is enabled and then reset to default colors.
    
    This commit adjusts the logic for displaying the color name, to make sure that the string value `'default'` is not compared with `false`, by adding the default value as a parameter to `get_theme_mod( 'primary_color' )`.
    
    Follow-up to [45964].
    
    Props poena, mukesh27, ugyensupport, shailu25, anveshika, harshgajipara, nicolefurlan, syamraj24, balub, vivekawsm.
    Fixes #59566.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56935 602fd350-edb4-49c9-b593-d223f7449a82

commit 9d1c581bf6a11074864d144671cca4ef5e6c39dc
Author: Pascal Birchler <swissspidy@git.wordpress.org>
Date:   Fri Oct 13 20:03:07 2023 +0000

    Build/Test Tools: Do not round percentages when comparing performance test results.
    
    Props joemcgill.
    See #59517.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56934 602fd350-edb4-49c9-b593-d223f7449a82

commit c2409fe80427b30aa9716e573329cbd081819829
Author: Weston Ruter <westonruter@git.wordpress.org>
Date:   Fri Oct 13 18:44:12 2023 +0000

    Script Loader: Move delayed head script to footer when there is a blocking footer dependent.
    
    This prevents a performance regression when a blocking script is enqueued in the footer which depends on a delayed script in the `head` (with `async` or `defer`). In order to preserve the execution order, a delayed dependency must fall back to blocking when there is a blocking dependent. But since it was originally delayed (and thus executes similarly to a footer script), it does not need to be in the head and can be moved to the footer. This prevents blocking the critical rendering path.
    
    Props adamsilverstein, westonruter, flixos90.
    Fixes #59599.
    See #12009.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56933 602fd350-edb4-49c9-b593-d223f7449a82

commit cd3e528f932a425f3362be35770305ef7151365c
Author: Weston Ruter <westonruter@git.wordpress.org>
Date:   Fri Oct 13 17:19:31 2023 +0000

    Script Loader: Enqueue inline style for block template skip link in head instead of footer.
    
    * Introduce `wp_enqueue_block_template_skip_link()` to replace `the_block_template_skip_link()`. Add to `wp_enqueue_scripts` action instead of `wp_footer`.
    * Keep inline script for skip link in footer.
    * Restore original `the_block_template_skip_link()` from 6.3 and move to `deprecated.php`.
    * Preserve back-compat for unhooking skip-link by removing `the_block_template_skip_link` from `wp_footer` action.
    
    Follow-up to [56682] and [56687].
    
    Props sabernhardt, plugindevs, westonruter, spacedmonkey.
    Fixes #59505.
    See #58775.
    See #58664.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56932 602fd350-edb4-49c9-b593-d223f7449a82

commit 8382683459ed5e053c9286a4a73eccf2c1f0f76f
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Fri Oct 13 16:44:09 2023 +0000

    Themes: Clear existing pattern cache when in theme development mode and prevent PHP warning due to missing file.
    
    Follow up to [56765].
    
    Props spacedmonkey, afercia, jrf, flixos90.
    Fixes #59591.
    See #59490.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56931 602fd350-edb4-49c9-b593-d223f7449a82

commit 93782b51775d79d0547c1d551fc236dd4274bbc3
Author: Pascal Birchler <swissspidy@git.wordpress.org>
Date:   Fri Oct 13 12:32:28 2023 +0000

    Build/Test Tools: Fix path check when comparing performance test results.
    
    This is a follow-up to r56926, r56927, r56928.
    
    See #59517.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56930 602fd350-edb4-49c9-b593-d223f7449a82

commit e9375e0679bc2174f4616a21af78e28290347dac
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Oct 13 12:18:19 2023 +0000

    Media: Consistently call the `wp_create_file_in_uploads` hook as a filter.
    
    The filter was initially introduced for file replication purposes. Since the returned value is not always used directly, some instances were later converted to an action as part of removing unused variables, and the hook was documented as an action while still being called as a filter in other instances.
    
    This commit aims to correct the discrepancy between the code and the documentation.
    
    Follow-up to [4673], [4817], [4818], [6363], [6551], [13041], [25821], [33154], [33280].
    
    Props Howdy_McGee, nicolefurlan, johnbillion, mhshujon, SergeyBiryukov.
    Fixes #57775.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56929 602fd350-edb4-49c9-b593-d223f7449a82

commit cadf7128e9ccf1aa19de8e6b7a37e095f65f70ea
Author: Pascal Birchler <swissspidy@git.wordpress.org>
Date:   Fri Oct 13 11:28:16 2023 +0000

    Build/Test Tools: Fix file prefix handling in performance test results.
    
    This is a follow-up to r56926.
    
    See #59517.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56928 602fd350-edb4-49c9-b593-d223f7449a82

commit 64190e8c3eb4e72fce95062ae266cbd8390def4a
Author: Pascal Birchler <swissspidy@git.wordpress.org>
Date:   Fri Oct 13 08:13:58 2023 +0000

    Build/Test Tools: Revert accidental change to `Gruntfile.js`
    
    This is a follow-up to r56926.
    
    See #59517.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56927 602fd350-edb4-49c9-b593-d223f7449a82

commit 5a838d1bb7e6e1f5aa5f7f8e9924cb8fb67982df
Author: Pascal Birchler <swissspidy@git.wordpress.org>
Date:   Fri Oct 13 08:11:41 2023 +0000

    Build/Test Tools: Migrate Puppeteer tests to Playwright.
    
    As per the migration plan shared last year, this migrates all browser-based tests in WordPress core to use Playwright.
    This includes end-to-end, performance, and visual regression tests.
    
    Props swissspidy, mamaduka, kevin940726, bartkalisz, desrosj, adamsilverstein.
    Fixes #59517.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56926 602fd350-edb4-49c9-b593-d223f7449a82

commit ac0bae23596b062d890411a773c6995455ebb488
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Thu Oct 12 23:39:05 2023 +0000

    Query: Cache post parent IDs in `posts` group.
    
    Move the cache of post parent IDs from the dedicated group `post_parents` to `posts`. This maintains backward compatibility for clearing all post object related data by calling `wp_cache_flush_group( 'posts' )`.
    
    Post parent IDs are now cached with with the prefix `post_parent:` in the `posts` group.
    
    Follow up to [56763].
    
    Props spacedmonkey, joemcgill, peterwilsoncc.
    See #59188.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56925 602fd350-edb4-49c9-b593-d223f7449a82

commit 9fb592eaa1c5a6a62e7f6253c4fea35500181654
Author: Aaron Jorbin <jorbin@git.wordpress.org>
Date:   Thu Oct 12 20:47:06 2023 +0000

    Post WordPress 6.4 Beta 4 version bump.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56923 602fd350-edb4-49c9-b593-d223f7449a82

commit 5e7eec332016e9e37885c07244a0e1eb352a2a88
Author: Aaron Jorbin <jorbin@git.wordpress.org>
Date:   Thu Oct 12 20:25:24 2023 +0000

    WordPress 6.4 Beta 4.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56922 602fd350-edb4-49c9-b593-d223f7449a82

commit 33870e19246a54a72f8f3ae0f4d4cb1096306121
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Thu Oct 12 16:39:27 2023 +0000

    Patterns: Don't inject `theme` attribute on frontend.
    
    Having the patterns registry inject the `theme` attribute into all Template Part blocks inside every pattern was found to negatively impact performance. It turns out that it's only required for the editor (i.e. in the REST API) but not on the frontend; there, it's instead possible to fall back to the currently active theme.
    
    The latter change was made to the Pattern and Template Part blocks in https://github.com/WordPress/gutenberg/pull/55217, which was sync'ed to Core in [56849]. Consequently, this changeset removes `theme` attribute insertion from the frontend.
    
    Props flixos90, gziolo, dmsnell, hellofromtonya.
    Fixes #59583.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56896 602fd350-edb4-49c9-b593-d223f7449a82

commit 871a496fb47210ec42c076ab7d44d32fe1454304
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Thu Oct 12 13:55:27 2023 +0000

    Editor: Update npm packages ahead of 6.4 RC1.
    
    Updates the npm packages and code for:
    
    * [https://github.com/WordPress/gutenberg/pull/55121 List: fix forward merging of nested list]
    
    * [https://github.com/WordPress/gutenberg/pull/55182 Update consent string for using private APIs.]
    
    * [https://github.com/WordPress/gutenberg/pull/55204 useBlockSettings: add missing useMemo dependencies]
    
    * [https://github.com/WordPress/gutenberg/pull/55120 Remove the lightbox filter and view file when the lightbox setting is disabled.]
    
    * [https://github.com/WordPress/gutenberg/pull/55245 Patterns: Remove the version enforcement for npm in engines field]
    
    * [https://github.com/WordPress/gutenberg/pull/55237 Remove `@return void` from PHP function docs]
    
    * [https://github.com/WordPress/gutenberg/pull/55141 Image: Disable lightbox editor UI for linked images]
    
    * [https://github.com/WordPress/gutenberg/pull/55269 Image: Stop crashing with Lightbox on image blocks without an image]
    
    * [https://github.com/WordPress/gutenberg/pull/55021 Update fullscreen icon]
    
    * [https://github.com/WordPress/gutenberg/pull/55217 Template Part block: Fall back to current theme if no theme attribute is given.] This change is part of fix for a performance regression re-introduced by [56818].
    
    References:
    * [https://github.com/WordPress/gutenberg/pull/55298 Gutenberg PR 55298] Cherry-pick commits
    
    Follow-up to [56818], [56816].
    
    Props ellatrix, peterwilsoncc, jsnajdr, afercia, gziolo, isabel_brison, artemiosans, richtabor, bernhard-reiter, flixos90, mikachan, spacedmonkey, hellofromTonya.
    See #59583, #59411.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56849 602fd350-edb4-49c9-b593-d223f7449a82

commit 048c80951f589d17b4ec776eedab88956a3d2ebb
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Thu Oct 12 13:25:48 2023 +0000

    Editor: Move footnotes block hooks to `default-filters.php`
    
    Follow up to [56839].
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56845 602fd350-edb4-49c9-b593-d223f7449a82

commit 4846ed69d4ae93cdef19b11e41141686a1726386
Author: Aaron Jorbin <jorbin@git.wordpress.org>
Date:   Thu Oct 12 12:56:38 2023 +0000

    Editor: Harden the display of footnotes.
    
    Props: jorgefilipecosta, peterwilsoncc, costdev, xknown, jorbin.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56839 602fd350-edb4-49c9-b593-d223f7449a82

commit 1077af7544b87cb49fb8499f5c2aead0f8211275
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Oct 12 12:45:49 2023 +0000

    Shortcodes: Restrict ajax handler for media shortcode.
    
    Props tykoted, xknown, peterwilsoncc, antpb, jorbin.
    
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56838 602fd350-edb4-49c9-b593-d223f7449a82

commit ffba0d12a347fb0dd2f3e84b84c44e2bd656f2bf
Author: Aaron Jorbin <jorbin@git.wordpress.org>
Date:   Thu Oct 12 12:39:18 2023 +0000

    Application Passwords: Prevent the use of some pseudo protocols in application passwords.
    
    Props tykoted, xknown, peterwilsoncc, jorbin, timothyblynjacobs, martinkrcho, paulkevan, dd32, ehtis.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56837 602fd350-edb4-49c9-b593-d223f7449a82

commit c445b80b585a8e871e924f1462cfab71f6741967
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Oct 12 12:36:29 2023 +0000

    Comments: Prevent users who can not see a post from seeing comments on it.
    
    Props peterwilsoncc, jorbin, audrasjb.
    
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56836 602fd350-edb4-49c9-b593-d223f7449a82

commit ed821528ee82a71078a491dfdbc30dfc8f7d7170
Author: Aaron Jorbin <jorbin@git.wordpress.org>
Date:   Thu Oct 12 12:32:43 2023 +0000

    Prevent unintended behavior when certain objects are unserialized.
    
    Props ehtis, xknown.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56835 602fd350-edb4-49c9-b593-d223f7449a82

commit 60c3fe8534da1e06001e8df05da2966dd3313317
Author: Aaron Jorbin <jorbin@git.wordpress.org>
Date:   Thu Oct 12 12:29:18 2023 +0000

    REST API: Ensure no-cache headers are sent when methods are ovverriden.
    
    Props tykoted, xknown, ehtis, timothyblynjacobs, peterwilsoncc, rmccue, jorbin.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56834 602fd350-edb4-49c9-b593-d223f7449a82

commit 26007fbc480ced23bd4a7187bbd79dcc84940b33
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Oct 12 12:28:57 2023 +0000

    REST API: Limit `search_columns` for users without `list_users`.
    
    Props Vortfu, jorbin, joehoyle, timothyblynjacobs, peterwilsoncc, ehtis.
    
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56833 602fd350-edb4-49c9-b593-d223f7449a82

commit 698880552ff93394875f56e8118a8511fc6fa398
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Oct 12 10:15:36 2023 +0000

    Twenty Nineteen: Add margins to editor iframe content.
    
    At screen widths of at least 768px (tablet size), Twenty Nineteen should have a `max-width` and side margins for content in the post editor.
    
    This commit applies that style to the new `.block-editor-iframe__body` class, resolving an issue where full-width blocks had a horizontal scrollbar in the editor iframe.
    
    Props sabernhardt, smit08, nidhidhandhukiya, mukesh27, darshitrajyaguru97, oglekler, poena, shailu25, nicolefurlan.
    Fixes #59449.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56832 602fd350-edb4-49c9-b593-d223f7449a82

commit a8d53284d3d14a390e454f87801a5430674b2f44
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Wed Oct 11 18:07:45 2023 +0000

    Build/Test Tools: Remove hardcoded PHPUnit config files.
    
    The configuration file passed to the callable workflow contains the correct one to use.
    
    See #58955.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56831 602fd350-edb4-49c9-b593-d223f7449a82

commit 0ee1aebea60f644e86b626061bd846922b23b9c0
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Wed Oct 11 17:13:12 2023 +0000

    Build/Test Tools: Increase the timeout for the failed workflow.
    
    Following [56829], the previous `timeout-minutes` value of `5` is insufficient when approaching 10 retries.
    
    See #58867.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56830 602fd350-edb4-49c9-b593-d223f7449a82

commit 0b99e283b2b651ddb9c17984f2816704391614b5
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Wed Oct 11 15:54:52 2023 +0000

    Build/Test Tools: Increase the number of retries when restarting a workflow.
    
    This increases the number of times to retry restarting a workflow from 2 to 10. Retries use exponential backoff to space out retries.
    
    In most cases, only 2 retries was sufficient. However, there are occasionally scenarios where the original workflow is still running and cannot be restarted, resulting in an error. This typically happens during periods of ongoing service degradation, or workflows with a significant number of jobs (GitHub Actions is sometimes very slow to mark these as finished).
    
    See #58867.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56829 602fd350-edb4-49c9-b593-d223f7449a82

commit bb4ab816b5c2bc5b821fb028eea9e0fe05e75a13
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Wed Oct 11 15:14:01 2023 +0000

    Editor: Add further test coverage for `wp_render_elements_support()`.
    
    Props dmsnell, aaronrobertshaw.
    Fixes #59578.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56828 602fd350-edb4-49c9-b593-d223f7449a82

commit ce8aed4698117fd0f8c362825e62d01586c8799d
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Wed Oct 11 12:15:18 2023 +0000

    Build/Test Tools: Don’t send Slack notification for workflow retries.
    
    [56780] changed Slack failure notifications to not send a failure notification during the first run of a workflow. Because workflows automatically restart once, a failure during the first run can be ignored.
    
    This adjusts the workflow to also not send a “fixed” notification when the second run of a workflow succeeds after a failure. Because the original failure is no longer reported, these notifications are unnecessary.
    
    See #58867.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56827 602fd350-edb4-49c9-b593-d223f7449a82

commit 80931f0c2d1dd962488cb192de3d7fa186c4881f
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Oct 11 10:41:50 2023 +0000

    Help/About: Ensure that focus outline on the Credits screen is not cut off.
    
    Props ivanzhuck, oglekler, wildworks, dhrumilk, audrasjb, tejadev, ankit-k-gupta, sumitbagthariya16, mukesh27, marybaum.
    Fixes #59033.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56826 602fd350-edb4-49c9-b593-d223f7449a82

commit d95c0e1c79739b3360c50821ee215cda343e0cbc
Author: Colin Stewart <costdev@git.wordpress.org>
Date:   Wed Oct 11 07:03:04 2023 +0000

    Docs: Use US spelling and correct a typing mistake.
    
    This changes two inline comments and a docblock so that they use US spelling as advised by the Core Handbook's Best Practices. A typing mistake is also corrected.
    
    Reference:
    - [https://make.wordpress.org/core/handbook/best-practices/spelling/ Core Handbook - Best Practices - Spelling].
    
    Follow-up to [18632], [38120], [44954].
    
    Props kebbet, mukesh27.
    See #58833.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56825 602fd350-edb4-49c9-b593-d223f7449a82

commit 9cccbc592bb8bc8f8c2e6727075ef859b47afc45
Author: Colin Stewart <costdev@git.wordpress.org>
Date:   Wed Oct 11 04:32:00 2023 +0000

    Plugins: Fix broken `sprintf()` call in plugins list table.
    
    In [56599], a `sprintf()` call was modified which resulted in an insufficient number of arguments.
    This caused a Fatal Error when an incompatible plugin notice was displayed.
    
    This fixes the `sprintf()` call.
    
    Follow-up to [56599].
    
    Props petitphp, TobiasBg, sabernhardt, mukesh27.
    Fixes #59590. See #57791.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56824 602fd350-edb4-49c9-b593-d223f7449a82

commit f19b20e5b602b7654d8083c21bb5deea89535a1d
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Tue Oct 10 17:30:13 2023 +0000

    Build/Test Tools: Correct variable typo.
    
    This was causing the version of WordPress being tested to be listed as `latest` even when that is not the case.
    
    Props davidbaumwald.
    See #58977.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56823 602fd350-edb4-49c9-b593-d223f7449a82

commit 537dd8d44f03ce12e6971351fce4631062e92e8c
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Tue Oct 10 16:34:07 2023 +0000

    Post WordPress 6.4 Beta 3 version bump.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56822 602fd350-edb4-49c9-b593-d223f7449a82

commit efabd4cef857d63232c71ef1b38bc7be13caea2a
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Tue Oct 10 16:12:04 2023 +0000

    WordPress 6.4 Beta 3.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56821 602fd350-edb4-49c9-b593-d223f7449a82

commit 75532c305099ff5ef0d0138b0cef7601ca2f2da7
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Tue Oct 10 15:05:34 2023 +0000

    Update/Install: Deactivate Gutenberg plugin version older than 16.5.
    
    This commit changes the Gutenberg minimum compatible version number from 14.1 (introduced in [54790]) to 16.5. For versions older than 16.5, the plugin will deactivate when upgrading WordPress to 6.4-beta3 or newer.
    
    Changes are done within Core's `_upgrade_core_deactivate_incompatible_plugins()` which is invoked during WordPress' upgrade process.
    
    Follow-up to [54790].
    
    Props hellofromTonya, spacedmonkey.
    Fixes #59584.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56820 602fd350-edb4-49c9-b593-d223f7449a82

commit 1f51e1f4f6c81238fffed706ff165795ea34d522
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Tue Oct 10 14:03:03 2023 +0000

    REST API: Fix issue with Template and Template Part Revision/Autosave REST API controllers.
    
    The Template and Template Part REST API controllers have unique characteristics compared to other post type REST API controllers. They do not rely on integer IDs to reference objects; instead, they use a combination of the theme name and slug of the template, like 'twentytwentyfour//home.' Consequently, when the post types template and template part were introduced in [52062], it led to the registration of REST API endpoints for autosaves and revisions with invalid URL structures.
    
    In this commit, we introduce new functionality to enable custom autosave and revisions endpoints to be registered at the post type level. Similar to the 'rest_controller_class' parameter, developers can now define 'revisions_rest_controller' and 'autosave_rest_controller.' This empowers developers to create custom controllers for these functionalities. Additionally, we introduce a 'late_route_registration' parameter, which proves helpful when dealing with custom URL patterns and regex pattern matching issues.
    This commit registers new classes for template and template part autosave and revisions controllers, differentiating them from standard controllers in the following ways:
    * The response shape now matches that of the template controller.
    * Permission checks align with the template controller.
    * A custom URL pattern is introduced to support slug-based identification of templates.
    
    Furthermore, we've updated the utility function '_build_block_template_result_from_post' to support passing revision post objects. This enhancement ensures compatibility with the custom revisions controller.
    
    Props spacedmonkey, revgeorge, andraganescu, hellofromTonya, antonvlasenko, kadamwhite, ironprogrammer, costdev, mukesh27, timothyblynjacobs, adamsilverstein.
    Fixes 56922.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56819 602fd350-edb4-49c9-b593-d223f7449a82

commit a9bb470f8b20fb10848666942ac55b796cf6f9bc
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Tue Oct 10 13:19:42 2023 +0000

    Patterns: Inject `theme` attribute into Template Part blocks.
    
    [56805] introduced a regression: The `theme` attribute was no longer injected into Template Part blocks inside of patterns. This caused errors on the frontend, where instead of a given template part, an error message such as `Template part has been deleted or is unavailable: header` was seen.
    
    This changeset rectifies that problem, and adds unit test coverage to guard against future regressions.
    
    Follow-up to [56805].
    Props scruffian, gziolo.
    Fixes #59583.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56818 602fd350-edb4-49c9-b593-d223f7449a82

commit 4984081ef6a976396d709f576195906de4ac0bac
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Tue Oct 10 12:50:19 2023 +0000

    Options, Meta APIs: Check setting group exists before search in unregister_setting().
    
    Checks if the given `$option_group` exists before searching for the `$option_name`. Sets the `$pos` to `false`, as `array_search()` returns `false` if the option name (needle) does not exist.
    
    This changeset fixes 2 different PHP Warning|Notice scenarios:
    1. When the global `$new_allowed_options` is `null`, fixes raising `Trying to access array offset on value of type null` PHP Notice (PHP 7.4) | Warning (on PHP 8).
    
    2. When the global `$new_allowed_options` is an `array` and the setting group key does not exist, fixes raising "Undefined index: unknown_setting_group" PHP Notice (PHP 7) | Warning (on PHP 8).
    
    For both scenarios, the `array_search()` is skipped and the `$pos` is set to a default of `false`, i.e. which is the value returned when `array_search()` is unsuccessful.
    
    Props xknown, hellofromTonya, nicolefurlan, oglekler, SergeyBiryukov, shailu25.
    Fixes #57674.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56817 602fd350-edb4-49c9-b593-d223f7449a82

commit 33d124299255e7f7faa3f2dbb5f1c6bb43f9b0f4
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Tue Oct 10 11:27:50 2023 +0000

    Update editor related npm packages for beta 3 second part.
    
    The npm packages needed a second part to the update for beta 3 in preparation for 6.4.
    
    Props talldan, ellatrix, santosguillamot, ramonopoly, andrewserong, artemiosans, isabel_brison, mikachan.
    
    See #59411.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56816 602fd350-edb4-49c9-b593-d223f7449a82

commit 8c146ecb33a3c21fe34ad5d4687da3a6235b6a5e
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Oct 10 11:20:28 2023 +0000

    Query: Ensure that the `page` parameter is scalar in `WP_Query::get_posts()`.
    
    The `page` query var only accepts a scalar value and passes the value through functions that assume a scalar value.
    
    Adding an extra guard condition does not affect its functionality but does avoid a PHP fatal error for `trim()` when a non-scalar value such as an array is passed.
    
    Follow-up to [2535], [53891].
    
    Props brookedot, rlmc, mukesh27, SergeyBiryukov.
    Fixes #56558.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56815 602fd350-edb4-49c9-b593-d223f7449a82

commit 94d2f4e68be97a24f4b588551e30bcf5339c5b15
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Tue Oct 10 09:35:09 2023 +0000

    Options, Meta APIs: Prevent unnecessary database updates caused by strict comparisons in update_network_option.
    
    Previously, in the update_network_option function, strict comparisons between old and new values could erroneously trigger updates in cases where there was no actual change in values. Building upon the groundwork laid in #22192, this commit introduces the use of the _is_equal_database_value function to accurately compare values before initiating any database updates. This change ensures consistency between the behaviors of `update_option` and `update_network_option`.
    
    Furthermore, we have incorporated similar workarounds that were previously implemented in [56717]. These changes ensure that the raw version of network option values is considered in the comparisons, enhancing the overall reliability of the update process.
    
    Props mukesh27, flixos90, joemcgill, costdev, spacedmonkey.
    Fixes #59360.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56814 602fd350-edb4-49c9-b593-d223f7449a82

commit c300c89f547316c51572f317025dda7b069334dc
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Tue Oct 10 09:01:25 2023 +0000

    Changes to TT4 for beta 3.
    
    Updates TT4 with additional changes ready for beta 3.
    
    Props jessplease, pbwebd, poena, afercia, luminuu, beafialho, onemaggie, mhkuu,  richtabor,  benoitchantre.
    
    Close #59575.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56813 602fd350-edb4-49c9-b593-d223f7449a82

commit e3b7ab1897bb304bda4ddd58abac245d27b11aec
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Tue Oct 10 03:41:38 2023 +0000

    Editor: fix incorrect block custom CSS output.
    
    Fixes output of block custom CSS when multiple rules require a descendant selector.
    
    Props wildworks, mikachan.
    Fixes #59499.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56812 602fd350-edb4-49c9-b593-d223f7449a82

commit 33b32ebc4ee8cdc577792c40ee47736394442dc4
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Mon Oct 9 23:01:15 2023 +0000

    Query: Rename `_prime_post_parents_caches()` for clarity.
    
    Change the name of `_prime_post_parents_caches()` to `_prime_post_parent_id_caches()` to make it clearer only the parent post ID is cached rather than the entire post parent object.
    
    Follow up to [56763].
    
    Props spacedmonkey, joemcgill, peterwilsoncc.
    See #59188.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56811 602fd350-edb4-49c9-b593-d223f7449a82

commit 93cc3b17a0a6f8f89a20cabc92eaeea2d44fd1b8
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Mon Oct 9 23:00:11 2023 +0000

    Administration: Fix unusable mobile admin menu in Safari.
    
    Replace the `focusout` event handler added in [55326] with a combination of `blur` and `keyup` handler. This change handles Safari not setting focus on clicked elements.
    
    Props afercia, joedolson, travel_girl, oglekler, rajinsharwar, marybaum, rcorrales, binsaifullah, shubhamsedani, ashikur698.
    Fixes #58912.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56810 602fd350-edb4-49c9-b593-d223f7449a82

commit fbe3732917c9265bc7de76544a2d45572d2f7372
Author: Weston Ruter <westonruter@git.wordpress.org>
Date:   Mon Oct 9 21:29:42 2023 +0000

    Administration: Remove deprecated `unload` event handlers and use `pagehide` (and `pageshow`) when appropriate.
    
    Use `pagehide` event instead of `unload` in the following cases:
    
    * For classic editor to release the post lock.
    * In Text widget to rebuild editor after dragging widget to new location in classic widgets interface.
    * To clear out the `window.name` when navigating away from a post preview.
    * To suspend heartbeat, while also using `pageshow` event to resume as if it had been a focused tab in case page restored from bfcache.
    
    Also:
    
    * Remove obsolete mobile cleanup code in `js/_enqueues/lib/gallery.js` (introduced in [9894]). Do same for `src/js/_enqueues/wp/media/models.js` (introduced in [22872]). See #22552.
    * Remove obsolete Firefox-specific workaround in `js/_enqueues/wp/mce-view.js` from [39282]. See #38511.
    
    Fixes #55491.
    Props spenserhale, westonruter, adamsilverstein, azaozz, shawfactor, peterwilsoncc, swissspidy.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56809 602fd350-edb4-49c9-b593-d223f7449a82

commit 9ec564607c3f9b63d564e47f87609742f4a08b2b
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Mon Oct 9 17:21:30 2023 +0000

    Update npm packages to latest versions for 6.4 beta 3.
    
    The npm packages needed a further update for beta 3 in preparation for 6.4.
    
    Props @richtabor, @mmaattiiaass, @tellthemachines, @mamaduka, @swissspidy, @scruffian, @andraganescu, @andrewserong, @mujuonly, @get_dave, @ntsekouras, @carlosgprim, @ramonopoly, @jameskoster, @wildworks, @aaronrobertshaw, @czapla, @santosguillamot, @artemiosans, @afercia, @glendaviesnz, @kevin940726, @mikachan, @siobhyb.
    
    See #59411.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56808 602fd350-edb4-49c9-b593-d223f7449a82

commit 41cf9f0a38ae2bb2136102f2394ff883bbd4085f
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Mon Oct 9 17:05:31 2023 +0000

    Editor: Improve performance of `wp_render_elements_support()`.
    
    By skipping iterations in block supports when not necessary, this changeset improves performance of the function notably.
    
    The performance enhancement leads to even a notable improvement for overall page load time: For example, the Twenty Twenty-Four home page loads ~2% faster with this changeset.
    
    Props dmsnell, spacedmonkey, costdev, hellofromTonya, aaronrobertshaw.
    Fixes #59544.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56807 602fd350-edb4-49c9-b593-d223f7449a82

commit 4d5859bececc8b451ca95108d942f2a870bdf806
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Mon Oct 9 16:38:26 2023 +0000

    Editor: Add additional unit tests for elements block support.
    
    Props aaronrobertshaw, costdev.
    Fixes #59555.
    See #59544.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56806 602fd350-edb4-49c9-b593-d223f7449a82

commit 9d039e6c911d2479453cb26f6895249f0d40fa23
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Mon Oct 9 16:38:25 2023 +0000

    Blocks: Call `get_hooked_blocks` only once per template/part/pattern.
    
    Prior to this changeset, `get_hooked_blocks` was called four times ''for every parsed block'' in each template, template part, and pattern. With this changeset applied, `get_hooked_blocks` is called only once per template, template part, or pattern.
    
    Additionally, `get_hooked_blocks` is called only once when returning the list of all registered patterns. (The latter modification brings the implementation closer to its state prior to Block Hooks.)
    
    Finally, when there are no registered hooked blocks or `hooked_block_types` filters, parsing, hooked block insertion, and re-serializing is skipped altogether.
    
    Props gziolo, flixos90, joemcgill, dmsnell, spacedmonkey, hellofromtonya.
    Fixes #59383.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56805 602fd350-edb4-49c9-b593-d223f7449a82

commit a55dcf46b8d3ce93affed8fbeb9c6a2645157f3f
Author: K. Adam White <kadamwhite@git.wordpress.org>
Date:   Mon Oct 9 14:47:57 2023 +0000

    REST API: Correct parsing of password from Authorization header when processing Application Password credentials.
    
    Exit early when parsing Application Password credentials if Authorization header value does not contain at least one colon. The `Authorization` Basic header must use a colon to separate the username and password components per RFC 7617, so a username-only string is malformed and should not be processed.
    
    Split `Authorization` header only on the first colon, properly handling passwords containing colons.
    
    Resolves PHP 8.0 warning when `list()` was called on an exploded credentials array containing only one element.
    
    Props kalpeshh, shooper, sc0ttkclark, jrf, mukesh27, oglekler, nicolefurlan.
    Fixes #57512.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56804 602fd350-edb4-49c9-b593-d223f7449a82

commit 4c059cca12a443355a63d269f8376effe6c4d217
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Oct 9 11:21:30 2023 +0000

    Code Modernization: Update parameter names in the `WP_Block_List` class.
    
    This makes the parameter names consistent with the `ArrayAccess` interface.
    
    Reference: [https://www.php.net/manual/en/class.arrayaccess.php PHP Manual: The ArrayAccess interface].
    
    Follow-up to [48159].
    
    Props rahmohn.
    See #58976.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56803 602fd350-edb4-49c9-b593-d223f7449a82

commit eb0ae5679a3477c4507b09a283c05b67b87130ab
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Sun Oct 8 20:08:08 2023 +0000

    Quick/Bulk Edit: Fix inability to quick edit draft post date.
    
    Follow up to [56022] to fix inability to set a date/time in quick editing. Allow a user to set a quick/edit date while preventing accidental date assignments per the original intent.
    
    Props tristanleboss, ivanzhuck, tibbsa, sabernhardt, sergeybiryukov, oandregal, khokansardar, joedolson, shailu25.
    Fixes #59125. See #19907.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56802 602fd350-edb4-49c9-b593-d223f7449a82

commit 662e1c639fea7408c6175f82b54cfef374d834ac
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Sun Oct 8 18:19:53 2023 +0000

    Upload: Fix misalignment of 'Copied' message.
    
    Add `display: flex` to `.copy-to-clipboard-container` to fix alignment of elements within the container.
    
    Props sujichandran14, oglekler, sarathar, huzaifaalmesbah, nicolefurlan, joemcgill, dkotter.
    Fixes #58829.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56801 602fd350-edb4-49c9-b593-d223f7449a82

commit 1e3214a977966da273d1633d71fb2676364f1d5c
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Sun Oct 8 17:54:21 2023 +0000

    Administration: Add missing space in theme activation notices.
    
    Restore missing space in two admin notices during theme activation.
    
    Props shailu25, sergeybiryukov, mukesh27, hellofromtonya.
    Fixes #59501. See #57791.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56800 602fd350-edb4-49c9-b593-d223f7449a82

commit 9b2ed59437441459adae547cac32b3a31d1a9d30
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Oct 8 13:07:46 2023 +0000

    Coding Standards: Upgrade WPCS to version 3.0.1.
    
    In WordPressCS 3.0.0, the functionality of the `WordPress.Security.EscapeOutput` sniff was updated to report unescaped message parameters passed to exceptions created in `throw` statements. This specific violation now has a separate error code: `ExceptionNotEscaped`. This will allow users to ignore or exclude that specific error code.
    
    The error code(s) for other escaping issues flagged by the sniff remain unchanged.
    
    References:
    * [https://github.com/WordPress/WordPress-Coding-Standards/releases/tag/3.0.1 WPCS 3.0.1 release notes]
    * [https://github.com/WordPress/WordPress-Coding-Standards/compare/3.0.0...3.0.1 Full list of changes in WPCS 3.0.1]
    
    Follow-up to [56695].
    
    Props jrf, bjorsch, dawidurbanski.
    See #59161.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56799 602fd350-edb4-49c9-b593-d223f7449a82

commit f0b32ccf634f8b8ba3393cbb4cefe6acb5ee2fb9
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Oct 7 13:53:10 2023 +0000

    Coding Standards: Correct alignment in `wp-admin/user-edit.php`.
    
    This resolves a WPCS warning:
    {{{
    Array double arrow not aligned correctly;
    expected 1 space(s) between "'type'" and double arrow, but found 15.
    }}}
    
    Follow-up to [56570], [56680].
    
    Props jrf.
    See #59161, #58831.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56798 602fd350-edb4-49c9-b593-d223f7449a82

commit 36d4e7ebcc2deb9ec9de7f4ffc4161135f87d1c5
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Fri Oct 6 17:01:48 2023 +0000

    Options, Meta APIs: Add test coverage for `update_network_option()` comparison of new and existing value.
    
    Having those tests in `trunk` already will help ensure potential future fixes to this logic maintain backward compatibility.
    
    Props mukesh27, spacedmonkey.
    See #59360.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56797 602fd350-edb4-49c9-b593-d223f7449a82

commit cc64ed22bde2db59dd6185b4d71d01883af609d9
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Fri Oct 6 16:31:22 2023 +0000

    Options, Meta APIs: Fix bug with `update_option()` updating the wrong cache, leading to potentially stale values being returned.
    
    When using the `$autoload` parameter of `update_option()` alongside an option value update, prior to this changeset the function would update the incorrect cache, not respecting the new autoload value. This could have severe implications such as returning a stale option value when the option in fact had already been deleted.
    
    This changeset fixes the bug alongside test coverage that failed with `trunk` but now passes.
    
    Props kkmuffme, pentatonicfunk, SergeyBiryukov, oglekler, azaozz, spacedmonkey, nicolefurlan, joemcgill, flixos90.
    Fixes #51352.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56796 602fd350-edb4-49c9-b593-d223f7449a82

commit 478cd02dfe64a60b0125374bbe03f119db0644fa
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Oct 6 14:04:22 2023 +0000

    Editor: Move `wp_navigation` schema updating to `WP_Navigation_Fallback` class.
    
    This aims to better align the navigation fallback implementation with core architecture and best practices.
    
    The function that updates the `wp_navigation` post response schema is now a public method of the `WP_Navigation_Fallback` class, so an extra file previously used for that specific function is no longer necessary.
    
    Follow-up to [56052].
    
    Props ramonopoly, scruffian, isabel_brison, mukesh27, swissspidy, rajinsharwar, afercia, audrasjb, mikeschroder, JeffPaul, johnjamesjacoby, TimothyBlynJacobs, oglekler, SergeyBiryukov.
    Fixes #58910.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56793 602fd350-edb4-49c9-b593-d223f7449a82

commit 987ea9bbf80abe3945d2cb117ef64f36f02dc560
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Fri Oct 6 12:45:43 2023 +0000

    Build/Test Tools: Check for zero-byte files in themes.
    
    Because the contents of binary files are not included in patches by default, occasionally empty versions of these files are committed on accident. This is the most commonly happens within default themes because they usually contain image and font files.
    
    This adds a job to the theme related GitHub Action workflow that checks for the presence of zero-byte files so that these instances are caught more easily.
    
    Props costdev, hellofromTonya, luminuu, onemaggie.
    Fixes #59527.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56792 602fd350-edb4-49c9-b593-d223f7449a82

commit 64b699e8e31fbff60c1a4cf51a70cbdcbb794d7b
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Oct 5 22:44:03 2023 +0000

    Twenty Twenty-Three: Add missing font licenses in `readme.txt` file.
    
    Props benimub.
    Fixes #59483.
    
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56791 602fd350-edb4-49c9-b593-d223f7449a82

commit 7c12150a806259de6dc1ea150f14250dfd8bdc21
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Oct 5 22:40:48 2023 +0000

    HTML API: Rename `WP_HTML_Processor::createFragment()` to follow WPCS.
    
    `WP_HTML_Processor::create_fragment()` is the correct method name as per the WordPress PHP coding standards.
    
    Follow-up to [56274].
    
    Props dmsnell, jrf, hellofromTonya, SergeyBiryukov.
    Fixes #59547.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56790 602fd350-edb4-49c9-b593-d223f7449a82

commit b77b8fd822bcfb5c1e76f1b04c2b9af114039e80
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Thu Oct 5 16:13:38 2023 +0000

    Options, Meta APIs: Fix minor compatibility issue with `update_option()` change.
    
    When calling `update_option()` with value `false` on a non-existent option, prior to [56681] the function would have returned `false` and not stored the value in the database, since the given value was the same as the default.
    
    The aforementioned changeset broke that promise with good intention, however this particular change was a backward compatibility break and therefore is resolved here.
    
    Props mukesh27, costdev.
    Fixes #22192.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56788 602fd350-edb4-49c9-b593-d223f7449a82

commit 23c811e59fe3a634800e3672df7dc8d45556ae6a
Author: Joe McGill <joemcgill@git.wordpress.org>
Date:   Wed Oct 4 22:21:17 2023 +0000

    Themes: Fix core block style paths on Windows.
    
    This is a follow-up to [56528], which normalizes the `BLOCKS_PATH` for Windows prior to making paths relative for caches during the registration process. Prior to this change, incorrect file paths would lead to broken styles for core blocks on Windows.
    
    Props wildworks, pbiron, flixos90, joemcgill.
    Fixes #59489. See #59111.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56785 602fd350-edb4-49c9-b593-d223f7449a82

commit 89da2ff3a918ac6f4759d5efa139bf78c6b73ff4
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Wed Oct 4 20:54:34 2023 +0000

    Twenty Twenty: Fix style issues within iframed editor.
    
    This changeset:
    - Replaces `body` with `html` for the first CSS selector that makes text white against a dark background
    - Moves `twentytwenty_block_editor_styles()` from the `enqueue_block_editor_assets` action to `enqueue_block_assets` for WordPress 6.3 and later
    - Removes the obsolete `twentytwenty-block-editor-script` from the styles function to avoid an error in the iframe
    
    Props floydwilde, poena, huzaifaalmesbah, greenshady, sabernhardt, audrasjb, pooja1210, shailu25, joemcgill.
    Fixes #59086.
    
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56783 602fd350-edb4-49c9-b593-d223f7449a82

commit 0d844c1c345a8b851aeb3cef0db65f0f4d29de70
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Wed Oct 4 19:12:15 2023 +0000

    Build/Test Tools: Don’t send a Slack notice for a workflow’s first failure.
    
    After [53947], all workflows will automatically be restarted once in an attempt to rule out reasons for failures, such as timeouts or network hiccups.
    
    Second attempt at [56404], which was previously reverted in [56407].
    See #58867.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56780 602fd350-edb4-49c9-b593-d223f7449a82

commit 058cd259bcfba8edc8944827bcb228811c7e1ba3
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Wed Oct 4 19:01:49 2023 +0000

    Editor: Fix wrong `@since` mention in `remove_insecure_properties()`.
    
    Follow-up to [56502].
    
    See #59108.
    
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56778 602fd350-edb4-49c9-b593-d223f7449a82

commit ddbce71885266480e16a4a12077b76e496505944
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Wed Oct 4 17:00:12 2023 +0000

    Twenty Twenty-Four: Fix 6.4 Beta 2 image assets.
    
    Fixes the image assets from [56764] for the images to properly render.
    
    Adds binary file contents (resolves 0 bytes issue) and svn:mime-type property:
    * abstract-geometric-art.webp
    * building-exterior.webp
    * hotel-facade.webp
    * museum.webp
    * tourist-and-building.webp
    * windows.webp
    
    Updates the binary file contents for renamed images:
    * angular-roof.webp
    * art-gallery.webp
    * green-staircase.webp
    
    Follow-up to [56764].
    
    Unprops hellofromTonya.
    Props onemaggie, luminuu, colorful-tones, desrosj, mukesh27, nendeb55, nicolefurlan, satishprajapati, shailu25.
    Fixes #59526.
    See #59524.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56775 602fd350-edb4-49c9-b593-d223f7449a82

commit 5fce177861e6994e0069b7bd638e93e29c1a5526
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Oct 4 15:10:56 2023 +0000

    Docs: Use 3-digit, x.x.x style semantic versioning for two `@since` entries.
    
    Follow-up to [41626], [56541].
    
    See #58833.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56774 602fd350-edb4-49c9-b593-d223f7449a82

commit 5a58e171d4fc86779dd23151d81793e2d6e29900
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Wed Oct 4 12:14:50 2023 +0000

    Docs: Improve documentation for _prime_post_parents_caches().
    
    Add in missing since PHPDoc block for `_prime_post_parents_caches` function added in [56763].
    
    Props mukesh27.
    See #59188
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56773 602fd350-edb4-49c9-b593-d223f7449a82

commit d9edabf016c1e7d4251751b7c46e4a5f3493f2ad
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Oct 4 12:12:56 2023 +0000

    Twenty Fourteen: Correct `@since` entry for an authors list query arguments filter.
    
    Follow-up to [51943].
    
    See #58833.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56772 602fd350-edb4-49c9-b593-d223f7449a82

commit d8206d2167f2c082258f31db163289bae3682e06
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Tue Oct 3 18:17:03 2023 +0000

    Editor: Simplify return shape and logic of `_wp_get_block_patterns()`.
    
    Follow up to [56765].
    
    Props spacedmonkey.
    Fixes #59490.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56771 602fd350-edb4-49c9-b593-d223f7449a82

commit e624c1278a31a3fe95eaee8ba8cc0e14790f568b
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Tue Oct 3 18:11:01 2023 +0000

    Build/Test Tools: Test Twenty Twenty-Four.
    
    This adds Twenty Twenty-Four to the Default Theme test workflow in GitHub Actions.
    
    Follow up to [56764], [56726], [56721], [56716].
    See #59447.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56770 602fd350-edb4-49c9-b593-d223f7449a82

commit 046ce88332c6dfdd1521fef8a76aaab1993d5ad3
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Tue Oct 3 17:07:21 2023 +0000

    Post WordPress 6.4 Beta 2 version bump.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56769 602fd350-edb4-49c9-b593-d223f7449a82

commit 8c74bce2e456421f1460a84fba5bbbf2aecf2282
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Tue Oct 3 16:30:41 2023 +0000

    WordPress 6.4 Beta 2.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56768 602fd350-edb4-49c9-b593-d223f7449a82

commit 17e518ae0e85133c1214a9f85dff2e949cf08cf0
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Oct 3 16:13:43 2023 +0000

    Docs: Improve documentation for `get_avatar()` and related functions.
    
    Includes:
    * Expanding and synchronizing documentation for the `default` and `rating` arguments.
    * Adding `@since` entries for the `loading`, `fetchpriority`, and `decoding` arguments.
    * Wrapping long lines as per the documentation standards.
    * Fixing a typo in the `identicon` value.
    * Minor formatting edits for consistency.
    
    Follow-up to [31107], [45632], [47554], [53480], [56037].
    
    See #58833.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56767 602fd350-edb4-49c9-b593-d223f7449a82

commit 1a30f7d2fa561f148462c80f945ec965599760a8
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Tue Oct 3 15:42:06 2023 +0000

    Query: Fix a PHPCS issue in `_prime_post_parents_caches()` tests.
    
    Removes an extraneous line break in the `_prime_post_parents_caches()` tests.
    
    Follow-up to [56763].
    
    Unprops spacedmonkey.
    Props mukesh27, costdev.
    See #59188.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56766 602fd350-edb4-49c9-b593-d223f7449a82

commit 3ad20183b0f54b79ae7a2bbf449ea523d50fd687
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Tue Oct 3 15:16:55 2023 +0000

    Editor: Improve performance of _register_theme_block_patterns function.
    
    The `_register_theme_block_patterns` function imposed a significant resource overhead. This issue primarily stems from themes, such as TT4, that register a substantial number of block patterns. These patterns necessitate numerous file operations, including file lookups, file reading into memory, and related processes. To provide an overview, the _register_theme_block_patterns function performed the following file operations:
    
    - is_dir
    - is_readable
    - file_exists
    - glob
    - file_get_contents (utilized via get_file_data)
    
    To address these issues, caching using a transient has been added to a new function call `_wp_get_block_patterns`. If theme development mode is disabled and theme exists, the block patterns are saved in a transient cache. This cache is used all requests after that, saving file lookups and reading files into memory. Cache invalidation is done, when themes are switched, deleted or updated. Meaning that block patterns are not stored in the cache incorrectly.
    
    Props flixos90, joemcgill, peterwilsoncc, costdev, swissspidy, aristath, westonruter, spacedmonkey.
    Fixes #59490
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56765 602fd350-edb4-49c9-b593-d223f7449a82

commit d5505fc3b3c89fb6cbbb031734ddb903258c6cb9
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Tue Oct 3 15:12:30 2023 +0000

    Bundled Themes: Update TT4 for 6.4 Beta 2.
    
    Twenty Twenty-Four (TT4) updates for 6.4 Beta 2.
    
    Changes include bugfixes from the theme's development repo since Beta 1 such as:
    * Renamed patterns and images
    * Improved image descriptions
    * Polished a few of the templates to fit better the design
    * Addressed some a11y concerns.
    * Changed the required version to 6.4, aligning it with the last few default themes since we are making use of some of the features that will make it to 6.4, such as aspect ratio.
    
    Follow-up to [56726], [56721], [56716].
    
    Props onemaggie, desrosj, mukesh27.
    Fixes #59524.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56764 602fd350-edb4-49c9-b593-d223f7449a82

commit 6ee34689ca8a3336cd7fe4bbde552380564cfee6
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Tue Oct 3 14:59:22 2023 +0000

    Query: Improve caching behavior for WP_Query when retrieving id=>parent fields
    
    In [53941], the addition of query caching to `WP_Query` brought about an unintended issue when querying for fields equal to id=>parent. Specifically, on websites with object caching enabled and a substantial number of pages, the second run of this query triggered the `_prime_post_caches` function for id=>parent. This led to the unnecessary priming of post, meta, and term caches, even when only id and parent information were requested.
    
    This commit addresses this issue by introducing a new function, `_prime_post_parents_caches`, which primes a dedicated cache for post parents. This cache is primed during the initial query execution. Subsequently, the `wp_cache_get_multiple` function is employed to retrieve all post parent data in a single object cache request, optimizing performance.
    
    Additionally, this commit extends the coverage of existing unit tests to ensure the reliability of the changes.
    
    Props kevinfodness, joemcgill, peterwilsoncc, LinSoftware, thekt12, spacedmonkey.
    Fixes #59188
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56763 602fd350-edb4-49c9-b593-d223f7449a82

commit 53eff06da75877ca77c6aad3e997d052e7c33015
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Tue Oct 3 14:09:07 2023 +0000

    Options, Meta APIs: Implement additional tests covering `update_option()`.
    
    As a follow up to [56681], this changeset adds further tests, primarily focused on ensuring no unnecessary database queries are run.
    
    Props mukesh27, costdev, joemcgill, spacedmonkey.
    See #22192.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56762 602fd350-edb4-49c9-b593-d223f7449a82

commit ea502c457090896960109f750347e265c052b276
Author: Greg ZiÃ³Å‚kowski <gziolo@git.wordpress.org>
Date:   Tue Oct 3 08:52:54 2023 +0000

    Tests: Rename and improve the `blocks/context.php` file to follow handbook
    
    
    Renames `context.php` and `Tests_Blocks_Context` to `renderBlock.php` and `Tests_Blocks_RenderBlock`. See https://make.wordpress.org/core/handbook/testing/automated-testing/writing-phpunit-tests/#test-classes.
    
    Simplifies also the tear_down method by using the same convention as in [56759].
    
    Props costdev, ockham.
    Follow-up [48224].
    See #49927.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56761 602fd350-edb4-49c9-b593-d223f7449a82

commit bd772d60eb6d0847b0ccd852ec65d6c9aa8b035f
Author: Greg ZiÃ³Å‚kowski <gziolo@git.wordpress.org>
Date:   Tue Oct 3 08:34:36 2023 +0000

    Chore: Remove empty test file that was missed after renaming the file
    
    Follow-up [56759].
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56760 602fd350-edb4-49c9-b593-d223f7449a82

commit d7c309205425cb452635a67e06213e48e252cef0
Author: Greg ZiÃ³Å‚kowski <gziolo@git.wordpress.org>
Date:   Tue Oct 3 08:27:51 2023 +0000

    Tests: Cover Block Hooks integration with a custom block theme
    
    Adds a simplified version of Twenty Twenty-Three theme that helps testing Block Hooks integration. The theme contains:
    
    - The required index.html template.
    - The optional single.html template used with tests.
    - 3 template parts where two of them reference patterns.
    - 3 patterns referenced in the templates and the template parts.
    
    New tests automatically register 4 custom blocks with the test theme where each of them hooks into another block using all four target relative positions: `before`, `after`, `firstChild`, `lastChild`.
    
    The tests verify that the block gets hooked into the correct positions when targeting:
    
    - template
    - template part
    - pattern
    
    Props ockham, costdev.
    See #59313, #59383.
    Follow-up [56610].
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56759 602fd350-edb4-49c9-b593-d223f7449a82

commit a1852bd49b0995317ebdde8f2ee33eb818e8da9c
Author: Daniel Bachhuber <danielbachhuber@git.wordpress.org>
Date:   Mon Oct 2 22:40:36 2023 +0000

    Editor: Add function prefix to avoid conflicts.
    
    Transforms `initialize_theme_preview_hooks` to `wp_initialize_theme_preview_hooks` to avoid conflicts with third-party code.
    
    Follow up to [56529].
    
    Props okat.
    See #59000.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56757 602fd350-edb4-49c9-b593-d223f7449a82

commit bc259ddd3f62c163fa03e711fe557daa7f562d1c
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Mon Oct 2 20:12:13 2023 +0000

    Media: Prevent PHP notice in `get_avatar()`.
    
    Follow up fix to [56690].
    
    Props pereirinha, mukesh27, spacedmonkey.
    Fixes #58892.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56756 602fd350-edb4-49c9-b593-d223f7449a82

commit 1d0876b676151639e1f5705b293c6ed5e0939da4
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Mon Oct 2 18:55:27 2023 +0000

    Update npm packages to latest.
    
    The npm packages needed a further update for beta 2 in preparation for 6.4.
    
    Props @mmaattiiaass , @wildworks , @aaronrobertshaw, @bartkalisz, @mamaduka, @artemiosans, @youknowriad, @czapla, @richtabor, @glendaviesnz, @pbking, @cbravobernal, @madhudollu, @kevin940726, @adamsilverstein, @get_dave, @ntsekouras, @ramonopoly, @jffng, @swissspidy, @carlosgprim, @siobhyb, @mikachan.
    
    See #59411.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56755 602fd350-edb4-49c9-b593-d223f7449a82

commit e686e8112245ff256106efe4ca1932280120bfdb
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Mon Oct 2 18:46:30 2023 +0000

    Script Loader: Fix missing documentation for the `$path` argument of `wp_enqueue_block_style()`.
    
    See #59466.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56754 602fd350-edb4-49c9-b593-d223f7449a82

commit f7d73158acd8bef9c0d98316c1cd5ecf4cd1a636
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Oct 2 11:25:35 2023 +0000

    Coding Standards: Remove redundant ignore annotations, take 5.
    
    The `VariableAnalysis` standard is not used by WP Core.
    
    Follow-up to [50958], [51003], [52049], [52051], [52069], [53072], [54132], [55132], [56363], [56738], [56743], [56751], [56752].
    
    Props jrf.
    See #59161.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56753 602fd350-edb4-49c9-b593-d223f7449a82

commit 8bbeee43b647d6c8fc54c67cb0616343ac7b03fb
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Oct 1 00:20:53 2023 +0000

    Coding Standards: Remove redundant ignore annotations, take 4.
    
    This removes ignore annotations related to sniffs which are not used by WP Core (like sniffs in the `WordPress-Extra` ruleset).
    
    Follow-up to [48072], [51003], [55204], [56714].
    
    Props jrf.
    See #59161.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56752 602fd350-edb4-49c9-b593-d223f7449a82

commit 00ed25e2c9b20607418cbe8a6103c336d1bf92bd
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Sep 30 07:37:34 2023 +0000

    Coding Standards: Remove redundant ignore annotations, take 3.
    
    This removes ignore annotations about invalid function names for deprecated functions. Those are ignored by design in WPCS since version 2.2.0.
    
    Follow-up to [45580], [47612], [47927].
    
    Props jrf.
    See #59161.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56751 602fd350-edb4-49c9-b593-d223f7449a82

commit 1092ac0ea7cb986bb78731b1cc66499d2355905f
Author: Weston Ruter <westonruter@git.wordpress.org>
Date:   Fri Sep 29 21:59:14 2023 +0000

    Script Loader: Remove erroneous `type` attribute from `script` tag wrapper on login screen.
    
    This was causing a `_doing_it_wrong()` notice from `wp_remove_surrounding_empty_script_tags()`. In fact, the `type` attribute was added in [56748] to test this incorrect usage notice. This commit reverts that change.
    
    Follow-up to [56748].
    Unprops westonruter.
    See #58664.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56750 602fd350-edb4-49c9-b593-d223f7449a82

commit 1427d84abc3d772770b706fd77e69ad8affdead1
Author: Weston Ruter <westonruter@git.wordpress.org>
Date:   Fri Sep 29 21:37:06 2023 +0000

    Customize: Harden and modernize URL manipulation in `WP_Customize_Manager::remove_frameless_preview_messenger_channel()`.
    
    Since IE11 is no longer supported, the `URL` and `URLSearchParams` APIs can now be leveraged for simpler and more robust URL manipulation. This was done similarly in [56383] for `embed.js`.
    
    Props nicolefurlan, dmsnell, westonruter.
    Fixes #59480.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56749 602fd350-edb4-49c9-b593-d223f7449a82

commit 8c0adc93df9501da684fef9c53cbc9de8c2ea487
Author: Weston Ruter <westonruter@git.wordpress.org>
Date:   Fri Sep 29 19:45:53 2023 +0000

    Script Loader: Harden removal of script tag wrappers.
    
    * Add `wp_remove_surrounding_empty_script_tags()` to more precisely remove script tag wrappers and warn when doing it wrong.
    * Add clarifying comments for XML escaping logic in `wp_get_inline_script_tag()`.
    * Leverage `WP_HTML_Tag_Processor` in `test_remove_frameless_preview_messenger_channel`.
    * Reuse `assertEqualMarkup` in `test_blocking_dependent_with_delayed_dependency`.
    * Normalize whitespace in `parse_markup_fragment` for `assertEqualMarkup`.
    
    Follow-up to [56687].
    Props dmsnell, westonruter, flixos90.
    See #58664.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56748 602fd350-edb4-49c9-b593-d223f7449a82

commit 4baf0a1eda8df99c8f6c9c57ee4d796962f5626e
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Fri Sep 29 17:11:21 2023 +0000

    Comments: Improve WP_Comment_Query count query performance by setting 'order by' to 'none'.
    
    In cases where `WP_Comment_Query` or `get_comments` is employed with the 'count' parameter set to true, specify 'order by' as 'none'. Since these queries serve solely to determine the count of comments matching specific query parameters, the 'order by' clause becomes redundant and places unnecessary strain on the database server, resulting in slower query execution. Given that count queries are executed on every admin request to retrieve comment counts, this change enhances the performance of the wp-admin interface.
    
    Props guss77, davidbaumwald, SergeyBiryukov, westonruter, peterwilsoncc, foliovision, hareesh-pillai, spacedmonkey.
    Fixes #58368
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56747 602fd350-edb4-49c9-b593-d223f7449a82

commit 702e2c76a6d32ab2c2ce3054f6594213a233742e
Author: Aaron Jorbin <jorbin@git.wordpress.org>
Date:   Fri Sep 29 15:22:12 2023 +0000

    Tests: Reduce usage of assertEquals
    
    Replaces assertSame with assertCount in a number of tests.
    
    Props ayeshrajans, jorbin.
    See #58956.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56746 602fd350-edb4-49c9-b593-d223f7449a82

commit 1f914ecb2fbfd7706d8ac2024c32a82c80778486
Author: Adam Silverstein <adamsilverstein@git.wordpress.org>
Date:   Fri Sep 29 15:05:40 2023 +0000

    Revisions: slash meta values for autosave (preview) revisions.
    
    Correct an issue where meta values containing characters like quote `”` could not be previewed on published posts. The function `update_metadata` expects data to be slashed.
    
    Also, add a test to confirm that storing JSON data which requires slashing in autosave meta works as expected, and improve naming for a data provider added in [56714].
    
    Follow up to [56714].
    
    Props mukesh27, spacedmonkey.
    Fixes #20564.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56745 602fd350-edb4-49c9-b593-d223f7449a82

commit 345fb48865215a1675ef209820951f6a4cf1e50d
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Fri Sep 29 13:13:54 2023 +0000

    Editor: Avoid Deferring Loading for Empty Block Script URI
    
    In the context of register_block_script_handle, the get_block_asset_url function may return false when an empty string is provided as the input. This behavior is intended to prevent the generation of invalid URLs. However, when the script loading strategy is set to "defer" while passing false, it triggers a "doing it wrong" message.
    
    This situation becomes problematic, especially for scenarios where the scripts haven't been built yet. In such cases, the realpath call returns an empty string because the file doesn't exist. To address this issue, we now perform a simple check to ensure that the script URI is not empty before applying the "defer" loading strategy. This adjustment prevents unnecessary deferral of loading for scripts with empty URIs.
    
    Follow on from [56683] and [56033].
    
    Props kebbet, mukesh27, swissspidy, westonruter, spacedmonkey.
    Fixes #59475
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56744 602fd350-edb4-49c9-b593-d223f7449a82

commit 0f0d34ed55049ecdfb946e026f9c15389e17b556
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Sep 29 12:19:29 2023 +0000

    Coding Standards: Remove redundant ignore annotations, take 2.
    
    This removes ignore annotations which are unnecessary due to the configuration in the `phpcs.xml.dist` ruleset already taking care of this.
    
    Follow-up to [45611], [50146], [50148], [50586], [50822], [56738].
    
    Props jrf.
    See #59161.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56743 602fd350-edb4-49c9-b593-d223f7449a82

commit 71080fa580d4a912972953eb3c5b1ba29ae04f8b
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Fri Sep 29 10:18:05 2023 +0000

    Editor: Replace property_exists calls in block related functions with instanceof
    
    Replace calls to `property_exists` with `instanceof WP_Block_Type` in block related functions. This change not only improves type safety but also enhances performance.
    
    Follow on from [56678] and [56677].
    
    Props gziolo, aristath, aaronrobertshaw, spacedmonkey.
    Fixes #59453
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56742 602fd350-edb4-49c9-b593-d223f7449a82

commit a80165b78f2367f92e2eff679c4e035d1c5bdc7c
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Sep 28 22:30:20 2023 +0000

    Coding Standards: Remove temporary exclusion from the PHPCS ruleset.
    
    Now that the `block-library` package is updated for WP 6.4, this is no longer necessary.
    
    Related PR from Gutenberg repository:
    * [https://github.com/WordPress/gutenberg/pull/53866 #53866 Update WPCS to v3.0, and fix all reported Coding Standards issues]
    
    Follow-up to [56695], [56710].
    
    See #59161.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56741 602fd350-edb4-49c9-b593-d223f7449a82

commit f0a13694410205758fa68e67b119ced8ef95b8a8
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Thu Sep 28 21:24:35 2023 +0000

    Code Modernization: Fix "passing null to non-nullable" deprecation from next_posts().
    
    The `esc_url()` function expects to a string for `$url` parameter. There is no input validation within that function. The function contains a `ltrim()` which also expects a string. Passing `null` to this parameter results in `Deprecated: ltrim(): Passing null to parameter #1 ($string) of type string is deprecated` notice on PHP 8.1+.
    
    Tracing the stack back, a `null` is being passed to it within `next_posts()` when `get_next_posts_page_link()` returns `null` (it can return a string or `null`).
    
    On PHP 7.0 to PHP 8.x, an empty string is returned from `esc_url()` when `null` is passed to it. The change in this changeset avoids the deprecation notice by not invoking `esc_url()` when `get_next_posts_page_link()` returns `null` and instead sets the `$output` to an empty string, thus maintain the same behavior as before (minus the deprecation notice).
    
    Adds a test to validate an empty string is returned and the absence of the deprecation (when running on PHP 8.1+).
    
    Follow-up to [11383], [9632].
    
    Props codersantosh, nihar007, hellofromTonya, mukesh27, oglekler, rajinsharwar.
    Fixes #59154.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56740 602fd350-edb4-49c9-b593-d223f7449a82

commit e3a612a97c4c45acd7613779a46d86860e76cc65
Author: Greg ZiÃ³Å‚kowski <gziolo@git.wordpress.org>
Date:   Thu Sep 28 08:33:25 2023 +0000

    General: Set the correct script version for `regenerator-runtime`
    
    Follow-up for [56710]. Brings back the version specified in the `package.json` file.
    
    Props ockham.
    See #59411.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56739 602fd350-edb4-49c9-b593-d223f7449a82

commit ea5856efe87f9fdc1940fedb3606e81ee04b4965
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Sep 28 00:02:47 2023 +0000

    Coding Standards: Remove redundant ignore annotations.
    
    This removes ignore annotations which are ignoring an error which would not be thrown for that code.
    
    Includes tidying up the format of the ignore annotation:
    * Customary one space between the `//` and the start of the comment.
    * There should be no spaces in the comma-separated sniff list.
    
    Follow-up to [45607], [47185], [49200], [53152].
    
    Props jrf.
    See #59161.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56738 602fd350-edb4-49c9-b593-d223f7449a82

commit 6fa2ce424fddedb4c60fbc90d2aabc9feda8305b
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Wed Sep 27 17:38:38 2023 +0000

    Editor: Remove 'wp-edit-site' stylesheet enqueue from iframe.
    
    Removes enqueuing the `'wp-edit-site'` stylesheet from the iframed assets in `_wp_get_iframed_editor_assets()`.
    
    The global `$pagenow` is also removed as it is no longer used within the function.
    
    References:
    * [https://github.com/WordPress/gutenberg/pull/54254 Gutenberg PR 54254]
    
    Props ellatrix, jorgefilipecosta, Mamaduka, mukesh27.
    
    Follow-up to [56047], [53160].
    Fixes #59456.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56736 602fd350-edb4-49c9-b593-d223f7449a82

commit e34c8b7fbcbfd94a2d9c43fd869b8a9fc9c0522f
Author: Colin Stewart <costdev@git.wordpress.org>
Date:   Wed Sep 27 16:29:37 2023 +0000

    Filesystem API: Free the archive in `_unzip_file_ziparchive()`.
    
    There are several early returns in `_unzip_file_ziparchive()` which don't close the archive prior to returning.
    
    As this function is used in installation and upgrade processes which are memory-intensive, this calls `ZipArchive::close()` to free the archive prior to each early return. This excludes the first return which is a result of a failure to open the archive, which is [https://github.com/nih-at/libzip/blob/main/lib/zip_open.c#L62-L73 freed internally] when the failure occurs.
    
    References:
    - PHP.net: [https://www.php.net/manual/en/ziparchive.open.php ZipArchive::open()] and [https://www.php.net/manual/en/ziparchive.close.php ZipArchive::close()]
    - libzip: [https://libzip.org/documentation/zip_open.html zip_open()] and [https://libzip.org/documentation/zip_close.html zip_close()]
    
    Follow-up to: [13005], [13006], [13015], [13221], [14346] [25779].
    
    Props azaozz, afragen, joemcgill, costdev.
    Fixes #59467
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56735 602fd350-edb4-49c9-b593-d223f7449a82

commit d740727ea89ab74f94aa2f184dbf5770753b65f1
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Wed Sep 27 15:42:29 2023 +0000

    Text Changes: Remove empty space in Erase Personal Data help tab.
    
    Improves the text by removing an empty space at the end of a string within the "Default Data" help tab of the "Erase Personal Data".
    
    Props azharckra, kebbet, krupalpanchal, mukesh27.
    
    Follow-up to [53182].
    Fixes #59473.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56734 602fd350-edb4-49c9-b593-d223f7449a82

commit b52cd853902cad9cfb18373e8f4840ebf56d703b
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Wed Sep 27 13:08:35 2023 +0000

    Blocks: Add unit test coverage for Patterns registry.
    
    Prior to this changeset, we did not seem to have any unit test coverage for the Patterns registry (`WP_Block_Patterns_Registry`).
    
    With Block Hooks logic recently added ([56649]), it is particularly advisable to add some unit tests to the `get_registered()` and `get_all_registered()` methods to guard hooked block insertion against regressions.
    
    Fixes #59476.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56733 602fd350-edb4-49c9-b593-d223f7449a82

commit 711e4b9b97588e25d28844ad623393e1ef7932aa
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Sep 27 09:40:43 2023 +0000

    Bootstrap/Load: Remove a redundant `continue` statement in  `add_magic_quotes()`.
    
    Follow-up to [48205], [48440].
    
    Props Cybr.
    See #58831.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56732 602fd350-edb4-49c9-b593-d223f7449a82

commit 972632085f8c2411559a9e182615cca925f1fcbc
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Wed Sep 27 05:10:28 2023 +0000

    Editor: fix undefined array key warning.
    
    Checks if `attrs` array key exists before using its value.
    
    Props mukesh27, kafleg.
    Fixes #59468.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56731 602fd350-edb4-49c9-b593-d223f7449a82

commit 7cf8998e4658f22570e12f04c53817472bbc744e
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Tue Sep 26 20:16:38 2023 +0000

    Post WordPress 6.4 Beta 1 version bump.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56730 602fd350-edb4-49c9-b593-d223f7449a82

commit 6b35688b82ded99fbb56810872f8c9058696e7d5
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Tue Sep 26 19:52:42 2023 +0000

    WordPress 6.4 Beta 1.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56729 602fd350-edb4-49c9-b593-d223f7449a82

commit df17fdbd057e487b27c73c2936177e432499ad98
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Tue Sep 26 19:08:58 2023 +0000

    Editor: 2nd package updates for 6.4 Beta 1.
    
    Round 2 of package updates for 6.4. Beta 1 which includes disabling the rendering of the Font Library in Core.
    
    The full list of changes are found here https://github.com/WordPress/gutenberg/commit/641b696cd687051355fbea20406066e1174ffa3b.
    
    Follow-up to [56710], [56713].
    
    Props mikachan, mmaattiiaass, mamaduka, desrosj, ockham, hellofromTonya.
    See #59411.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56728 602fd350-edb4-49c9-b593-d223f7449a82

commit 1b1c6afd46795713246b17e25722271e590c3329
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Tue Sep 26 17:31:28 2023 +0000

    Bundled Themes: Twenty Twenty-Four is now the default theme.
    
    Follow up to [56716].
    Props desrosj.
    
    See #59447.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56727 602fd350-edb4-49c9-b593-d223f7449a82

commit 0b3e70489963f0822dc75d480b1e57713a29bd01
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Tue Sep 26 17:13:44 2023 +0000

    Twenty Twenty-Four: Fix issue with theme screenshot.
    
    Follow up to [56716] and [56725].
    
    Props karmatosed.
    Fixes #59447.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56726 602fd350-edb4-49c9-b593-d223f7449a82

commit eb5e39db6940dc579a3e00cb7bc377492d65b11b
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Tue Sep 26 17:05:24 2023 +0000

    General: Define the desired `mime-type` for WebP files.
    
    Fixes #59463.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56725 602fd350-edb4-49c9-b593-d223f7449a82

commit 76c6b57867c1293ded4d37ac644c78852c9c04e5
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Tue Sep 26 16:59:11 2023 +0000

    Templates: Introduce _remove_theme_attribute_from_template_part_block.
    
    Introduce a `_remove_theme_attribute_from_template_part_block()` function that can be used as a callback argument for `traverse_and_serialize_block(s)` on a parsed block tree in order to remove the `theme` attribute from all Template Part blocks found therein, and deprecate `_remove_theme_attribute_in_block_template_content()`.
    
    Counterpart to `_inject_theme_attribute_in_template_part_block` from #59338 (which superseded `_inject_theme_attribute_in_block_template_content`, deprecated in #59452).
    
    Props mukesh27.
    Fixes #59460.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56724 602fd350-edb4-49c9-b593-d223f7449a82

commit 0ed8dcda724f20983e9c0ef928aa7af955b9cb95
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Sep 26 16:53:20 2023 +0000

    HTTP API: Deprecate the `http_api_transports` filter.
    
    The filter is only used within the `WP_Http::_get_first_available_transport()` method, which has been marked as deprecated in favor of `\WpOrg\Requests\Requests::get_transport_class()`.
    
    Follow-up to [56655]
    
    Props desrosj, hellofromTonya.
    Fixes #58705.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56723 602fd350-edb4-49c9-b593-d223f7449a82

commit 166e042683e642163f335bed9e6f1fbb79b5b664
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Tue Sep 26 16:47:24 2023 +0000

    Templates: Move old theme attr injection function to deprecated.php.
    
    Move the now-deprecated function `_inject_theme_attribute_in_block_template_content` from `wp-includes/block-template-utils.php` to `wp-includes/deprecated.php`.
    
    Follow-up [56719].
    Props spacedmonkey, davidbaumwald, mukesh27.
    See #59452.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56722 602fd350-edb4-49c9-b593-d223f7449a82

commit b5cb86a4826ade1f22f21169aadecda17e6a75a7
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Tue Sep 26 16:44:05 2023 +0000

    Twenty Twenty-Four: Fix font and image assets.
    
    This updates the font and image files to include the correct file contents.
    
    Follow up to [56716].
    
    Props onemaggie, karmatosed.
    See #59447.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56721 602fd350-edb4-49c9-b593-d223f7449a82

commit a5c6a766a38be91be3f80ad8127643137f46e2a8
Author: Colin Stewart <costdev@git.wordpress.org>
Date:   Tue Sep 26 16:27:58 2023 +0000

    Toolbar: Link to Learn WordPress in the WordPress Logo menu.
    
    This aims to make the various resources on learn.wordpress.org more easily available.
    
    Props jeherve, mikinc860, audrasjb, sabernhardt, courane01, devmuhib, dhrumilk, estelaris, hellofromTonya.
    Fixes #58820.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56720 602fd350-edb4-49c9-b593-d223f7449a82

commit 5e09e5e18e6742222f05eea92ed25a90546a307a
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Tue Sep 26 16:17:18 2023 +0000

    Templates: Deprecate _inject_theme_attribute_in_block_template_content.
    
    It can be replaced by passing `_inject_theme_attribute_in_template_part_block` as second argument to `traverse_and_serialize_blocks()`.
    
    Per WordPress 6.4 Beta 1, there aren't going to be any more calls in Core to `_inject_theme_attribute_in_block_template_content()`.
    
    Note that `_inject_theme_attribute_in_block_template_content` has always had `@access private` set in its PHPDoc.
    
    Props gziolo.
    Fixes #59452.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56719 602fd350-edb4-49c9-b593-d223f7449a82

commit 2e863375a133bdc3a8cfefb4a09c5580c1bfa544
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Sep 26 16:09:38 2023 +0000

    Login and Registration: Add `/login.php` as an alias for the login page.
    
    This aims to make the login process more user-friendly.
    
    Follow-up to [19875], [19880].
    
    Props lancewillett, subrataemfluence, tejwanihemant, ankit-k-gupta, devmuhib, audrasjb, hellofromTonya, joemcgill.
    Fixes #40762.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56718 602fd350-edb4-49c9-b593-d223f7449a82

commit 319e6b8857513de76bc914966eb3e687002a8ae2
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Tue Sep 26 15:53:39 2023 +0000

    Options, Meta APIs: Fix follow up bug when comparing values for options using the `pre_option_{$option}` filter.
    
    This fix is relevant for options such as `gmt_offset` that use a filter to force a specific value regardless of what is stored in the database.
    
    Props mamaduka, flixos90, mukesh27, spacedmonkey.
    See #22192.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56717 602fd350-edb4-49c9-b593-d223f7449a82

commit 6e635242ec834fc1b7d19fcc7d49eaff820f730f
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Tue Sep 26 15:48:05 2023 +0000

    Bundled Themes: Import Twenty Twenty-Four, the new default theme for WordPress 6.4.
    
    Twenty Twenty-Four is designed to be flexible, versatile and applicable to any website. Its collection of templates and patterns tailor to different needs, such as presenting a business, blogging and writing or showcasing work. A multitude of possibilities open up with just a few adjustments to color and typography.
    
    Twenty Twenty-Four comes with style variations and full page designs to help speed up the site building process, is fully compatible with the site editor, and takes advantage of new design tools introduced in WordPress 6.4.
    
    Twenty-Four karat magic in the air!
    
    Props onemaggie, luminuu, beafialho, chrisdesrochers, amedv, melchoyce, kafleg, jeffikus, poena, robpetrin, hiyascout, audrasjb, huzaifaalmesbah, fabiankaegy, jordesign, vcanales, shailu25, jessplease, juanfra, maneshtimilsina, sabernhardt, richtabor, travel_girl, kishanjasani, sofiashendi, nudge, gnanasekaran, marcelle42, bosskhj, oncecoupled, bijayyadav, barbmiller, devmuhib, lyndauwp, kraftbj, alaminfirdows, littlebigthing, dhamibirendra, jeffpaul, kopila47, rabmalin, aplauche, colorful-tones, khleomix, pbking, esratpopy, scruffian, alexandrebuffet, gpotter, pbwebd, anphira, suprsam, damonsharp, maurodf, soean, kawsaralameven, mhimon, rajinsharwar, labunchemjong, bonkerz, karmacharya50, aristath, mukesh27, mikachan, joedolson, aurooba, afercia, jffng, benimub, joen, tanvirul, jeryj, thelovekesh, mrwweb, nielslange, sergiomdgomes, binsaifullah, hanneslsm, masoudnkh, dhrumilk, dianeco, webmandesign, desrosj.
    See #59447.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56716 602fd350-edb4-49c9-b593-d223f7449a82

commit 5ee043bb33bc21c0d483261411a2c3c4201ec60c
Author: Adam Silverstein <adamsilverstein@git.wordpress.org>
Date:   Tue Sep 26 15:42:56 2023 +0000

    Revisions: avoid double call to wp_restore_post_revision_meta when restoring post.
    
    Remove an extra call to `wp_restore_post_revision_meta` - the meta restore action is already hooked to `wp_restore_post_revision`.
    
    Follow up to [56714].
    
    Props: spacedmonkey.
    Fixes #20564.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56715 602fd350-edb4-49c9-b593-d223f7449a82

commit 4f56c3d18a7236048ed40bfa8c82fb8c88f9b361
Author: Adam Silverstein <adamsilverstein@git.wordpress.org>
Date:   Tue Sep 26 15:30:34 2023 +0000

    Revisions: framework for storing post meta revisions.
    
    Enable the storing of post meta in revisions including autosaves and previews:
    
    Add a new argument `revisions_enabled` to the `register_meta` function which enables storing meta in revisions.
    
    Add a new `wp_post_revision_meta_keys` filter which developers can use to control which meta is revisioned - it passes an array of the meta keys with revisions enabled as well as the post type.
    
    Meta keys with revisions enabled are also stored for autosaves, and are restored when a revision or autosave is restored. In addition, meta values are now stored with the autosave revision used for previews. Changes to meta can now be previewed correctly without overwriting the published meta (see #20299) or passing data as a query variable, as the editor currently does to preview changes to the featured image.
    
    Changes to meta with revisions enabled are considered when determining if a new revision should be created. A new revision is created if the meta value has changed since the last revision.
    
    Revisions are now saved on the `wp_after_insert_post` hook instead of `post_updated`. The `wp_after_insert_post` action is fired after post meta has been saved by the REST API which enables attaching meta to the revision. To ensure backwards compatibility with existing action uses, `wp_save_post_revision_on_insert` function exits early if plugins have removed the previous `do_action( 'post_updated', 'wp_save_post_revision' )` call.
    
    Props: alexkingorg, johnbillion, markjaquith, WraithKenny, kovshenin, azaozz, tv-productions, p51labs, mattheu, mikeschroder, Mamaduka, ellatrix, timothyblynjacobs, jakemgold, bookwyrm, ryanduff, mintindeed, wonderboymusic, sanchothefat, westonruter, spacedmonkey, hellofromTonya, drewapicture, adamsilverstein, swisspiddy.
    Fixes #20564, #20299.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56714 602fd350-edb4-49c9-b593-d223f7449a82

commit f84d5c224953bf21eaf9fd7231b47aaabc67a735
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Tue Sep 26 15:25:50 2023 +0000

    Update regenerated build files.
    
    This adds in missed generated build files from commit for [56710].
    
    Props desrosj.
    See #59411.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56713 602fd350-edb4-49c9-b593-d223f7449a82

commit 332304a1be37b724e92e75ff8e55f1e006f6f144
Author: Colin Stewart <costdev@git.wordpress.org>
Date:   Tue Sep 26 15:03:19 2023 +0000

    Quick/Bulk Edit: Pre-fill category fields with their status.
    
    This pre-fills category fields in the Quick/Bulk Edit form with their current status.
    
    When bulk editing, if only some of the selected items are in a given category, the category's checkbox will display a line to indicate an indeterminate status.
    
    Props pavelevap, scribu, chasedsiedu, helen, joshcanhelp, ubernaut, Cyberchicken, laumindproductscomau, SergeyBiryukov, Marcoevich, tomybyte, thinkluke, virtality-marketing-solutions, Michalooki, dmsnell, itecrs, pannelars, WHSajid, samba45, Mte90, johnbillion, tomluckies, soulseekah, francina, oglekler, ajmcfadyen, mukesh27, costdev.
    Fixes #11302.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56712 602fd350-edb4-49c9-b593-d223f7449a82

commit dc31cf0624cb71adb01a1cf08d3a6af40d0acc47
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Tue Sep 26 14:43:25 2023 +0000

    Media: Change link text when attachment pages disabled.
    
    When attachment pages are disabled, change the links from "View Attachment Page" to "View Media File".
    
    Follow-up to [56657], [56658].
    
    Props joedolson, ironprogrammer, oglekler.
    Fixes #57913.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56711 602fd350-edb4-49c9-b593-d223f7449a82

commit ae1484cbb689f72b9e7fb78a5a116793da003e66
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Tue Sep 26 14:20:18 2023 +0000

    Update editor related npm packages
    
    The npm packages needed updating for 6.4 to the latest.
    
    Props mikachan, mukesdpanchal27, luisherranz, youknowriad, tellthemachines, gziolo, ockham, michalczaplinski
    
    Fixes #59411
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56710 602fd350-edb4-49c9-b593-d223f7449a82

commit e77aaf1baebcfa625c2e882cbf8d6736a864aad6
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Sep 26 13:45:23 2023 +0000

    Editor: Reduce the use of the `_wp_array_get()` function to improve performance.
    
    `_wp_array_get()` is an expensive function, and it's called thousands of times on each page view on the front end. While the function performance was slightly improved in #58376, it is still called more times than it should be.
    
    This commit aims to further optimize its usage:
    * In many cases, `_wp_array_get()` can be replaced with a much simpler and faster `isset()` check.
    * The `isset()` function is capable of checking nested arrays, so `isset( $foo['a']['b']['c'] )` will return false even if `$foo['a']` is unset, without throwing any errors or warnings.
    * When `_wp_array_get()` cannot be directly replaced with `isset()`, it would be good practice to wrap it in an `isset()` function so that `_wp_array_get()` only runs when it needs to.
    
    Original PR from Gutenberg repository:
    * [https://github.com/WordPress/gutenberg/pull/51116 #51116 Performance improvement: Reduce the use of the _wp_array_get() function]
    
    Follow-up to [55851], [56382].
    
    Props aristath, jrf, spacedmonkey, mukesh27, swissspidy, hellofromTonya.
    Fixes #59405.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56709 602fd350-edb4-49c9-b593-d223f7449a82

commit a52838d1b17dd4f597249a64a7d119214c6b42a9
Author: Pascal Birchler <swissspidy@git.wordpress.org>
Date:   Tue Sep 26 12:40:36 2023 +0000

    Sitemaps: do not list users who only authored pages.
    
    Author archives are only generated for users who created at least one post.
    Prevent adding author archives to the XML sitemap for users who only authored pages
    as the links would otherwise result in a 404.
    
    Props zodiac1978, huzaifaalmesbah.
    Fixes #57816.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56708 602fd350-edb4-49c9-b593-d223f7449a82

commit 47387cdabee16c798378695e4c324b9085389bce
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Tue Sep 26 12:36:50 2023 +0000

    General: Use wp_kses() in wp_trigger_error().
    
    Uses `wp_kses()` instead of `esc_html()` to allow a list of HTML tags and protocols in the message rather than escaping them.
    
    Why? To retain message readability in the browser and server logs, especially given that Core itself adds HTML to messages in functions, e.g. `_doing_it_wrong()` and each of the `_deprecated_*()` functions.
    
    HTML tags allowed:
    * `a href`
    * `br`
    * `code`
    * `em`
    * `strong`
    
    Protocols allowed: `http` and `https`.
    
    To inform extenders, it also documents that any other HTML tags or protocols need to be escaped before passing the message to this function to avoid them being stripped from the message.
    
    Follow-up to [56530], [56705].
    
    Props azaozz, costdev, flixos90, hellofromTonya, peterwilsoncc.
    Fixes #57686.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56707 602fd350-edb4-49c9-b593-d223f7449a82

commit 6a0678659792ede933dbacb3b75c34e93a967a30
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Tue Sep 26 12:26:38 2023 +0000

    Editor: Fix deprecation notice in block editor.
    
    In [56682], the `print_emoji_styles` function was deprecated and a corresponding deprecation notice was added. In order to maintain backward compatibility, `print_emoji_styles` was retained as a hook into wp_print_styles. This resulted in the appearance of deprecation notices within the block editor. The root of this issue was the manual invocation of the `wp_print_styles` function in block-editor.php. To address this, the `print_emoji_styles` callback was manually removed, `wp_print_styles` was called, and the action was subsequently rehooked, resolving the deprecation notice within the block editor.
    
    Props mamaduka, hellofromtonya, spacedmonkey.
    See #58775.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56706 602fd350-edb4-49c9-b593-d223f7449a82

commit 35a4c22bbb4f5a60b3b749d247bb655e47836d15
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Tue Sep 26 11:49:57 2023 +0000

    General: Use wp_trigger_error() in _doing_it_wrong() and _deprecated_*().
    
    Uses `wp_trigger_error()` in `_doing_it_wrong()` and each `_deprecated_*()` function, i.e. instead of `trigger_error()`.
    
    To avoid redundancy, uses `wp_trigger_error()` once. How? Saves each message to `$message` variable and then passes it to `wp_trigger_error()` at the end of the function.
    
    Functions:
    * _doing_it_wrong()
    * _deprecated_function()
    * _deprecated_constructor()
    * _deprecated_class()
    * _deprecated_file()
    * _deprecated_argument()
    * _deprecated_hook()
    
    Follow-up to [56530].
    
    Props azaozz, costdev, flixos90, hellofromTonya, peterwilsoncc.
    See #57686.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56705 602fd350-edb4-49c9-b593-d223f7449a82

commit 0514b2e99c705b5a5a76533d4ceaa2a0f012bfbc
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Tue Sep 26 11:47:18 2023 +0000

    Blocks: Have get_hooked_blocks() return blocks grouped by position.
    
    All existing calls of `get_hooked_blocks()` in non-test code are currently wrapped in an extra `array_keys()` call. This changeset absorbs that logic into the function and changes the structure of the return value accordingly.
    
    Furthermore, this allows us to remove the extra `$relative_position` argument (introduced in [56673]) from the function again, as the same data can now be simply fetched via array access.
    
    Props gziolo, spacedmonkey, mukesh27.
    See #59383.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56704 602fd350-edb4-49c9-b593-d223f7449a82

commit cecc810f9170d297fbb1efe7e8439112359af8d8
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Tue Sep 26 09:15:21 2023 +0000

    HTML API: Add class name utilities `has_class()` and `class_list()`.
    
    This patch adds two new public methods to the HTML Tag Processor:
     - `has_class()` indicates if a matched tag contains a given CSS class name.
     - `class_list()` returns a generator to iterate over all the class names in a matched tag.
    
    Included in this patch is a refactoring of the internal logic when matching
    a tag to reuse the new `has_class()` function. Previously it was relying on
    optimized code in the `matches()` function which performed byte-for-byte
    class name comparison. With the change in this patch it will perform class
    name matching on the decoded value, which might differ if a class attribute
    contains character references.
    
    These methods may be useful for running more complicated queries based
    on the presence or absence of CSS class names. The use of these methods
    avoids the need to manually decode the class attribute as reported by
    `$process->get_attribute( 'class' )`.
    
    Props dmsnell.
    Fixes #59209.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56703 602fd350-edb4-49c9-b593-d223f7449a82

commit 086010a380f694cbe1773c79b6b2cc27b3f0526e
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Tue Sep 26 08:18:25 2023 +0000

    HTML API: Add `matches_breadcrumbs()` method for better querying.
    
    Inside a `next_tag()` loop it can be challenging to use breadcrumbs because they are only exposed inside the call to `next_tag()` via the `$query` arg.
    
    In this patch a new method, `matches_breadcrumbs()`, is exposed which allows for querying within the `next_tag()` loop for more complicated queries.
    
    This method exposes a wildcard `*` operator to allow matching ''any HTML tag'' that the currently-matched tag is a child or descendant of.
    
    Props dmsnell, westonruter, mukesh27.
    Fixes #59400.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56702 602fd350-edb4-49c9-b593-d223f7449a82

commit 77de774860638df07f5b128f69b0b5be3b916a04
Author: Greg ZiÃ³Å‚kowski <gziolo@git.wordpress.org>
Date:   Tue Sep 26 08:07:07 2023 +0000

    Blocks: Add more unit test covering edge cases for Block Hooks
    
    These two new unit tests document how Block Hooks behave with `first_child` and `last_child` relative positions. The hooked blocks will only get inserted in the case where the parent block has at least one child block present. While it seems like a limitation, in practice, it's hard to think of a case where the template would use a parent block without its children. It's more likely to happen with patterns in general, but in the case of patterns wired with the block theme, it also seems unlikely. The reasoning here is that out of the box, the block theme should produce a fully functional and valid HTML.
    
    Props ockham.
    See #59313.
    Follow-up [56649].
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56701 602fd350-edb4-49c9-b593-d223f7449a82

commit 6a61084beca680a78ed581d035d76d592d4ef117
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Tue Sep 26 06:53:26 2023 +0000

    Editor: remove null coalescing operator from layout.
    
    Replaces uses of null coalescing operator in [56698].
    
    Props dmsnell, mukesh27.
    See #59443.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56700 602fd350-edb4-49c9-b593-d223f7449a82

commit a3c6b4c634ed857ce30898b4804fcabf3df55ac1
Author: Greg ZiÃ³Å‚kowski <gziolo@git.wordpress.org>
Date:   Tue Sep 26 06:49:55 2023 +0000

    Build: Introduce SCRIPT_DEBUG global in webpack processing
    
    Backports the same changes to the webpack config in the Gutenberg plugin with https://github.com/WordPress/gutenberg/pull/50122.
    
    The `warning` function from `@wordpress/warning` no longer worked correctly with webpack 5. In practice, it no longer called `console.warn`. To fix it, the usage of `process.env.NODE_ENV` check got replaced with another optional global: `SCRIPT_DEBUG`. All the tools used in the Gutenberg, get updated to work with this new constant, including `@wordpress/scripts`. This way, developers are able to guard code that should be run only in development mode. In WordPress core, the same constant needs to be added mostly to ensure that the code behind the check gets completely removed in production mode.
    
    Fixes #59407.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56699 602fd350-edb4-49c9-b593-d223f7449a82

commit f7ffbb05e1f08f265d87df95c6af95e53c4d06b7
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Tue Sep 26 05:02:36 2023 +0000

    Editor: make better use of Tag Processor in layout block support.
    
    Refactors layout support to use a single Tag Processor instance and send one class at a time to `add_class()`.
    
    Props dmsnell, hellofromTonya.
    Fixes #59443.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56698 602fd350-edb4-49c9-b593-d223f7449a82

commit 8d27ec48e4ce19ef74a08524d081c94da52cba02
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Tue Sep 26 03:52:16 2023 +0000

    Administration: Add event type to Events and News widget.
    
    Add the event type (WordCamp, Meetup, etc) to the nearby events listing within the Dashboard's Events and News widget.
    
    Props renyot, audrasjb, ankit-k-gupta, oglekler, devmuhib, dhruvishah2203, JeffPaul, anveshika, sarahwilliams889, ajakaroth.
    Fixes #58947.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56697 602fd350-edb4-49c9-b593-d223f7449a82

commit 9a4511ac94aedeea5d063c134dc5f090126a4432
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Sep 26 00:46:32 2023 +0000

    Build/Test Tools: Use the latest PHP version for the coding standards workflow.
    
    PHPCS can now be run on the latest PHP version as all known PHP 8.x compatibility issues (in WPCS) have been fixed.
    
    Follow-up to [49162], [56695].
    
    Props jrf, desrosj.
    See #59161.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56696 602fd350-edb4-49c9-b593-d223f7449a82

commit ff96003a0f91394d8e0f37643a5c96aaad42299b
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Sep 26 00:24:43 2023 +0000

    Coding Standards: Upgrade WPCS to version 3.0.0.
    
    This is an important release which makes significant changes to improve the accuracy, performance, stability and maintainability of all sniffs, as well as making WordPressCS much better at handling modern PHP.
    
    WordPressCS 3.0.0 contains breaking changes, both for people using ignore annotations, people maintaining custom rulesets, as well as for sniff developers who maintain a custom PHPCS standard based on WordPressCS.
    
    If you are an end-user or maintain a custom WordPressCS based ruleset, please start by reading the [https://github.com/WordPress/WordPress-Coding-Standards/wiki/Upgrade-Guide-to-WordPressCS-3.0.0-for-ruleset-maintainers Upgrade Guide to WordPressCS 3.0.0 for ruleset maintainers] which lists the most important changes and contains a step by step guide for upgrading.
    
    If you are a maintainer of an external standard based on WordPressCS and any of your custom sniffs are based on or extend WordPressCS sniffs, please read the [https://github.com/WordPress/WordPress-Coding-Standards/wiki/Upgrade-Guide-to-WordPressCS-3.0.0-for-Developers-of-external-standards Upgrade Guide to WordPressCS 3.0.0 for Developers].
    
    In all cases, please read the complete changelog carefully before you upgrade.
    
    This commit:
    * Updates the Composer dependencies to use the new version, including updating the underlying PHP_CodeSniffer dependency to the new minimum supported version for WPCS.[[BR]] Note: the Composer PHPCS installer plugin is no longer explicitly required as it is now a dependency of WPCS, so the dependency is inherited automatically.
    * Updates the ruleset for WPCS 3.0.0. This includes:
     * Raising the memory limit to be on the safe side as WPCS 3.0.0 contains a lot more sniffs.
     * Removing explicit inclusions of extra rules, which have now been added to the `WordPress-Core` ruleset..
     * Updating property names for select sniffs.
     * Updating one exclusion — the `WordPress.CodeAnalysis.AssignmentInCondition` sniff has been (partially) replaced by the `Generic.CodeAnalysis.AssignmentInCondition` sniff.
     * Adding one new exclusion.
    * Downgrades one new error to a warning.[[BR]] The `Generic.Files.OneObjectStructurePerFile` sniff enforces that there is only one OO structure declaration per file. At this time, this sniff would yield 29 errors. By downgrading the sniff to a ''warning'', the build can pass and the issues can be fixed in due time. For now, the test directory will be excluded until the issues are fixed (as the test directory CS run does not allow for warnings).
    * Updates ignore annotations for WPCS 3.0.0.
    
    Reference: [https://github.com/WordPress/WordPress-Coding-Standards/releases/tag/3.0.0 WPCS 3.0.0 release notes].
    
    Follow-up to [43571], [44574], [45600], [47927].
    
    Props jrf, jorbin, desrosj.
    See #59161.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56695 602fd350-edb4-49c9-b593-d223f7449a82

commit b011e827cf8af31cc38b28c9a5d9f90ad8fbfab2
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Sep 26 00:23:25 2023 +0000

    Code Modernization: Rename parameters that use reserved keywords in `phpunit/tests/media.php`.
    
    While using reserved PHP keywords as parameter name labels is allowed, in the context of function calls using named parameters in PHP 8.0+, this will easily lead to confusion. To avoid that, it is recommended not to use reserved keywords as function parameter names.
    
    This commit renames the `$match` parameter to `$matches` in shortcode image tests.
    
    Note: This is enforced by WPCS 3.0.0.
    
    Follow-up to [56693].
    
    See #58831.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56694 602fd350-edb4-49c9-b593-d223f7449a82

commit 6560f46a0fc5d987901704ba7a676ad685380bc6
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Tue Sep 26 00:11:06 2023 +0000

    Media: Ensure images within shortcodes are correctly considered for loading optimization attributes.
    
    Prior to this change, images added in shortcodes would be considered separately from all other images within post content, which led to incorrect application of the loading optimization attributes `loading="lazy"` and `fetchpriority="high"`.
    
    This changeset changes the filter priority of `wp_filter_content_tags()` from the default `10` to `12` on the various content filters it is hooked in, in order to run that function after parsing shortcodes. While this may technically be considered a backward compatibility break, substantial research and lack of any relevant usage led to the assessment that the change is acceptable given its benefits.
    
    An additional related fix included is that now the duplicate processing of images is prevented not only for post content blobs (`the_content` filter), but also for widget content blobs (`widget_text_content` and `widget_block_content` filters).
    
    Props joemcgill, mukesh27, costdev, spacedmonkey, flixos90.
    Fixes #58853.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56693 602fd350-edb4-49c9-b593-d223f7449a82

commit 0444cf53376ba47fc5f41cbb4efd855cd924671e
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Sep 26 00:07:56 2023 +0000

    Coding Standards: Fix a few newly introduced WPCS issues.
    
    Follow-up to [56683], [56689].
    
    See #59161, #58831.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56692 602fd350-edb4-49c9-b593-d223f7449a82

commit a099b9a19fc84d21998fd28b9a1352b2ae7487ea
Author: Colin Stewart <costdev@git.wordpress.org>
Date:   Mon Sep 25 23:38:38 2023 +0000

    Filesystem API: Add missing ZIP file for unzip tests.
    
    In [56689], a ZIP file is needed in `tests/phpunit/data/filesystem/` but wasn't included in the changeset. This produced an error when attempting to create a subdirectory during the tests.
    
    This adds the `tests/phpunit/data/filesystem/archive.zip` file.
    
    Follow-up to [56689].
    
    Props flixos90.
    Fixes #37719.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56691 602fd350-edb4-49c9-b593-d223f7449a82

commit d33027c5eadb0be1f216858184d4bddde6ac86c8
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Mon Sep 25 22:37:00 2023 +0000

    Media: Rely on `wp_get_loading_optimization_attributes()` to add `decoding="async"` to images.
    
    The `wp_get_loading_optimization_attributes()` function was introduced in 6.3, as a single centralized place to control loading optimization attributes for various tags, most importantly images.
    
    This changeset consolidates the `decoding="async"` optimization, which was added in 6.1, to occur solely as part of `wp_get_loading_optimization_attributes()`, removing duplicate code and allowing centralized filtering based on [56651].
    
    As part of the change, the `wp_img_tag_add_decoding_attr()` function has been deprecated. The filter of the same name continues to be maintained for backward compatibility, as before covering only images that are part of a content blob such as post content (`the_content`).
    
    Props pereirinha, mukesh27, joemcgill, flixos90.
    Fixes #58892.
    See #53232.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56690 602fd350-edb4-49c9-b593-d223f7449a82

commit 6558db17560be1303a03fc40cd02eef233f67c3d
Author: Colin Stewart <costdev@git.wordpress.org>
Date:   Mon Sep 25 22:14:11 2023 +0000

    Filesystem API: Introduce filters for before/after unzipping archives.
    
    This introduces the following new filters which wrap the process of unzipping an archive:
    - `pre_unzip_file` - Filters archive unzipping to allow an override with a custom process.
    - `unzip_file` - Filters the result of unzipping an archive.
    
    Both filters pass the following:
    - `string $file` - Full path and filename of ZIP archive.
    - `string $to` - Full path on the filesystem to extract archive to.
    - `string[] $needed_dirs` - A full list of required folders that need to be created.
    - `float|false $required_space` - The space required to unzip the file and copy its contents, with a 10% buffer.
    
    Props dfavor, azaozz, oglekler, afragen, costdev.
    Fixes #37719.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56689 602fd350-edb4-49c9-b593-d223f7449a82

commit 8b63003223616a7d32826f6b92fb91430070c4f7
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Mon Sep 25 21:27:51 2023 +0000

    Fonts: Get font-family name from 'fontFamily' field.
    
    Instead of getting the name from the optional `'name'` field, the font-family name now comes from the required `'fontFamily'` field.
    
    This change fixes a back-compat (BC) break in how the font-family name is pulled from the incoming font data in the `WP_Font_Face_Resolver`.
    
    Why?
    
    WP Core does not require the `'name'` field in theme.json. For themes that do not declare it, that set of font variations is ignored, thus causing a BC break from how the stopgap code worked (see [53282]).
    
    However, `WP_Theme_JSON` schema does require the `fontFamily` field in each of the `typography.fontFamilies`.
    
    == Other details:
    
    Includes a parser to extract the first entry when a `fontFamily` field has a comma-separated list of font-families, e.g. `Inter, sans-serif`.
    
    References:
    * Merge from Gutenberg's PR https://github.com/WordPress/gutenberg/pull/54615.
    
    Follow-up to [56500], [53282].
    
    Props ironprogrammer, hellofromTonya, mmaattiiaass, pbking.
    Fixes #59165.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56688 602fd350-edb4-49c9-b593-d223f7449a82

commit 4df5cd15a5c54c0c29e31b4cc68cd5483366b53e
Author: Weston Ruter <westonruter@git.wordpress.org>
Date:   Mon Sep 25 21:03:19 2023 +0000

    Script Loader: Use `wp_get_script_tag()` and `wp_get_inline_script_tag()`/`wp_print_inline_script_tag()` helper functions to output scripts on the frontend and login screen.
    
    Using script tag helper functions allows plugins to employ the `wp_script_attributes` and `wp_inline_script_attributes` filters to inject the `nonce` attribute to apply Content Security Policy (e.g. Strict CSP). Use of helper functions also simplifies logic in `WP_Scripts`.
    
    * Update `wp_get_inline_script_tag()` to wrap inline script in CDATA blocks for XHTML-compatibility when not using HTML5.
    * Ensure the `type` attribute is printed first in `wp_get_inline_script_tag()` for back-compat.
    * Wrap existing `<script>` tags in output buffering to retain IDE supports.
    * In `wp_get_inline_script_tag()`, append the newline to `$javascript` before it is passed into the `wp_inline_script_attributes` filter so that the CSP hash can be computed properly.
    * In `the_block_template_skip_link()`, opt to enqueue the inline script rather than print it.
    * Add `ext-php` to `composer.json` under `suggest` as previously it was an undeclared dependency for running PHPUnit tests.
    * Update tests to rely on `DOMDocument` to compare script markup, normalizing unsemantic differences.
    
    Props westonruter, spacedmonkey, flixos90, 10upsimon, dmsnell, mukesh27, joemcgill, swissspidy, azaozz.
    Fixes #58664.
    See #39941.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56687 602fd350-edb4-49c9-b593-d223f7449a82

commit 5c8b4c1b00d681abf3751ba0a8b009d5705acb02
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Mon Sep 25 20:47:32 2023 +0000

    Docs: Revert [56679].
    
    `Memoizes` is actually correct in this context.
    
    Unprops desrosj.
    See #18298.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56686 602fd350-edb4-49c9-b593-d223f7449a82

commit 4ffb12de546e2871d606f9f8d398ffccff405433
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Mon Sep 25 19:02:42 2023 +0000

    HTML API: Remove all duplicate copies of an attribute when removing.
    
    When encountering an HTML tag with duplicate copies of an attribute the tag processor ignores the duplicate values, according to the specification. However, when removing an attribute it must remove all copies of that attribute lest one of the duplicates becomes the primary and it appears as if no attributes were removed.
    
    In this patch we're adding tests that will be used to ensure that all attribute copies are removed from a tag when one is request to be removed.
    
    **Before**
    
    {{{#!php
    <?php
    $p = new WP_HTML_Tag_Processor( '<br id=one id="two" id='three' id>' );
    $p->next_tag();
    $p->remove_attribute( 'id' );
    $p->get_updated_html();
    // <br id="two" id='three' id>
    }}}
    
    **After**
    
    {{{#!php
    <?php
    $p = new WP_HTML_Tag_Processor( '<br id=one id="two" id='three' id>' );
    $p->next_tag();
    $p->remove_attribute( 'id' );
    $p->get_updated_html();
    // <br>
    }}}
    
    Previously we have been overlooking duplicate attributes since they don't have an impact on what parses into the DOM. However, as one unit test affirmed (asserting the presence of the bug in the tag processor) when removing an attribute where duplicates exist this meant we ended up changing the value of an attribute instead of removing it.
    
    In this patch we're tracking the text spans of the parsed duplicate attributes so that ''if'' we attempt to remove them then we'll have the appropriate information necessary to do so. When an attribute isn't removed we'll simply forget about the tracked duplicates. This involves some overhead for normal operation ''when'' in fact there are duplicate attributes on a tag, but that overhead is minimal in the form of integer pairs of indices for each duplicated attribute.
    
    Props dmsnell, zieladam.
    Fixes #58119.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56684 602fd350-edb4-49c9-b593-d223f7449a82

commit a68650ef1965b30622e84d79958bbfa4c5daa562
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Mon Sep 25 17:47:27 2023 +0000

    Editor: Introduce get_block_asset_url Utility Function.
    
    This commit introduces a valuable utility function, get_block_asset_url, designed to simplify the retrieval of block asset URLs, such as those for CSS and JavaScript files. This utility eliminates redundancy in both register_block_script_handle and register_block_style_handle. Additionally, `get_block_asset_url` incorporates an early exit mechanism to optimize performance.
    
    This update includes comprehensive unit tests, covering various scenarios, including asset registration from core (wp-includes), themes, child themes, plugins, and mu-plugins.
    
    Props spacedmonkey, joemcgill, flixos90, gziolo.
    Fixes #58525.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56683 602fd350-edb4-49c9-b593-d223f7449a82

commit 54c4de13edfaf3b9fbc1b67d6ba384618614d59e
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Mon Sep 25 17:04:41 2023 +0000

    Script Loader: Replace hardcoded output of style tags with calls to `wp_add_inline_style`.
    
    In this commit, enhancements have been made by replacing manually constructed style tags with calls to `wp_add_inline_style`. Previously, numerous style tags were generated and output directly in the header, resulting in redundant code and bypassing the core's style enqueueing system. This approach made it challenging for third-party developers to manage and control the output of these style tags.
    
    To ensure backward compatibility, the following functions have been deprecated and replaced:
    
    - print_embed_styles
    - print_emoji_styles
    - wp_admin_bar_header
    - _admin_bar_bump_cb
    
    Backward compatibility shims have also been added, ensuring that if these functions were previously unhooked from there actions, they will continue to not output a style tag.
    
    However, for the following functions, conversion to use inline styles was not feasible due to the potential disruption it might cause by changing the style tag IDs, potentially breaking JavaScript functionality for a number of plugins in the repository:
    
    - custom-background
    - wp-custom
    
    These changes improve code maintainability and enhance the flexibility and control available to developers when managing style outputs within WordPress core.
    
    Props spacedmonkey, hlunter, westonruter, flixos90.
    Fixes #58775.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56682 602fd350-edb4-49c9-b593-d223f7449a82

commit 8d8b843eafaf0202513e6224130d9f4f2182af81
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Mon Sep 25 16:23:52 2023 +0000

    Options, Meta APIs: Improve logic to avoid unnecessary database writes in `update_option()`.
    
    Prior to this change, a strict comparison between the old and new database value could lead to a false negative, since database values are generally stored as strings. For example, passing an integer to `update_option()` would almost always result in an update given any existing database value for that option would be that number cast to a string.
    
    This changeset adjusts the logic to perform an intentional "loose-y" comparison by casting the values to strings. Extensive coverage previously added in [56648] provides additional confidence that this does not introduce any backward compatibility issues.
    
    Props mukesh27, costdev, spacedmonkey, joemcgill, flixos90, nacin, atimmer, duck_, boonebgorges.
    Fixes #22192.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56681 602fd350-edb4-49c9-b593-d223f7449a82

commit bccc6fcebdb1532a1c641c9676b6aea64afa971c
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Sep 25 15:34:34 2023 +0000

    Coding Standards: Fix a few newly introduced WPCS issues.
    
    Follow-up to [56570], [56573], [56589], [56604], [56612], [56620], [56629], [56631], [56638], [56642], [56644], [56649].
    
    Props jrf.
    See #59161, #58831.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56680 602fd350-edb4-49c9-b593-d223f7449a82

commit 68347e0d7020bda3770acdb3249d2f371e9b202b
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Mon Sep 25 15:16:32 2023 +0000

    Docs: Correct typo in new `@since` tag.
    
    Follow up to [56635], [56641].
    
    See #18298.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56679 602fd350-edb4-49c9-b593-d223f7449a82

commit 4ae2d1a533c6f6dc3b7d82505763dc732924e0f0
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Mon Sep 25 12:15:06 2023 +0000

    Themes: Use instanceof in block_has_support.
    
    In [50761], the block_has_support function was introduced. However, using `property_exists` within this function negatively impacted its performance. This commit replaces the `property_exists` function call with `instanceof WP_Block_Type`, resulting in improved performance.
    
    Props mukesh27, gziolo, spacedmonkey.
    Fixes #59441.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56678 602fd350-edb4-49c9-b593-d223f7449a82

commit f9299148b7b7e94ac2742f5e249dd7f342ca6669
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Mon Sep 25 11:46:08 2023 +0000

    Themes: Use instanceof in get_hooked_blocks.
    
    In [56610], the get_hooked_blocks function was introduced. However, using property_exists within this function negatively impacted its performance. This commit replaces the property_exists function call with instanceof WP_Block_Type, resulting in improved performance.
    
    Props gziolo, spacedmonkey.
    See #59383.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56677 602fd350-edb4-49c9-b593-d223f7449a82

commit de9e06a4c021295af3ac11fdd08ea29a57529668
Author: Greg ZiÃ³Å‚kowski <gziolo@git.wordpress.org>
Date:   Mon Sep 25 10:00:33 2023 +0000

    REST API: Improve the block type schema for the `name` field
    
    Align the schema between `block.json` defined in Gutenberg and the REST API endpoint for block types. It looks like the `name` field isn't validated in all places and when it uses pattern matching in the REST API code, then it was slightly different.
    
    Props spacedmonkey, ockham.
    See #59346.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56676 602fd350-edb4-49c9-b593-d223f7449a82

commit 6f0ddc2260caefb5e71a18b26f43d03c02428a8d
Author: Andrea Fercia <afercia@git.wordpress.org>
Date:   Mon Sep 25 10:00:19 2023 +0000

    Editor: Add missing parameter to the `block_editor_no_javascript_message` filter after [56672].
    Props mukesh27.
    
    Fixes #59229.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56675 602fd350-edb4-49c9-b593-d223f7449a82

commit 2423ed55a591b3dea792e9838f5ceba9dbd4560d
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Mon Sep 25 09:12:08 2023 +0000

    Blocks: Remove `inject_hooked_block_markup` filter.
    
    Per discussion in #59424, there's agreement that the new `hooked_block_types` filter  (introduced in [56673]) covers conditional addition and removal of hooked blocks better and at a higher level than the `inject_hooked_block_markup` filter that was originally added in [56649] for that same purpose.
    Consequently, this changeset removes the latter filter.
    
    Props gziolo.
    Fixes #59439.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56674 602fd350-edb4-49c9-b593-d223f7449a82

commit 75c06d620c7dc031e6845a5f70c3ffa6fa2b6b68
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Mon Sep 25 08:42:45 2023 +0000

    Blocks: Introduce filter to allow easy addition of hooked blocks.
    
    Introduce a `hooked_block_types` filter that allows easier conditional addition (or removal) of hooked blocks for a given anchor block and relative position.
    
    {{{#!php
    function insert_shopping_cart_hooked_block( $hooked_blocks, $position, $anchor_block, $context ) {
            if ( 'after' === $position && 'core/navigation' === $anchor_block && /** $context is header template part **/ ) {
                    $hooked_blocks[] = 'mycommerce/shopping-cart';
            }
            return $hooked_blocks;
    }
    add_filter( 'hooked_block_types', 'insert_shopping_cart_hooked_block', 10, 4 );
    }}}
    
    Props gziolo, nerrad, dmsnell, ndiego.
    Fixes #59424.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56673 602fd350-edb4-49c9-b593-d223f7449a82

commit cc40da134e26441ed69185d14e50c7bbc4532d9b
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Mon Sep 25 00:05:31 2023 +0000

    Editor: Improve no JS message for block editor.
    
    Show the user a link to install the classic editor if they do not have JavaScript available and the plugin is not already installed.
    
    Props bosskhj, audrasjb, huzaifaalmesbah, sajjad67, joedolson, costdev.
    Fixes #59229.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56672 602fd350-edb4-49c9-b593-d223f7449a82

commit c1f68010558ca52e6d03226ec34df04e2b125a61
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Sun Sep 24 23:58:42 2023 +0000

    Widgets: Add missing no JS notice in Widgets screen.
    
    Add an H1 heading and an admin notice to display on the Widgets screen when JS is not available. Invite the user to either install or activate the Classic Widgets plugin, as that plugin provides basic functionality without JS.
    
    Props afercia, nihar007, huzaifaalmesbah, joedolson, matthewfarlymn, bvreeman22, bosskhj, devmuhib, shailu25, joedolson.
    Fixes #58738.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56671 602fd350-edb4-49c9-b593-d223f7449a82

commit 816561d1fdf48d6d26150404067b3d8ee7588789
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Sun Sep 24 20:11:59 2023 +0000

    Site Health: Improve `wp.a11y.speak()` notifications.
    
    Improve the experience for screen reader users by removing announcements produced in the Dashboard, simplifying the text to reduce verbosity, and ensuring that messages are spoken in the correct order to match the state of the user interface without repetition.
    
    Props afercia, alexstine.
    Fixes #58573.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56670 602fd350-edb4-49c9-b593-d223f7449a82

commit 9cec1601108c5b7e5b76aaecd88eb4b3d4680e1e
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Sep 24 07:43:50 2023 +0000

    Build/Test Tools: Remove random_compat from PHPCS and PHPUnit configuration files.
    
    This package was removed in WP 6.3, so these exclusion entries are no longer necessary.
    
    Follow-up to [42346], [42665], [49797], [56141], [56667].
    
    See #58831, #58955.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56669 602fd350-edb4-49c9-b593-d223f7449a82

commit 7211cf62d200e32659f32eb3639ec048100237d7
Author: Colin Stewart <costdev@git.wordpress.org>
Date:   Sat Sep 23 15:36:00 2023 +0000

    REST API: Correct spelling error in `block_hooks` field documentation.
    
    In [56587], a spelling error was introduced in the documentation of the new `block_hooks` field in `WP_REST_Block_Types_Controller`.
    
    This fixes the spelling error.
    
    Follow-up to [56587].
    
    Props kebbet, mukesh27, tahmina1du.
    Fixes #59426. See #59346.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56668 602fd350-edb4-49c9-b593-d223f7449a82

commit 3dbfc06512061c85dd7824fef88c3c3d791520f2
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Sep 23 11:05:18 2023 +0000

    Coding Standards: Remove unnecessary directives in the PHPCompatibility ruleset.
    
    This commit:
    
    * Removes the unnecessary exclusion patterns for the `node_modules` and `vendor` directories. As this ruleset only scans the `src` directory, those directories would never be scanned anyway.
    * Removes the selective excludes related to the random_compat package. This package was removed in WP 6.3, so these excludes are no longer necessary.
    
    Follow-up to [46290], [56141].
    
    Props jrf.
    See #58831.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56667 602fd350-edb4-49c9-b593-d223f7449a82

commit d7388b594d6fcb71d3c80d8c6e94768000502cf7
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Sep 23 10:56:24 2023 +0000

    Coding Standards: Improve organization of the PHPCompatibility ruleset.
    
    This commit:
    * Adds section headers to the ruleset file.
    * Organizes all directives in their respective sections.
    
    No functional changes.
    
    Props jrf.
    See #58831.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56666 602fd350-edb4-49c9-b593-d223f7449a82

commit 32ba91e6f58c32b35da153e7a8bff40789900933
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Fri Sep 22 19:56:48 2023 +0000

    Administration: Switch order of label/checkbox in `WP_List_Table`.
    
    Move the label after the checkbox in `WP_List_Table` instances. Resolve a false positive that will be presented by automated accessibility testing tools. Follow up to [55954].
    
    Props dimitrism, joedolson, sabernhardt, oglekler, marybaum, tobiasbg.
    Fixes #58703.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56665 602fd350-edb4-49c9-b593-d223f7449a82

commit 9608dd5f69d56c776297a3006d5fc7b7629552fb
Author: Adam Silverstein <adamsilverstein@git.wordpress.org>
Date:   Fri Sep 22 19:06:45 2023 +0000

    Security: remove the cron event that checked for https support.
    
    Fix an issue where a cron job ran every 12 hours to check for https support - even when https support was already enabled. The check is now run only when the user visits the Site Health page. Reducing the unneeded requests lowers the impact and load of hosting WordPress sites.
    
    The `wp_update_https_detection_errors` function is deprecated and the `https_detection_errors` option that was previously set by the cron job is no longer maintained. The `pre_wp_update_https_detection_errors` filter is deprecated and replaced by the `pre_wp_get_https_detection_errors` filter  which serves the same function.
    
    Props audrasjb, johnbillion, Michi91.
    Fixes #58494.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56664 602fd350-edb4-49c9-b593-d223f7449a82

commit b891120f8b1772008619f0516a1e8482b12f38c8
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Fri Sep 22 18:17:44 2023 +0000

    Administration: Remove duplicate `wp_admin_notice()` call.
    
    Remove duplicate success message displayed in `wp-admin/upload.php`. Follow up to [56573].
    
    Props davidbinda.
    See #57791.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56663 602fd350-edb4-49c9-b593-d223f7449a82

commit 34d73cbcf687579111cb8cf895de13c1e9300333
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Fri Sep 22 18:12:12 2023 +0000

    Code Modernization: Rename reserved keyword used as variable.
    
    Change the `$echo` parameter added to `wp_update_php_annnotation()` to `$display` to avoid using reserved PHP keywords as parameters. Follow up to [56570].
    
    Props kebbet, mukesh27.
    See #57791.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56662 602fd350-edb4-49c9-b593-d223f7449a82

commit 5523bd276b41fc67ba032c867c292bd7b7ab9ec9
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Fri Sep 22 17:41:11 2023 +0000

    Build/Test Tools: Introduce install and upgrade testing workflows.
    
    This introduces GitHub Action workflows for testing the installation and upgrade process to ensure there are no unexpected issues. The goal of these workflows is to replicate some of the manual testing that happens during the release process. This does not replace that testing which is a fantastic, low barrier way for someone newer to contributing to get involved. Instead, it should serve as an additional sanity check to ensure no combinations are missed.
    
    The installation workflow tests installing the latest or specified version of WordPress on all PHP and MySQL version combinations for both single and multisite.
    
    The upgrade testing will test upgrading from each branch that still receives security updates to the latest or specified version on all PHP and MySQL version combinations for both single and multisite.
    
    Both workflows confirm that no errors are encountered when using WP-CLI to install or upgrade WordPress. No test assertions of any type are currently performed, but adding some will be explored.
    
    Props costdev, azaozz, ironprogrammer, desrosj.
    See #58977.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56661 602fd350-edb4-49c9-b593-d223f7449a82

commit ba71767faf00eb184054bafddc46c7697c60c87a
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Fri Sep 22 14:28:01 2023 +0000

    Build/Test Tools: Simplify some logic in GitHub Action workflows.
    
    This simplifies the logic within the `slack-notifications` and `failed-workflow` steps in GitHub Action workflows to use the `contains()` function and object filtering.
    
    This makes it simpler to perform the needed checks by removing the need to list out every single dependent job defined in `needs`.
    
    See #58867.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56660 602fd350-edb4-49c9-b593-d223f7449a82

commit 8baf4f643c8044b4c99100c38a2e9ac9e6ed26d1
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Fri Sep 22 13:55:14 2023 +0000

    Build/Test Tools: Update the environment variable for skipping browser binaries.
    
    This changes the environment variable used in GitHub Action workflows to skip downloading the browser binary that’s a peer dependency when it’s not needed.
    
    In [56647], the version of `puppeteer` peer-dependency was bumped to `>= 20.0.0`. Starting in version `20.0.0`, puppeteer switched to using Chrome for testing instead of Chromium. With this release, the `PUPPETEER_SKIP_CHROMIUM_DOWNLOAD` environment variable was removed in favor of the more generic `PUPPETEER_SKIP_DOWNLOAD`.
    
    All workflows that do not need a browser binary now contain the correct `PUPPETEER_SKIP_CHROMIUM_DOWNLOAD` variable.
    
    Follow up to [56647].
    
    See #58863.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56659 602fd350-edb4-49c9-b593-d223f7449a82

commit e413569b67d86608485d59a0b90898207eeb5067
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Sep 22 01:16:42 2023 +0000

    Media: Use correct option name for attachment pages in `upgrade_640()`.
    
    Follow-up to [56657].
    
    See #57913.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56658 602fd350-edb4-49c9-b593-d223f7449a82

commit 15e37005db5d553ee415d6c4ce3af00b1789e36d
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Sep 22 00:02:28 2023 +0000

    Media: Disable attachment pages for new installations.
    
    WordPress creates attachment pages by default for every attachment uploaded. On the vast majority of sites, these attachment pages don't contain any meaningful information. They do however exist, get indexed by search engines, and sometimes even rank in search results, leading to bad results for users and site owners.
    
    This commit introduces a `wp_attachment_pages_enabled` database option to control the attachment pages behavior:
    
    * On existing sites, the option is set to `1` on upgrade, so that attachment pages continue to work as is.
    * For new sites, the option is set to to `0` by default, which means attachment pages are redirected to the attachment URL.
    * Sites that want to enable or disable the attachment pages can set the option to `1` or `0`, respectively.
    
    Follow-up to [2958], [3303], [7149], [34690].
    
    Props aristath, poena, afercia, joostdevalk, jonoaldersonwp, azaozz, johnbillion, joedolson, basiliskan, audrasjb, davelo, rilwis, manfcarlo, tyxla, garrett-eclipse, seedsca, eatingrules, matveb, antpb, zodiac1978, oglekler, zunaid321, costdev, SergeyBiryukov.
    Fixes #57913.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56657 602fd350-edb4-49c9-b593-d223f7449a82

commit e486ac07458d36182ee75091eac06f9a99a5ae2a
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Thu Sep 21 19:32:55 2023 +0000

    Query: Improved handling of filtered queries in WP_Query.
    
    The `WP_Query` class enables developers to customize queries using filters like `posts_fields_request`, `posts_request`, and `the_posts`, which can modify both the queried fields and retrieved post objects. In some cases with these filters, incomplete or invalid post objects lacking essential data may arise. To address this, if any of these filters are active during a query, the `get_posts` method now avoids caching post objects with the usual `update_post_caches` function call, opting for a call to `_prime_post_caches` instead. This may occasionally trigger new database queries to prime the post data cache. While this enhancement may result in rare additional database queries, it ensures that invalid post objects aren't cached, prioritizing data consistency and integrity in filtered query scenarios.
    
    Props saulirajala, spacedmonkey, flixos90, mukesh27, peterwilsoncc.
    Fixes #58599.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56656 602fd350-edb4-49c9-b593-d223f7449a82

commit 58d47f5c809410dd0ed3279f41b1bf2d006ea53d
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Thu Sep 21 18:27:17 2023 +0000

    HTTP API: Deprecate `WP_Http_Curl` and `WP_Http_Streams` classes.
    
    These classes have not been used in WordPress Core since the Requests library was introduced in [37428]. These classes are now deprecated in favor of `WP_Http`.
    
    There are two remaining spots in Core that reference these classes:
    - The `WP_Http::_dispatch_request()` method, which was marked as deprecated in favor of `WP_Http::request()` in [42766]/[44346].
    - The `WP_Http::_get_first_available_transport()`.
    
    That latter is now also marked as deprecated in favor of `\WpOrg\Requests\Requests::get_transport_class()`.
    
    Props SergeyBiryukov, rajinsharwar, hellofromTonya.
    Fixes #58705.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56655 602fd350-edb4-49c9-b593-d223f7449a82

commit b9adbb33da4f4d42a67180f69baea88ecaa8268a
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Thu Sep 21 18:22:10 2023 +0000

    Login and Registration: Improve HTML for errors and notices.
    
    Improve markup on Login and Registration errors. Use list markup for multiple issues, paragraph when only one to reduce semantic burden in the most common case. Normalize classes and markup for wrapper using `wp_admin_notice()` and `wp_get_admin_notice()` functions. Move definition of those functions from `wp-admin\includes\misc.php` to `wp-includes\functions.php`. Move tests to functions group.
    
    Props extendwings, sabernhardt, afercia, lukecavanagh, rianrietveld, oglekler, sergeybiryukov, costdev, joedolson.
    Fixes #30685.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56654 602fd350-edb4-49c9-b593-d223f7449a82

commit fa0969d06a2e0178c780143a5ac2ec7ea03bb216
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Thu Sep 21 18:02:22 2023 +0000

    Coding Standards: Remove unused variable `el` in monitorPopup.
    
    Remove an unused variable to resolves coding standards failure. Follow up to [56651].
    
    Props joedolson.
    See #58756.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56653 602fd350-edb4-49c9-b593-d223f7449a82

commit ad4a7b8879d29003b3950cc05e21ad78a53ced39
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Thu Sep 21 17:47:42 2023 +0000

    Media: Close image rotation menu when not focused.
    
    Implement a focus monitor so that if user focus moves away from the image rotation menu, it closes and doesn't block the image editing canvas. Follow up to [56239], [55919].
    
    Props nithi22, deepakvijayan, dharm1025, faisal03.
    Fixes #58756.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56652 602fd350-edb4-49c9-b593-d223f7449a82

commit 22b71b755d5800d391873d7d955408f66d3fa29f
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Thu Sep 21 16:35:30 2023 +0000

    Media: Introduce filters to customize the results from `wp_get_loading_optimization_attributes()`.
    
    This changeset introduces two filters that allow customizing the loading optimization attributes array returned from `wp_get_loading_optimization_attributes()` for individual HTML tags:
    * The `wp_get_loading_optimization_attributes` filter can be used to modify the results from the WordPress core logic.
    * The `pre_wp_get_loading_optimization_attributes` filter can be used to use entirely custom logic and effectively short-circuit the core function.
    
    Props pereirinha, mukesh27, spacedmonkey, joemcgill.
    Fixes #58893.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56651 602fd350-edb4-49c9-b593-d223f7449a82

commit c1247f6a278bd6a5fec799964177743b5d26a2aa
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Thu Sep 21 16:34:59 2023 +0000

    Taxonomy: Stop double sanitization in get_term function.
    
    In the `get_term` function, the filter method is invoked on the `WP_Term` object, which subsequently triggers the execution of `sanitize_term`. The filter method is also executed within `WP_Term::get_instance`.
    
    A common scenario when calling the `get_term` function is to invoke the function with an integer ID for the term and a filter set to "raw." This results in a call to `WP_Term::get_instance`. However, since both `get_term` and `WP_Term::get_instance` invoke the filter method, it leads to double sanitization of the term.
    
    Considering that `get_term` may be called thousands of times on a page, especially when priming a large number of terms into memory, this redundancy can result in thousands of unnecessary calls to `sanitize_term`. Performing the same sanitization operation twice with the same parameters is wasteful and detrimental to performance.
    
    To address this issue, the code has been updated to execute the filter method only when the filter parameter does not match or when changes have been made to the term object within the get_term hook. This optimization ensures that the filter is applied selectively, mitigating performance concerns and avoiding unnecessary sanitization calls.
    
    Props spacedmonkey, flixos90, costdev, mukesh27, joemcgill, oglekler, peterwilsoncc.
    Fixes #58329.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56650 602fd350-edb4-49c9-b593-d223f7449a82

commit f21ccabadb004c57d58a2d7f69e95f5988453455
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Thu Sep 21 16:16:05 2023 +0000

    Blocks: Implement automatic block insertion into Block Hooks.
    
    Block Hooks allow a third-party block to specify a position relative to a given block into which it will then be automatically inserted (e.g. a "Like" button block can ask to be inserted after the Post Content block, or an eCommerce shopping cart block can ask to be inserted after the Navigation block).
    
    The underlying idea is to provide an extensibility mechanism for Block Themes, in analogy to WordPress' [https://developer.wordpress.org/plugins/hooks/ Hooks] concept that has allowed extending Classic Themes through filters and actions.
    
    The two core tenets for Block Hooks are:
    
    1. Insertion into the frontend should happen right after a plugin containing a hooked block is activated (i.e. the user isn't required to insert the block manually in the editor first); similarly, disabling the plugin should remove the hooked block from the frontend.
    2. The user has the ultimate power to customize that automatic insertion: The hooked block is also visible in the editor, and the user's decision to persist, dismiss (i.e. remove), customize, or move it will be respected (and reflected on the frontend).
    
    To account for both tenets, the **tradeoff** was made to limit automatic block insertion to unmodified templates (and template parts, respectively). The reason for this is that the simplest way of storing the information whether a block has been persisted to (or dismissed from) a given template (or part) is right in the template markup.
    
    To accommodate for that tradeoff, [https://github.com/WordPress/gutenberg/pull/52969 UI controls (toggles)] are being added to increase visibility of hooked blocks, and to allow for their later insertion into templates (or parts) that already have been modified by the user.
    
    For hooked blocks to appear both in the frontend and in the editor (see tenet number 2), they need to be inserted into both the frontend markup and the REST API (templates and patterns endpoints) equally. As a consequence, this means that automatic insertion couldn't (only) be implemented at block ''render'' stage, as for the editor, the ''serialized'' (but ''unrendered'') markup needs to be modified.
    
    Furthermore, hooked blocks also have to be inserted into block patterns. Since practically no filters exist for the patterns registry, this has to be done in the registry's `get_registered` and `get_all_registered` methods.
    
    Props gziolo.
    Fixes #59313.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56649 602fd350-edb4-49c9-b593-d223f7449a82

commit 6b50b1b47ef714f299df3089551b7b4a4cd274da
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Thu Sep 21 15:21:45 2023 +0000

    Options, Meta APIs: Add further test coverage for comparison between old and new option value.
    
    This ensures potential future changes to the logic are covered by existing tests that should pass before and after.
    
    Props joemcgill.
    See #22192.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56648 602fd350-edb4-49c9-b593-d223f7449a82

commit d13208e2911c2fa95c6d4a9b2b55f69da57c7eb5
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Thu Sep 21 13:24:50 2023 +0000

    Build/Test Tools: Update build related dependencies to their latest versions.
    
    This updates the following npm dependencies:
    - `autoprefixer` to version `10.4.16`.
    - `grunt-contrib-qunit` to version `8.0.1`.
    - `postcss` to version `8.4.30`.
    - `react-refresh` to version `0.14.0`.
    - `sass` to version `1.68.0`.
    - `sinon` to version `16.0.0`.
    - `uuid` to version `9.0.1`.
    - `tslib` to version `2.6.2`.
    
    This change accompanies a similar one in the Gutenberg repository: https://github.com/WordPress/gutenberg/pull/54657.
    
    Props gziolo, desrosj.
    Fixes #58863.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56647 602fd350-edb4-49c9-b593-d223f7449a82

commit 9db15f2863e3625451d929767253bb1bb6c97388
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Thu Sep 21 12:26:53 2023 +0000

    External Libraries: Update the `polyfill-library` package.
    
    This updates the `wp-polyfill-node-contains` and `'wp-polyfill-dom-rect` scripts to the latest version, `4.8.0`.
    
    These scripts are no longer used by WordPress Core, but are kept up to date as a courtesy.
    
    Props rajinsharwar, hrshahin, oglekler.
    Fixes #59077.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56646 602fd350-edb4-49c9-b593-d223f7449a82

commit ecaef7c4f7d90d07ac4c70e25fe7590198f3522d
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Sep 21 12:17:42 2023 +0000

    REST API: Remove unused variable in `WP_REST_Server::match_request_to_handler()`.
    
    Previously initialized in `WP_REST_Server::dispatch()`, the `$response` variable became unused when the logic was split into two new methods, `::match_request_to_handler()` and `::respond_to_request()`.
    
    Follow-up to [34928], [48947].
    
    Props upadalavipul, mukesh27.
    Fixes #59420.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56645 602fd350-edb4-49c9-b593-d223f7449a82

commit aa033cba5cd3424a0445c6cd95e34307986880a1
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Thu Sep 21 08:32:52 2023 +0000

    Blocks: Change `traverse_and_serialize_block(s)`'s callback signature.
    
    During work on #59399, it was discovered that ''sibling'' block insertion wasn't likely going to work the way it was planned, which required devising an alternative solution. This new solution requires some changes to `traverse_and_serialize_block(s)`:
    
    - Change the signature of the existing callback such that:
      - the return value is a string that will be prepended to the result of the inner block traversal and serialization;
      - the function arguments are: a ''reference'' to the current block (so it can be modified inline, which is important e.g. for `theme` attribute insertion), the parent block, and the previous block (instead of the block index and chunk index).
    - Add a second callback argument to `traverse_and_serialize_block(s)`, which is called ''after'' the block is traversed and serialized.
      - Its function arguments are a reference to the current block, the parent block, and the next block.
    
    Props gziolo.
    Fixes #59412. See #59313.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56644 602fd350-edb4-49c9-b593-d223f7449a82

commit 8fec1ec36ee8b4a93b9416f4a5ac599f7cd82724
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Thu Sep 21 06:33:48 2023 +0000

    Editor: add lightbox setting.
    
    Adds lightbox as a valid setting to `WP_Theme_JSON` class and as an image block setting in theme.json.
    
    Props czapla, costdev, desrosj.
    Fixes #59393.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56643 602fd350-edb4-49c9-b593-d223f7449a82

commit 2c2924089da8a88462ecd678d5cb9c8fe6f66aca
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Thu Sep 21 04:23:12 2023 +0000

    Taxonomy: add taxonomy for user pattern categories.
    
    Adds a `wp_pattern_category` taxonomy linked to the `wp-block` object.
    
    Props glendaviesnz, kebbet, desrosj, mamaduka.
    Fixes #59379.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56642 602fd350-edb4-49c9-b593-d223f7449a82

commit c531947f3b14f0161cdc5dcc5d8641d5ac690b9b
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Thu Sep 21 01:25:38 2023 +0000

    Themes: Fix fatal error in `load-styles.php`.
    
    Following [56635], a fatal error occurred in `load-styles.php` leading to admin styles not working, because of a `has_filter()` call being added to `get_stylesheet_director()` and `get_template_directory()`.
    
    This changeset adds `has_filter()` to `wp-admin/includes/noop.php` to prevent such errors. The lack of loading the function does not cause any unintended side effects itself.
    
    Props iandunn, adamsilverstein.
    Fixes #59417.
    See #18298.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56641 602fd350-edb4-49c9-b593-d223f7449a82

commit af8f9f2659a0621efeb3d054a7397551e3d15303
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Thu Sep 21 00:16:56 2023 +0000

    Editor: fix typo in `css_var` doc update.
    
    Fixes a type in the doc update in [56630].
    
    Props ramonopoly, audrasjb, costdev.
    Fixes #59401.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56640 602fd350-edb4-49c9-b593-d223f7449a82

commit 89b97ba137836b60524685fbb498f2f4d46edbd4
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Wed Sep 20 21:01:02 2023 +0000

    Administration: Improve control proximity in theme details modal.
    
    Make the theme details modals in the Customizer and at Appearance > Themes consistent. Change the order of controls so both modals are in the same sequence, center all controls in both desktop and mobile views, and change delete link color to meet color contrast requirements.
    
    Props trishasalas, afercia, melchoyce, karmatosed, cathibosco1, michaelarestad, joedolson, petitphp, mikinc860.
    Fixes #59372. See #59371, #40822.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56639 602fd350-edb4-49c9-b593-d223f7449a82

commit e40a1180cbd1de45f4f361c475d5a2ebe758100d
Author: Weston Ruter <westonruter@git.wordpress.org>
Date:   Wed Sep 20 20:49:12 2023 +0000

    General: Account for `Sec-CH-UA-Mobile` client hint request header in `wp_is_mobile()`.
    
    Add missing test coverage for `wp_is_mobile()`.
    
    Fixes #59370.
    Props westonruter, flixos90.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56638 602fd350-edb4-49c9-b593-d223f7449a82

commit 5b79a4cd4970f905ed69ed5ee3af03569a6ca279
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Wed Sep 20 19:29:30 2023 +0000

    XML-RPC: Add `alt` attribute value to media item API.
    
    Add alt text to the `wp.getMediaItem` method in the XML-RPC API. Allows users to fetch alt text as a first-class member of a media object.
    
    Props thomashorta, joedolson, jivygraphics, stephenerdelyi, mukesh27, whyisjake.
    Fixes #58582.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56637 602fd350-edb4-49c9-b593-d223f7449a82

commit 107c730164c9d2941c41a4f5ff51b1a9e91cf0a8
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Wed Sep 20 17:53:53 2023 +0000

    Users: Improve vertical spacing consistency in labels.
    
    Adjust display of user profile labels on small screens so they are consistent with the layout used elsewhere.
    
    Props nandhuraj, costdev, sabernhardt, sarathar, vivekawsm.
    Fixes #58493.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56636 602fd350-edb4-49c9-b593-d223f7449a82

commit ec21b604e0527cff54b774adcb9631036d6b57ec
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Wed Sep 20 17:25:26 2023 +0000

    Themes: Deprecate usage of `TEMPLATEPATH` and `STYLESHEETPATH` constants.
    
    While generally the functions `get_template_directory()` and `get_stylesheet_directory()` were long recommended to use to get the parent or child theme directory, the `TEMPLATEPATH` and `STYLESHEETPATH` constants were still used in a few places in core, most importantly in template related logic.
    
    The remaining usage was problematic as it prevented testability of certain key components of WordPress core.
    
    This changeset replaces all remaining usage with the corresponding functions and effectively marks these constants as deprecated. It also adds test coverage accordingly and even unlocks some existing, previously commented out test coverage to work as expected.
    
    Performance of the new approach has been benchmarked and shows no notable differences. Yet, given that the current theme directories are not expected to change within a regular WordPress page load, the `get_template_directory()` and `get_stylesheet_directory()` functions were amended with in-memory caching of the result, unless one of the defining values is being filtered.
    
    Props thekt12, spacedmonkey, mukesh27, aaroncampbell, scribu, lloydbudd, cais, chipbennett, toscho, omarabid, CrazyJaco, DrewAPicture, obenland, wonderboymusic, nacin, helen, dd32, chriscct7, SergeyBiryukov, swissspidy, joemcgill, flixos90.
    Fixes #18298.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56635 602fd350-edb4-49c9-b593-d223f7449a82

commit 8c0e0b3f89ebb87b6bcb9541a59ade5cf5044bec
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Wed Sep 20 16:47:44 2023 +0000

    Blocks: Revert implementation of block insertion functions.
    
    In [56618], three functions (`insert_inner_block`, `prepend_inner_block`, and `append_inner_block`) were introduced. They were meant to be used for insertion of hooked blocks; however, it was discovered that the original idea wouldn't work for sibling insertion. Instead, a different approach will be taken (see #59412), and these functions are no longer needed and can thus be removed.
    
    Reverts [56618].
    See #59412, #59385, #59313.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56634 602fd350-edb4-49c9-b593-d223f7449a82

commit 58bb4b79ca8542d933cae26eafce32415fe5f8b8
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Sep 20 09:45:51 2023 +0000

    Coding Standards: Escape the whole attribute in `wp-admin/export.php`.
    
    It is best to always escape the complete value of an attribute, not a partial value, as otherwise the escaping could be (partially) undone when the values are joined together.
    
    While the hardcoded hyphen in this case don't necessarily create that risk, it may change to a value which could be problematic, so making it a habit to escape the value in one go is best practice.
    
    Escaping the complete value also means that a single `esc_attr()` call can be used instead of two.
    
    Follow-up to [14444], [16652], [55616], [56632].
    
    See #58831.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56633 602fd350-edb4-49c9-b593-d223f7449a82

commit 8fea8aa38959a1a7dd31d783ce10afdf1b3f7cc4
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Wed Sep 20 08:42:46 2023 +0000

    Coding Standards: Add missing escaping functions in `wp-admin/export.php`
    
    Props viralsampat.
    See #58831.
    
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56632 602fd350-edb4-49c9-b593-d223f7449a82

commit 1113b2df5a8194912c60d6751700b45335cd1f4b
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Wed Sep 20 08:08:42 2023 +0000

    Taxonomy: Restrict term edit link generation in `WP_Terms_List_Table::handle_row_actions()`.
    
    This changeset restricts edit term link generation if the user lacks the `edit_term` cap in order to prevent PHP 8.1+ deprecations shown when a user lacks this
    capability and `get_edit_term_link()` returns null.
    
    Props thelovekesh, jrf.
    Fixes #59336.
    
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56631 602fd350-edb4-49c9-b593-d223f7449a82

commit 669d11f06323baaf464cf0a2e08945007dea1fc7
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Wed Sep 20 07:04:59 2023 +0000

    Editor: update docs for `css_var`.
    
    Updates inline doc for the `css_var` key value pair in WP_Style_Engine.
    
    Props ramonopoly.
    Fixes #59401.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56630 602fd350-edb4-49c9-b593-d223f7449a82

commit bee2dc4ba20b6ad2bd5ec4a4327b36383407497a
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Wed Sep 20 01:24:32 2023 +0000

    Editor: Fix post editor layout when Post Content has no attributes.
    
    Changes output of `wp_get_post_content_block_attributes` to return null if Post Content block doesn’t exist or empty array if it has no attributes.
    
    Props flixos90, mukesh27.
    Fixes #59358.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56629 602fd350-edb4-49c9-b593-d223f7449a82

commit a0cce3900e7b9dc8af454f45f57a7441f2d64155
Author: Colin Stewart <costdev@git.wordpress.org>
Date:   Tue Sep 19 22:43:38 2023 +0000

    Login and Registration: Introduce classes `wp-login.php` footer links.
    
    This introduces classes for the "Log in", "Register" and "Lost your password?" links in the footer of `wp-login.php` forms so that they may be easily targeted for individual styling.
    
    The new classes are:
    - `.wp-login-log-in`
    - `.wp-login-register`
    - `.wp-login-lost-password`
    
    Props wparslan, thomasplevy, rajinsharwar, audrasjb, joedolson, costdev.
    Fixes #57590.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56628 602fd350-edb4-49c9-b593-d223f7449a82

commit 3f76edda70d033f9283c5407e9b159ee8fca2eec
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Tue Sep 19 19:30:51 2023 +0000

    External Libraries: Update the `regenerator-runtime` version.
    
    Adds the required change to the `script-loader.php` file for [56626] that was missed.
    
    See #59078.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56627 602fd350-edb4-49c9-b593-d223f7449a82

commit e266e9391b71831176dc5911328f75a5b2f85cd8
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Tue Sep 19 19:28:02 2023 +0000

    External Libraries: Update the `regenerator-runtime` library.
    
    This updates the `regenerator-runtime` library to version `0.14.0`.
    
    Props rajinsharwar, oglekler.
    Fixes #59078.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56626 602fd350-edb4-49c9-b593-d223f7449a82

commit 3bacfc9f978876549ee0e2b5068be02e006d956c
Author: Joe McGill <joemcgill@git.wordpress.org>
Date:   Tue Sep 19 17:03:23 2023 +0000

    Media: Edit new hook name in `get_available_post_mime_types()`.
    
    This is a follow-up to [56452] in which a new filter hook was added to `get_available_post_mime_types()` to override a potentially slow query. This renames the previous hook from `get_available_post_mime_types` to `pre_get_available_post_mime_types` for clarity.
    
    Props rcorrales, emrikol, johnbillion, joemcgill, mukesh27.
    Fixes #52759.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56623 602fd350-edb4-49c9-b593-d223f7449a82

commit 7d96189ba1165d78cc11ac7b6ce06afcff603566
Author: Colin Stewart <costdev@git.wordpress.org>
Date:   Tue Sep 19 16:41:22 2023 +0000

    Build/Test Tools: Add `sys_get_temp_dir()` to `open_basedir` tests.
    
    In PHPUnit 10.3.5, 9.6.13 and 8.5.34, the child processes used for process isolation now use temporary files to communicate their result to the parent process.
    
    This caused a failure in some tests that set the `open_basedir` PHP directive to a value that did not include `sys_get_temp_dir()`.
    
    This adds `sys_get_temp_dir()` to the `open_basedir` value set by the tests to ensure that permission is still granted for the temporary directory.
    
    PHPUnit uses `sys_get_temp_dir()`. To ensure the result is the same, Core's `get_temp_dir()` function is not used.
    
    References:
    - https://github.com/sebastianbergmann/phpunit/issues/5356
    
    Props desrosj, mukesh27, SergeyBiryukov, costdev.
    Fixes #59394.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56622 602fd350-edb4-49c9-b593-d223f7449a82

commit 9a734f3751f72b7e4627737b60e2736993baeaee
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Tue Sep 19 16:15:52 2023 +0000

    Themes: Improve performance of get_block_theme_folders function
    
    This commit enhances the performance of the get_block_theme_folders function by introducing a new method called get_block_template_folders within the WP_Theme class. Previously, this function suffered from poor performance due to repeated file lookups using file_exists. The new method implements basic caching, storing the result in the theme's cache, similar to how block themes are cached in the block_theme property (see [55236]).
    
    Additionally, this change improves error handling by checking if a theme exists before attempting to look up the file. It also enhances test coverage.
    
    Props spacedmonkey, thekt12, swissspidy, flixos90, costdev, mukesh27.
    Fixes #58319.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56621 602fd350-edb4-49c9-b593-d223f7449a82

commit 48b9b6cbab7320b9dba23bd40c7bc77ccbf1084b
Author: Greg ZiÃ³Å‚kowski <gziolo@git.wordpress.org>
Date:   Tue Sep 19 12:48:41 2023 +0000

    Blocks: Introduce a variation of serialize blocks helper with traversing
    
    Introduces two new functions `traverse_and_serialize_blocks` and `traverse_and_serialize_block` with the additional `$callback` argument. It is possible to pass parent block, block index, chunk index to the callback argument.
    
    Reverts changes applied to `serialize_blocks` and `serialize_block` in #59327 with [56557].
    
    Props ockham, mukesh27.
    See #59313.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56620 602fd350-edb4-49c9-b593-d223f7449a82

commit 3916624c139759e0a572d64eb449111f0259771b
Author: Colin Stewart <costdev@git.wordpress.org>
Date:   Tue Sep 19 12:36:44 2023 +0000

    Editor: Fix parameter reference in block editor settings tests.
    
    In [50776], the `filter_set_block_editor_settings_post()` callback was introduced for use in block editor settings tests.
    
    This contained a reference to an `$allowed_block_types` parameter, which doesn't exist.
    
    This changes the reference to `$editor_settings`.
    
    Follow-up to [50776].
    
    Props david.binda, mukesh27, SergeyBiryukov.
    Fixes #59391.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56619 602fd350-edb4-49c9-b593-d223f7449a82

commit 8e8de91f0a3bfe8df51e018a19c0173b95393d86
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Tue Sep 19 12:34:50 2023 +0000

    Blocks: Implement block insertion functions.
    
    For #59313, we need to implement functions to insert a given parsed block into another parsed block's inner blocks, and to prepend and append to that array, respectively.
    
    We will use those functions in combination with `traverse_and_serialize_blocks` (see #59327) to implement automatic insertion of hooked blocks into block templates and patterns.
    
    Props gziolo.
    Fixes #59385.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56618 602fd350-edb4-49c9-b593-d223f7449a82

commit cf2f441515f18ed81662d52bf049f2790e6f8ffa
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Sep 19 12:28:25 2023 +0000

    KSES: Add `writing-mode` to the list of safe CSS properties.
    
    Original PR from Gutenberg repository:
    * [https://github.com/WordPress/gutenberg/pull/54581 #54581 Gutenberg Plugin: Add hook to allow `writing-mode` as a safe CSS property]
    
    Reference: [https://developer.mozilla.org/en-US/docs/Web/CSS/writing-mode MDN Web Docs: writing-mode].
    
    Follow-up to [56605].
    
    Props wildworks, mukesh27, poena, andrewserong.
    Fixes #59387.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56617 602fd350-edb4-49c9-b593-d223f7449a82

commit 8ce85f99f372ad2fa0000dbd9aec685399443a83
Author: Colin Stewart <costdev@git.wordpress.org>
Date:   Tue Sep 19 12:23:16 2023 +0000

    Coding Standards: Replace PHP alias `join()` with `implode()`.
    
    In [52190], some new instances of the `join()` alias were introduced in the test suite.
    
    Using the canonical function name for PHP functions is strongly recommended, as aliases may be deprecated or removed without (much) warning.
    
    This replaces the new `join()` uses with the canonical `implode()` function name.
    
    Follow-up to [46182], [49193], [49805], [52190].
    
    Props david.binda, mukesh27.
    Fixes #59389.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56616 602fd350-edb4-49c9-b593-d223f7449a82

commit 1cd98779f712991363071131ad58a47a3604abe8
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Tue Sep 19 01:43:07 2023 +0000

    Editor: fix pattern alignment in editor view.
    
    Adjusts root padding for synced patterns in the editor to avoid discrepancies with the front end view.
    
    Props aaronrobertshaw, mukesh27.
    Fixes  #59359.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56615 602fd350-edb4-49c9-b593-d223f7449a82

commit 1327f172cd592e5bf305655ffa8c053c3a2ebb70
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Tue Sep 19 01:27:43 2023 +0000

    Editor: add background image support.
    
    Adds a new background block support with the ability to set a background image on blocks that opt into it.
    
    Props andrewserong, mukesh27.
    Fixes #59357.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56614 602fd350-edb4-49c9-b593-d223f7449a82

commit d4cf6827161a88118e5f970426527136cf1ca533
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Mon Sep 18 17:36:51 2023 +0000

    Bundled Theme: Add missing dimension attributes to images in Twenty Twenty-Two patterns.
    
    The dimension attributes `width` and `height` should be present on every image in order to avoid layout shifts and be able to leverage WordPress core's image loading optimization functionality.
    
    This changeset adds dimension attributes to the `core/image` blocks used in block patterns in Twenty Twenty-Two, where this is particularly critical as WordPress core cannot backfill the attributes for those images, as their sources are not part of the Media Library.
    
    Props spacedmonkey, thekt12, mukesh27, flixos90.
    Fixes #59256.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56613 602fd350-edb4-49c9-b593-d223f7449a82

commit 414a1232c273f6e9dcf544d8ee411b22e5d92a5c
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Mon Sep 18 14:53:37 2023 +0000

    Media: Enhance `wp_get_loading_optimization_attributes()` to support arbitrary context values.
    
    The `wp_get_loading_optimization_attributes()` function, which was introduced in 6.3, based on the now deprecated `wp_get_loading_attr_default()` function introduced in 5.5, relies on a `$context` parameter based on which it may alter its behavior and the attributes returned. So far, it has only supported context values used within WordPress core.
    
    This changeset decouples the behaviors of the function from specific contexts, allowing for more flexibility. Theme and plugin developers will be able to rely on their own context values when rendering images in non-standard ways, rather than being forced to use a core context, to get the loading optimization benefits the function provides.
    
    As part of this change, a `wp_loading_optimization_force_header_contexts` filter is introduced, which allows filtering the map of context values and whether they should be considered header contexts, i.e. i.e. any image having one of these contexts will be assumed to appear above the fold.
    
    Props mukesh27, costdev, flixos90.
    Fixes #58894.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56612 602fd350-edb4-49c9-b593-d223f7449a82

commit 6a264d2de04ca9ccc1fdd13791925f7323c3c61d
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Sep 18 13:17:39 2023 +0000

    Quick Edit: Allow Quick Edit to be disabled for custom post types or taxonomies.
    
    Some custom post types or taxonomies may not need the Quick Edit functionality, in which case adding hidden fields and rendering the form with the data to edit would be redundant.
    
    This commit introduces two filters for more granular control:
    
    * `quick_edit_enabled_for_post_type`
    * `quick_edit_enabled_for_taxonomy`
    
    Follow-up to [8857], [9083], [9098].
    
    Props garyc40, sabernhardt, mukesh27, costdev, oglekler, wyrfel, peterwilsoncc, faguni22, robinwpdeveloper, webcommsat, johnbillion, azaozz, hellofromTonya, GunGeekATX, Jick, mikeschinkel, jane, nacin, helen, wonderboymusic, DrewAPicture, SergeyBiryukov.
    Fixes #16502, #19343, #57596.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56611 602fd350-edb4-49c9-b593-d223f7449a82

commit 6340624328d71e353e51171bdadb249ae5d3d5d3
Author: Greg ZiÃ³Å‚kowski <gziolo@git.wordpress.org>
Date:   Mon Sep 18 12:40:11 2023 +0000

    Blocks: Introduce helper function to retrieve hooked blocks
    
    In order to implement Block Hooks (see #59313), we added block_hooks field to the WP_Block_Type class, as well as to block registration related functions. In this follow-up, new helper function gets introduced that is going to compute the list of hooked blocks by other registered blocks for a given block type.
    
    Extracted from https://github.com/WordPress/wordpress-develop/pull/5158 and covered with unit tests.
    
    Props ockham.
    Fixes #59383.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56610 602fd350-edb4-49c9-b593-d223f7449a82

commit 4ee594761f16e7aa9314fbf3088c3ad0c9ea3681
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Mon Sep 18 12:39:18 2023 +0000

    Plugins: Store result of call to array_keys, to save repeated calls in WP_Hook class.
    
    In the `WP_Hook` class the function `array_keys` was called every time an array of hook priorities was needed. For sites with lots of filters or actions, this would result in thousands of calls to the `array_keys` function, which uses server resources. Instead of recomputing this array every time it is needed, only compute it when filters are added and removed, then store the result as a class property. Improve unit tests to ensure this behaviour is tested.
    
    Props spacedmonkey, bor0, flixos90, hellofromTonya, mukesh27.
    Fixes #58458.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56609 602fd350-edb4-49c9-b593-d223f7449a82

commit a7c9394b789daad0754f21ca2bd4f6ee4d75b1b7
Author: Colin Stewart <costdev@git.wordpress.org>
Date:   Mon Sep 18 10:55:35 2023 +0000

    Docs: Document `aria-live` and `hidden` in `safecss_filter_attr()`.
    
    In [56603], support was added for `aria-live` and `hidden` attributes in `safecss_filter_attr()`.
    
    This adds a `@since` annotation to document this change.
    
    Follow-up to [56603].
    
    Props mukesh27.
    See #57791.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56608 602fd350-edb4-49c9-b593-d223f7449a82

commit d47515c27439d3e25a490cf5a5876700a4b9b9f3
Author: Greg ZiÃ³Å‚kowski <gziolo@git.wordpress.org>
Date:   Mon Sep 18 10:33:24 2023 +0000

    Tests: Add additional tests covering Block Hooks registration
    
    Props ockham.
    See #59346.
    Follow-up [56587].
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56607 602fd350-edb4-49c9-b593-d223f7449a82

commit 3239a8e8f40cfc22dec4d265c72d27912c8822e8
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Mon Sep 18 07:02:45 2023 +0000

    Posts: update admin notices to refer to patterns.
    
    Updates `wp_block` action notices to refer to patterns instead of blocks.
    
    Props aaronrobertshaw, mukesh27, oglekler.
    Fixes #59305.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56606 602fd350-edb4-49c9-b593-d223f7449a82

commit da48a9e76efacb350d3caaae3880f00d8d5f33cc
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Mon Sep 18 06:47:44 2023 +0000

    Editor: add text orientation for blocks with typography support.
    
    Adds a new text orientation option to the typography block support, implemented with CSS writing-mode.
    
    Props poena.
    Fixes #59306.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56605 602fd350-edb4-49c9-b593-d223f7449a82

commit ac8db41833e0c29be1b0f9b9aeabe735f37e63fb
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Mon Sep 18 06:25:49 2023 +0000

    Editor: add block instance element color support for buttons and headings.
    
    Adds support for buttons and headings to the colors and elements block supports, allowing button and heading element colors to be changed on individual blocks.
    
    Props aaronrobertshaw.
    Fixes #59309.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56604 602fd350-edb4-49c9-b593-d223f7449a82

commit 4bcf32a6983381a086dc168f1a85911ae507569e
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Mon Sep 18 00:28:24 2023 +0000

    Administration: Add support for attributes in `wp_admin_notice()`.
    
    Allow admin notices to be created with additional attributes. Test attributes include `hidden`, `data-*`, and `role="*"` values, which are all in use in various admin notices across core.
    
    This commit adds `aria-live` and `hidden` to the KSES global attributes array to support core usages.
    
    Follow up to [56408], [56409], [56410], [56518], [56570], [56571], [56572], [56573], [56576], [56589], [56590], [56597], [56599], [56600], [56601], [56602].
    
    Props costdev, joedolson.
    See #57791.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56603 602fd350-edb4-49c9-b593-d223f7449a82

commit 4e0e46018d158f68f9a9b1c6fea9c52fb8d76c42
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Sun Sep 17 22:49:06 2023 +0000

    Administration: Move `tabindex="-1"` from notice to JS.
    
    In a handful of admin notices, a `tabindex` attribute is set so that JS can move focus to the notice `div`. Rather than adding `tabindex` to globally accepted attributes for `wp_kses_post()`, move the assignment of `tabindex` into the JS handlers that display those notices. The attribute is only relevant if JS is running, so there is no reason to add it in the original HTML notice.
    
    Follow up to [56408], [56409], [56410], [56518], [56570], [56571], [56572], [56573], [56576], [56589], [56590], [56597], [56599], [56600], [56601].
    
    Props costdev, joedolson.
    See #57791.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56602 602fd350-edb4-49c9-b593-d223f7449a82

commit 1e11c3fce87f00520d2a46322c1dc8edc9952dd7
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Sun Sep 17 19:10:58 2023 +0000

    Administration: Use `wp_admin_notice()` in `wp-admin/network/`.
    
    Add additional usage of `wp_admin_notice()` in `wp-admin/network/` where previously overlooked.
    
    Follow up to [56408], [56409], [56410], [56518], [56570], [56571], [56572], [56573], [56576], [56589], [56590], [56597], [56599], [56600].
    
    Props costdev, joedolson.
    See #57791.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56601 602fd350-edb4-49c9-b593-d223f7449a82

commit f058bd12170560976365239279b532536acd17a3
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Sun Sep 17 15:31:32 2023 +0000

    Administration: Use `wp_admin_notice()` more in `wp-admin/`.
    
    Add additional usage of `wp_admin_notice()` in `wp-admin/` on `.error` and miscellaneous usages previously overlooked.
    
    Follow up to [56408], [56409], [56410], [56518], [56570], [56571], [56572], [56573], [56576], [56589], [56590], [56597], [56599].
    
    Props costdev, joedolson.
    See #57791.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56600 602fd350-edb4-49c9-b593-d223f7449a82

commit ce32693b3dde40b3293e9f6057c1857bc8899292
Author: Colin Stewart <costdev@git.wordpress.org>
Date:   Sun Sep 17 15:21:07 2023 +0000

    Administration: Use `wp_admin_notice()` more in `/wp-admin/includes/`.
    
    Adds further usages of `wp_admin_notice()` in `/wp-admin/includes/` on `.notice-error`, `.notice-warning`, `.error`, and `.updated`.
    
    Ongoing task to implement new function across core.
    
    Follow-up to [56408], [56409], [56410], [56518], [56570], [56571], [56572], [56573], [56576], [56589], [56590], [56597].
    
    Props joedolson, mukesh27, costdev.
    See #57791.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56599 602fd350-edb4-49c9-b593-d223f7449a82

commit fe097d1686f6eea3e7a347ad5f361c1bbd6ce1f8
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Sep 17 02:08:25 2023 +0000

    Coding Standards: Fix a few newly introduced WPCS issues.
    
    Follow-up to [56515], [56557], [56560].
    
    Props jrf.
    See #59161, #58831.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56598 602fd350-edb4-49c9-b593-d223f7449a82

commit 5cfb81706703557f0d9afb96a16d368d0a85a9b5
Author: Colin Stewart <costdev@git.wordpress.org>
Date:   Sat Sep 16 21:47:22 2023 +0000

    Administration: Increase `wp_admin_notice()` usage in `/wp-includes/`.
    
    Adds further usages of `wp_admin_notice()` in the root level of `/wp-includes/` on `.error` and `.notice-info`.
    
    Ongoing task to implement new function across core.
    
    Follow-up to [56408], [56409], [56410], [56518], [56570], [56571], [56572], [56573], [56576], [56589], [56590].
    
    Props joedolson, costdev.
    See #57791.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56597 602fd350-edb4-49c9-b593-d223f7449a82

commit 8161a8c62a2bfdee02fdbeb4aa7ea773f42e7afa
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Sep 16 06:48:59 2023 +0000

    Coding Standards: Remove extra parentheses in a few `str_contains()` conditionals.
    
    Follow-up to [55988].
    
    Props Cybr.
    See #58831.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56596 602fd350-edb4-49c9-b593-d223f7449a82

commit 0c7ddbd67a5ca8a2eacb0e034a08549fb190db28
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Fri Sep 15 16:13:52 2023 +0000

    Options, Meta APIs: Optimize get_option by relocating notoptions cache lookup.
    
    In the get_option function, a cache lookup for the notoptions key is performed, which stores an array of keys for options known not to exist. This optimization prevents repeated database queries when certain options are requested. However, the cache lookup for notoptions was conducted before checking if the requested option exists in the cache. Given that it's more likely that the option does exist, this commit reorders the checks to first verify the option's existence in the cache before confirming its absence. This adjustment reduces redundant queries and also eliminates an unnecessary cache lookup, improving overall performance.
    
    Props spacedmonkey, costdev, flixos90, azaozz.
    Fixes #58277.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56595 602fd350-edb4-49c9-b593-d223f7449a82

commit 60d2d8ac75c4350a45e4c6970c7d0295b757f1f0
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Sep 15 10:45:18 2023 +0000

    Coding Standards: Remove the custom property for the `FileName` sniff.
    
    Test files should comply with the naming conventions accepted by PHPUnit, not with the WP naming conventions.
    
    While the `WordPress.File.FileName` sniff makes a best effort to prevent throwing errors for files containing test classes, the recommended manner to deal with test files is to exclude the complete test directory from being subject to this sniff.
    
    This updates the ruleset to follow the recommendation.
    
    Follow-up to [42346], [45607].
    
    Props jrf.
    See #59161.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56594 602fd350-edb4-49c9-b593-d223f7449a82

commit ffc7b50e4be43d73c523ba4166710d5944dcb03b
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Sep 15 09:06:23 2023 +0000

    Coding Standards: Improve organization of the WPCS-based PHPCS ruleset.
    
    This commit:
    * Adds section headers to the ruleset file.
    * Organizes all directives in their respective sections.
    
    No functional changes.
    
    Props jrf.
    See #59161.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56593 602fd350-edb4-49c9-b593-d223f7449a82

commit fd894bfd2ccc057323907e65bb347fa81a35faa9
Author: Greg ZiÃ³Å‚kowski <gziolo@git.wordpress.org>
Date:   Fri Sep 15 07:49:27 2023 +0000

    Blocks: Remove the `gutenberg` textdomain accidently added to translation
    
    Props soean.
    See #59346.
    Follow-up [56587].
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56592 602fd350-edb4-49c9-b593-d223f7449a82

commit 227fdb8b741a71e300062d80e9471fef87a5ff11
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Thu Sep 14 22:33:50 2023 +0000

    Media: Fix focus loss when closing Image Rotation menu.
    
    Only shift focus into menu when opening the menu. Check `aria-expanded` value of toggle before moving focus.
    
    Props joedolson.
    Fixes #59353.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56591 602fd350-edb4-49c9-b593-d223f7449a82

commit 73d839264f589f5a0bc2bdd525999f8a68e1ff41
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Thu Sep 14 22:08:27 2023 +0000

    Administration: `additional_classes` is not a function.
    
    Correct usage of `additional_classes` array parameter as if it were a function. Clearly, I'm getting tired and missing things. So many little changes. Follow up to [56573].
    
    Props joedolson.
    See #57791.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56590 602fd350-edb4-49c9-b593-d223f7449a82

commit bd8ff4a62a7a63cf2790071bb901471cb4284cc1
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Thu Sep 14 17:10:25 2023 +0000

    Administration: Fix undeclared variable.
    
    Moved `$updated_notice_args` to be defined before the conditional in which it's used.
    
    Props TobiasBg.
    See #57791.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56589 602fd350-edb4-49c9-b593-d223f7449a82

commit da28362ba1a99a86211dfc75c376b16f8218b967
Author: Greg ZiÃ³Å‚kowski <gziolo@git.wordpress.org>
Date:   Thu Sep 14 14:54:41 2023 +0000

    Tests: Improve the assertions for REST API endpoint for block types
    
    Follow-up to [56587], [55673]. While working on #59346, it was noted that selectors fiels is not always included in the assertions. While looking at it is was difficult to spot the issue because the random order of how REST API fields where listed.
    
    Reorderd the REST API fields in the test cases to follow the list from the documentation: https://github.com/WordPress/gutenberg/blob/trunk/docs/reference-guides/block-api/block-metadata.md. This way it's going to be easier to maintain the list moving forward.
    
    Props ockham.
    See #59346, #59313, #57585.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56588 602fd350-edb4-49c9-b593-d223f7449a82

commit 7b90f22573d4a58dddf6f0d521d2079b9eeda2f3
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Thu Sep 14 13:23:13 2023 +0000

    General: Add `block_hooks` field to block type registration, REST API.
    
    In order to implement Block Hooks, we need to add a new `block_hooks` field to the `WP_Block_Type` class, as well as to block registration related functions, the block types REST API controller, etc.
    
    Props gziolo.
    Fixes #59346. See #59313.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56587 602fd350-edb4-49c9-b593-d223f7449a82

commit e005108fe18e6278f4e6dd0fec030e503fe0ff46
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Sep 14 12:44:23 2023 +0000

    Coding Standards: Restore more descriptive variable names in a few class methods.
    
    When various methods parameters in child classes were renamed to `$item` to match the parent class for PHP 8 named parameter support, most of the methods restored the more descriptive, specific name at the beginning for better readability, with several exceptions for methods consisting only of a few lines.
    
    To avoid confusion about why some methods do that and some don't, this commit aims to bring more consistency to the code, specifically in list tables' `::column_default()` methods.
    
    Follow-up to [51728], [51737], [51786].
    
    See #58831.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56586 602fd350-edb4-49c9-b593-d223f7449a82

commit 4ba29eb1cbe7219e26adc08db8fab78593b054c7
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Thu Sep 14 12:38:04 2023 +0000

    Taxonomy: Introduce 'cache_results' parameter to WP_Term_Query for bypassing query caching.
    
    Incorporating a new 'cache_results' parameter into the WP_Term_Query class, this commit empowers developers with the ability to bypass query caches, explicitly triggering database queries when needed.  This brings the `WP_Term_Query` class inline with `WP_Query` and `WP_User_Query` that already have a 'cache_results' parameter.
    
    Update the `term_exists` function to use this new parameter, so the term query caches are not used while importing.
    
    Props dlh, spacedmonkey, peterwilsoncc.
    Fixes #52710.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56585 602fd350-edb4-49c9-b593-d223f7449a82

commit 950e76270f5ff9495e3db176deac668df3802e76
Author: Greg ZiÃ³Å‚kowski <gziolo@git.wordpress.org>
Date:   Thu Sep 14 11:45:51 2023 +0000

    Tests: Split tests for _inject_theme_attribute_in_template_part_block
    
    Follow-up to [56578].
    See #59338.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56584 602fd350-edb4-49c9-b593-d223f7449a82

commit a5bcf199a768c8efd19fcd5fffc5f4f1b660c808
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Thu Sep 14 11:23:59 2023 +0000

    Bundled Theme: Implement the_header_image_tag function for enhanced compatibility for older core themes.
    
    The `the_header_image_tag` function was introduced in WordPress 4.4 as part of [35594]. It is used in all themes created post WordPress 4.4 that supported header images. The function `get_header_image_tag` continues to get updated with new image features, like lazy loading, async decoding and fetch priority. To ensure our core themes maintain compatibility and benefit from these enhancements, a backward compatibility shim has been applied, integrating the `the_header_image_tag` function into the following core themes:
    
    - Twenty Ten
    - Twenty Eleven
    - Twenty Twelve
    - Twenty Fourteen
    - Twenty Sixteen
    
    This change ensures future compatibility and modern image features are applied for header images to these older themes.
    
    Props spacedmonkey, flixos90, mukesh27.
    Fixes #58675.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56583 602fd350-edb4-49c9-b593-d223f7449a82

commit 943e2b95511794417d545ca06fa22c0167391267
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Thu Sep 14 10:23:55 2023 +0000

    Twenty Ninteen: Revert changes to 'style-rtl.css'.
    
    This revert changes to Twenty Nineteen 'style-rtl.css' file made in [56580] as it auto-generated during the build process.
    
    Unprops karmatosed.
    Props costdev.
    See #58443.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56581 602fd350-edb4-49c9-b593-d223f7449a82

commit 73053994bf11ddde4214cb03fbd43c42ee8b612c
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Thu Sep 14 09:45:48 2023 +0000

    Twenty Nineteen: Fixes button line height.
    
    Line height was broken for button block and adding spacing.
    
    Props nidhidhandhukiya, shailu25.
    Fixes #58443.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56580 602fd350-edb4-49c9-b593-d223f7449a82

commit 18fbb97e50af1c4b48d5f1cb3c53011c6a6cbf9e
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Thu Sep 14 09:04:04 2023 +0000

    Themes: Fix @covers PHPDoc line for test.
    
    Follow-up to [56578].
    Props @mukesh27.
    See #59338.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56579 602fd350-edb4-49c9-b593-d223f7449a82

commit bbb85de12dc9a04e9751f69fc784b476eecea5d2
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Thu Sep 14 08:50:43 2023 +0000

    Themes: Inject `theme` attribute during serialization.
    
    Rather than using `_inject_theme_attribute_in_block_template_content` to inject the `theme` attribute into all Template Part blocks found in a given file-based Block Template, introduce a new function called `_inject_theme_attribute_in_template_part_block`, and use that as second argument to `serialize_blocks()` (introduced in [56557]) in order to inject said attribute during tree traversal for serialization.
    
    This allows for a more modular approach that will eventually be extended to implement automatic insertion of hooked blocks.
    
    Note that we're guarding `_build_block_template_result_from_file()` (i.e. the callsite of `_inject_theme_attribute_in_template_part_block` and previously of `_inject_theme_attribute_in_block_template_content`) against regressions through additional unit test coverage added in [56562].
    
    Props @gziolo.
    Fixes #59338. See #59313.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56578 602fd350-edb4-49c9-b593-d223f7449a82

commit 11c53d559bf89c4647f75ca464886d592c0c1fb1
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Thu Sep 14 05:51:09 2023 +0000

    Post Types: allow trashing draft patterns.
    
    Adds `delete_posts` to capabilities for the `wp_block` post type.
    
    Props ramonopoly, johnbillion, dhruvishah2203, audrasjb.
    Fixes #59041.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56577 602fd350-edb4-49c9-b593-d223f7449a82

commit 4bdca50d7a5a1d216cbdbae26c0b39357b941e76
Author: Colin Stewart <costdev@git.wordpress.org>
Date:   Thu Sep 14 05:48:41 2023 +0000

    Administration: Fix erroneous call to `wp_admin()`.
    
    In [56573], a typo caused `wp_admin()` to be called rather than `wp_admin_notice()`.
    
    This fixes the typo to correctly call `wp_admin_notice()`.
    
    Follow-up to [56573].
    
    Props takayukister.
    See #57791.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56576 602fd350-edb4-49c9-b593-d223f7449a82

commit ec47a8f85ff0b7bb1eee423484f5ef67e9d4d929
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Thu Sep 14 05:11:50 2023 +0000

    REST API: quality tweaks to WP_REST_Global_Styles_Controller.
    
    Removes redundant local variable and changes validate_custom_css() access modifier from private to protected.
    
    Props ramonopoly, spacedmonkey.
    Fixes #59296.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56575 602fd350-edb4-49c9-b593-d223f7449a82

commit 1a168a199e3497ac254db09862b0c0b15497b849
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Thu Sep 14 04:54:22 2023 +0000

    Editor: disable default style engine optimisation.
    
    Stops style engine from combining CSS selectors by default so that rule order is preserved.
    
    Props ramonopoly, rajinsharwar, timdix, costdev, audrasjb, SergeyBiryukov, JeffPaul, mukesh27.
    Fixes #58811.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56574 602fd350-edb4-49c9-b593-d223f7449a82

commit f43aaaf7419bd1e4b1500e7b0e49c6eda8573dbb
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Thu Sep 14 02:13:42 2023 +0000

    Administration: Use `wp_admin_notice()` for `.updated`.
    
    Add usages of `wp_admin_notice()` and `wp_get_admin_notice()` on `.updated` in the root level of `/wp-admin/`. Ongoing task to implement new function across core.
    
    Props costdev, joedolson.
    See #57791.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56573 602fd350-edb4-49c9-b593-d223f7449a82

commit 795534f909d30cd6092142b4fbaa63898a0c82a7
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Thu Sep 14 01:23:37 2023 +0000

    Administration: Use `wp_admin_notice()` in `/wp-includes/`.
    
    Add usages of `wp_admin_notice()` and `wp_get_admin_notice()` on `.notice-[type]` in the root level of `/wp-includes/`. Ongoing task to implement new function across core.
    
    Props costdev, joedolson.
    See #57791.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56572 602fd350-edb4-49c9-b593-d223f7449a82

commit fa21528a9aff81fb62d18bbee8f68ad009bee36e
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Thu Sep 14 01:11:29 2023 +0000

    Administration: Use `wp_admin_notice()` in `/wp-admin/includes`.
    
    Add usages of `wp_admin_notice()` and `wp_get_admin_notice()` on `.notice-[type]` in the root level of `/wp-admin/includes`. Ongoing task to implement new function across core.
    
    Props costdev, joedolson.
    See #57791.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56571 602fd350-edb4-49c9-b593-d223f7449a82

commit 3cefc7c7ffa31efb7fb5f746b2f31b70f0184937
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Thu Sep 14 00:52:45 2023 +0000

    Administration: Use `wp_admin_notice()` in `/wp-admin/`.
    
    Add usages of `wp_admin_notice()` and `wp_get_admin_notice()` on `.notice-[type]` in the root level of `/wp-admin/`. Ongoing task to implement new function across core.
    
    Props costdev, joedolson.
    See #57791.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56570 602fd350-edb4-49c9-b593-d223f7449a82

commit 96a7954ee6a52a11f3a6f1f1c37d949eb51a034b
Author: Weston Ruter <westonruter@git.wordpress.org>
Date:   Wed Sep 13 22:14:15 2023 +0000

    Bundled Themes: Ensure Twenty Twenty's main script loads in `head` for WP<6.3.
    
    Amends [56556].
    Props westonruter, flixos90, peterwilsoncc.
    Fixes #59316.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56569 602fd350-edb4-49c9-b593-d223f7449a82

commit 1c2653dbcf1b7b3c5cdb8e16dffdf9f2e1666332
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Wed Sep 13 20:50:17 2023 +0000

    General: Update `wp_register_script()` calls in core to use new function signature.
    
    Since most core scripts are registered using `WP_Scripts::add()`, which is not affected by the signature change, only calls to `wp_register_script()` using the old signature need to be updated. There is only a single instance left, which is updated in this changeset.
    
    Props incursadesigns.
    Fixes #58634.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56568 602fd350-edb4-49c9-b593-d223f7449a82

commit 6f74f616b8973fdef00e81e0984d33c31b229371
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Wed Sep 13 15:38:27 2023 +0000

    Twenty-Twenty One: Fixes quotation mark being outside with background.
    
    The quotation marks were outside when the background color was applied.
    
    Props nidhidhandhukiya, sabernhardt, shailu25, harshgajipara, poena, huzaifaalmesbah.
    Fixes #57377.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56567 602fd350-edb4-49c9-b593-d223f7449a82

commit 640a53354cecf1f65098a311edc7c974037ff28b
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Wed Sep 13 14:32:33 2023 +0000

    REST API: Avoid unnecessarily preparing item links REST API index.
    
    Building upon the changes introduced in [53760], this commit refines the behavior of the REST API index. Specifically, it addresses performance concerns related to the unnecessary preparation of item links, such as site icon and logo links.
    
    Prior to this update, the index controller was invoking the prepare_links method regardless of whether the _links or _embedded fields were requested in the response. This led to unnecessary database lookups and decreased overall performance.
    
    In this commit, we implement a more efficient approach. Now, the prepare_links method will only be called when the _links or _embedded fields are explicitly requested in the response. This optimization ensures that we prepare links only when they are intended for inclusion in the API response, reducing unnecessary overhead.
    
    By implementing this improvement, we enhance the overall efficiency and performance of the WordPress core REST API index controller.
    
    Props spacedmonkey, niravsherasiya7707, dlh, mukesh27, costdev, swissspidy.
    Fixes #57902.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56566 602fd350-edb4-49c9-b593-d223f7449a82

commit 11e91d50d5bfd6c3a9cb2ed847f9356d361330c3
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Wed Sep 13 13:00:59 2023 +0000

    HTML API: Update documentation and rename internal variable on HTML Processor
    
    This patch updates documentation and an internal variable name within the
    HTML Processor class so that they are more helpful and complete to a reader.
    
    There should be no functional or visual changes in this patch.
    
    Props dmsnell, mukesh27.
    Fixes #59267.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56565 602fd350-edb4-49c9-b593-d223f7449a82

commit 7dbf409caf97fb7a17b11186102470cfff245e0c
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Wed Sep 13 12:47:25 2023 +0000

    HTML API: Skip over contents of RAWTEXT elements such as STYLE.
    
    When encountering elements that imply switching into the RAWTEXT parsing state,
    the Tag Processor should skip processing until exiting the RAWTEXT state.
    
    In this patch the Tag Processor does just that, except for the case of the
    deprecated XMP element which implies further and more complicated rules.
    
    There's an implicit assumption that the SCRIPT ENABLED flag in HTML parsing
    is enabled so that the contents of NOSCRIPT can be skipped. Otherwise, it would
    be required to parse the contents of that tag.
    
    Props dmsnell.
    Fixes #59292.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56563 602fd350-edb4-49c9-b593-d223f7449a82

commit 8e4ff2a01da9d315cb4fc57dc02d8ba750ad8288
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Wed Sep 13 12:03:14 2023 +0000

    Themes: Add test for `theme` atttibute in file-based block template.
    
    While we already have unit test coverage for `_inject_theme_attribute_in_block_template_content`, those tests only verify that ''that'' function does what is supposed to do; there's however no guarantee that `_build_block_template_result_from_file` uses that function (or whatever other technique) to actually inject the theme attribute.
    
    This patch adds test coverage to verify that the theme attribute is correctly injected by `_build_block_template_result_from_file`.
    
    Props costdev, gziolo, mukesh27, spacedmonkey.
    Fixes #59325. See #59313.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56562 602fd350-edb4-49c9-b593-d223f7449a82

commit 36f8240cc3b7bcb66d6e5f3a680b3f2dfff38034
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Sep 13 08:06:26 2023 +0000

    Docs: Fix typo in a comment in `wp_trim_excerpt()`.
    
    Includes removing redundant `@covers` tags. There is already an existing annotation for the whole test class, following the [https://docs.phpunit.de/en/9.6/annotations.html#covers PHPUnit recommendation]:
    > This annotation can be added to the docblock of the test class or the individual test methods. The recommended way is to add the annotation to the docblock of the test class, not to the docblock of the test methods.
    
    Follow-up to [56560].
    
    See #58682.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56561 602fd350-edb4-49c9-b593-d223f7449a82

commit 15f5a952a1b804020d0e2677058f38450a874e53
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Tue Sep 12 19:18:34 2023 +0000

    Posts, Post Types: Avoid unnecessarily parsing blocks twice in `wp_trim_excerpt()`.
    
    All blocks relevant for the excerpt are already being parsed in `excerpt_remove_blocks()`. Therefore running `do_blocks()` on the post content only to create the excerpt is unnecessary and wasteful from a performance perspective.
    
    Props thekt12, spacedmonkey, mukesh27, joemcgill.
    Fixes #58682.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56560 602fd350-edb4-49c9-b593-d223f7449a82

commit fd6c5606b1c572442f0eb15bafee0852cbbb7035
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Sep 12 15:21:02 2023 +0000

    Coding Standards: Include one space after `function` keyword for closures.
    
    Note: This is enforced by WPCS 3.0.0.
    
    Reference: [https://github.com/WordPress/WordPress-Coding-Standards/pull/2328 WPCS: PR #2328 Core: properly check formatting of function declaration statements].
    
    Props jrf.
    See #59161, #58831.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56559 602fd350-edb4-49c9-b593-d223f7449a82

commit 9c9329c44791336e247fec4d7c2dca31f505180f
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Tue Sep 12 15:10:19 2023 +0000

    HTML API: Store current token reference in HTML Processor state.
    
    The `$current_token` reference has been stored in the HTML Processor itself, but I suggested to move it into the externalized state so that it can be stored and replaced.
    
    In this patch the reference is moved to that state variable and it should become more possible to save and load state, to resume execution after pausing.
    
    Props dmsnell.
    Fixes #59268.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56558 602fd350-edb4-49c9-b593-d223f7449a82

commit 44e71c8e703bb473924e0d2bd35999d3aa17e734
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Tue Sep 12 13:00:32 2023 +0000

    General: Add optional callback argument to serialize_block(s).
    
    Allow passing a function callback to serialize_block(s) that is invoked on each node in the tree of parsed blocks as it is traversed for serialization.
    
    A function argument was chosen for passing the callback function as it reflects a pattern familiar from other algorithms that apply a given callback function while traversing a data structure -- most notably PHP's own `array_map()`.
    
    Introducing a filter was considered as an alternative but ultimately dismissed. For a fairly low-level and general-purpose function such as `serialize_block()`, using a filter to pass the callback seemed risky, as it also requires ''removing'' that filter after usage in order to prevent the callback from being accidentally applied when `serialize_block()` is called in an entirely different context.
    
    Introducing a separate function for applying a given operation during tree traversal (i.e. independently of serialization) was also considered but dismissed, as it would unnecessarily duplicate tree traversal.
    
    Props dlh, gziolo.
    Fixes #59327. See #59313.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56557 602fd350-edb4-49c9-b593-d223f7449a82

commit cc775b9985b1dd9a0c8827df378b21e831b400a1
Author: Weston Ruter <westonruter@git.wordpress.org>
Date:   Tue Sep 12 00:04:15 2023 +0000

    Bundled Themes: Use `defer` loading strategy for theme scripts.
    
    * Add `defer` loading strategy for all frontend end-user theme scripts (excluding Customizer preview).
    * Move scripts to the `head` which relate to the initial page viewport to ensure they start loading earlier and execute sooner while still not blocking rendering.
    * Update Twenty Twenty's script loader (`TwentyTwenty_Script_Loader`) to support core's built-in script loading strategies (#12009), while also retaining backwards-compatibility for child themes that may set `async` and `defer` script data.
    * Update the main script loading strategy in Twenty Twenty from `async` to `defer` for better performance on repeat page views, since when an `async` script is cached it will block rendering.
    
    Props westonruter, flixos90, sabernhardt.
    Fixes #59316.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56556 602fd350-edb4-49c9-b593-d223f7449a82

commit 827a560adef5e5f1d9fea1788b58aab9c4752a10
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Mon Sep 11 11:35:59 2023 +0000

    Taxonomy: Cache term objects in WP_Term_Query if query is filtered.
    
    When utilizing the `terms_clauses` or `get_terms_fields` filters within `WP_Term_Query` and the selected fields are modified, the entire term object is now cached. This adjustment is necessary because filters can broaden the selected fields beyond just the term ID. Fields linked to the term object, such as the count or parent, may undergo modifications when queried. Caching the complete object ensures the accurate storage of these modified fields within the cache.
    
    Props spacedmonkey, tnolte, peterwilsoncc.
    Fixes #58116.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56555 602fd350-edb4-49c9-b593-d223f7449a82

commit 46c1f6fcf4b823d6563638ff72d4a48b081f34e9
Author: Colin Stewart <costdev@git.wordpress.org>
Date:   Mon Sep 11 10:31:22 2023 +0000

    External Libraries: Update the Requests library to version 2.0.8.
    
    This is a maintenance release with minor changes:
    - Only force close cURL connection when needed (cURL < 7.22).
    
    References:
    - [https://github.com/WordPress/Requests/releases/tag/v2.0.8 Requests 2.0.8 release notes]
    - [https://github.com/WordPress/Requests/compare/v2.0.6...v2.0.8 Full list of changes in Requests 2.0.8]
    
    Follow-up to [54997], [55007], [55046], [55225], [55296], [55629].
    
    Props jrf, mukesh27, spacedmonkey, costdev.
    Fixes #59322.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56554 602fd350-edb4-49c9-b593-d223f7449a82

commit 2453a6b57d9bfeb0a5a5d191044b42d24955995b
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Mon Sep 11 05:25:41 2023 +0000

    Cron: Cast `doing_cron` transient to a float.
    
    Cast the `doing_cron` transient value to a float to prevent type errors if the transient is not set (in which case it returns `false`) or another unexpected type.
    
    Props fzhantw, ankitmaru.
    Fixes #58471.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56553 602fd350-edb4-49c9-b593-d223f7449a82

commit aeba9d183d1b13616ac62e86e7ba310723ee6320
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Sep 11 04:51:09 2023 +0000

    Code Modernization: Use `dirname()` with the `$levels` parameter.
    
    PHP 7.0 introduced the `$levels` parameter to the `dirname()` function, which means nested calls to `dirname()` are no longer needed.
    
    Note: This is enforced by WPCS 3.0.0.
    
    Reference: [https://www.php.net/manual/en/function.dirname.php PHP Manual: dirname()].
    
    Follow-up to [56141].
    
    Props jrf.
    See #59161, #58831.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56552 602fd350-edb4-49c9-b593-d223f7449a82

commit 858bd4b25f0ac021e64b2543cc990f9f9f1e5cb0
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Sep 10 09:02:49 2023 +0000

    Coding Standards: Correct spacing for spread operators.
    
    No space allowed between the operator and the variable it applies to.
    
    Note: This is enforced by WPCS 3.0.0.
    
    Follow-up to [46133].
    
    Props jrf.
    See #59161, #58831.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56551 602fd350-edb4-49c9-b593-d223f7449a82

commit 2a13d9321c48a3f55aebc5682e944812b969aee8
Author: Colin Stewart <costdev@git.wordpress.org>
Date:   Sun Sep 10 07:31:47 2023 +0000

    Upgrade/Install: Fix broken `sprintf()` call when deleting a backup.
    
    In `WP_Upgrader::delete_temp_backup()`, a malformed `sprintf()` call did not pass the value, triggering a Warning in PHP 7 and a Fatal Error in PHP 8.
    
    This fixes the malformed `sprintf()` call by correctly passing the value.
    
    Follow-up to [55720].
    
    Props akihiroharai, afragen.
    Fixes #59320.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56550 602fd350-edb4-49c9-b593-d223f7449a82

commit 54e1b4b95918410bfb999ad6a5364dc9af0a47f8
Author: SergeyBiryukov <SergeyBiryukov@602fd350-edb4-49c9-b593-d223f7449a82>
Date:   Sat Sep 9 09:26:01 2023 +0000

    Coding Standards: Use pre-increment/decrement for stand-alone statements.
    
    Note: This is enforced by WPCS 3.0.0:
    
    1. There should be no space between an increment/decrement operator and the variable it applies to.
    2. Pre-increment/decrement should be favoured over post-increment/decrement for stand-alone statements. “Pre” will in/decrement and then return, “post” will return and then in/decrement. Using the “pre” version is slightly more performant and can prevent future bugs when code gets moved around.
    
    References:
    * [https://developer.wordpress.org/coding-standards/wordpress-coding-standards/php/#increment-decrement-operators WordPress PHP Coding Standards: Increment/decrement operators]
    * [https://github.com/WordPress/WordPress-Coding-Standards/pull/2130 WPCS: PR #2130 Core: add sniffs to check formatting of increment/decrement operators]
    
    Props jrf.
    See #59161, #58831.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56549 602fd350-edb4-49c9-b593-d223f7449a82

commit 1118e37f48ff184c40bc4e593ae13b1fbe4b8001
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Sep 8 10:01:14 2023 +0000

    Coding Standards: Remove superfluous blank lines at the end of various functions.
    
    Note: This is enforced by WPCS 3.0.0.
    
    Follow-up to [56536], [56547].
    
    Props jrf.
    See #59161, #58831.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56548 602fd350-edb4-49c9-b593-d223f7449a82

commit d790be16dc0d167508c5e791e423b1f544a7e8f3
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Sep 8 09:30:38 2023 +0000

    Coding Standards: Remove superfluous blank lines at the end of various classes.
    
    Note: This is enforced by WPCS 3.0.0.
    
    Follow-up to [56536].
    
    Props jrf.
    See #59161, #58831.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56547 602fd350-edb4-49c9-b593-d223f7449a82

commit 3f9bc4eac0564a1bd344219810974f4b19c5d909
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Fri Sep 8 00:49:49 2023 +0000

    Editor: tweak root padding styles.
    
    Removes root padding from children of flex and grid layout blocks when root padding aware alignments are set.
    
    Props andrewserong, ramonopoly.
    Fixes #59295.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56546 602fd350-edb4-49c9-b593-d223f7449a82

commit b693aebc341bcf9e9e8ea1986c498b642af75859
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Fri Sep 8 00:25:01 2023 +0000

    Editor: performance enhancements to `class-wp-theme-json`.
    
    Removes unnecessary sanitisation of hardcoded strings and avoids looping over style presets without classes or variables.
    
    Props flixos90.
    Fixes #59304.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56545 602fd350-edb4-49c9-b593-d223f7449a82

commit 9de414277ed728487a6e8442a975fff7f1648724
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Thu Sep 7 20:46:53 2023 +0000

    Code Modernization: Use wp_trigger_error() in WP_Text_Diff_Renderer_Table magic methods.
    
    Replaces `trigger_error()` with `wp_trigger_error()` in each of the `WP_Text_Diff_Renderer_Table` magic methods.
    
    [56354] added the dynamic properties deprecation messages to the `__get()`, `__set()`, `__isset()`, `__unset()` magic methods. Since that commit, `wp_trigger_error()` was introduced (see [56530]) as a wrapper for `trigger_error()`.
    
    Follow-up to [56354], [56530].
    
    See #58898, #57686.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56544 602fd350-edb4-49c9-b593-d223f7449a82

commit a5eddeab2d4caf625a4a336af8dd2a30228dafd8
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Thu Sep 7 20:43:48 2023 +0000

    Code Modernization: Use wp_trigger_error() in WP_User_Query magic methods.
    
    Replaces `trigger_error()` with `wp_trigger_error()` in each of the `WP_User_Query` magic methods.
    
    [56353] added the dynamic properties deprecation messages to the `__get()`, `__set()`, `__isset()`, `__unset()` magic methods. Since that commit, `wp_trigger_error()` was introduced (see [56530]) as a wrapper for `trigger_error()`.
    
    Follow-up to [56353], [56530].
    
    See #58897, #57686.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56543 602fd350-edb4-49c9-b593-d223f7449a82

commit dc76011874b38a3945d9b223c3bd32c81e3d32fe
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Thu Sep 7 20:39:07 2023 +0000

    Code Modernization: Use wp_trigger_error() in WP_List_Table magic methods.
    
    Replaces `trigger_error()` with `wp_trigger_error()` in each of the `WP_List_Table` magic methods.
    
    [56349] added the dynamic properties deprecation messages to the `__get()`, `__set()`, `__isset()`, `__unset()` magic methods. Since that commit, `wp_trigger_error()` was introduced (see [56530]) as a wrapper for `trigger_error()`.
    
    Follow-up to [56349], [56356], [56530].
    
    See #58896, #57686.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56542 602fd350-edb4-49c9-b593-d223f7449a82

commit ef54f4e57fc936ca3f505cb1f00b54a74ac75114
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Thu Sep 7 20:35:38 2023 +0000

    Plugins: Respect `prefers-reduced-motion` on plugin thumbnails.
    
    Pause animated plugin thumbnails when a user has reduced motion preferences configured in their device or operating system.
    
    Props Travel_girl, audrasjb, bordoni, stevejonesdev, joedolson.
    Fixes #55723.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56541 602fd350-edb4-49c9-b593-d223f7449a82

commit 9b6d04adaa6debad5772b616743fa4a55d385b47
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Thu Sep 7 17:28:59 2023 +0000

    Fonts: Removes static instance in wp_print_font_faces().
    
    The static instance of `WP_Font_Face` is not needed. It was an unnecessary carryover from the experimental Fonts API (which was not introduced into Core).
    
    Whereas the Fonts API needed to persist its data (i.e. to maintain the registered and enqueued fonts throughout the web request), Font Face does not have data to persist.
    
    Font Face processes the fonts it receives when `WP_Font_Face::generate_and_print( $fonts )` is invoked. Thus, a singleton is not needed.
    
    Removing the static reduces the amount of the code in the function and eliminates running its tests in separate processes to ensure a different instance is always used.
    
    References:
    * [https://github.com/WordPress/gutenberg/pull/54228 Gutenberg PR 54228].
    
    Follow-up to [56500].
    
    Props hellofromTonya, costdev.
    Fixes #59165.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56540 602fd350-edb4-49c9-b593-d223f7449a82

commit 1cfefb918a8d15a969c2f35a6a7eb6efbb78542f
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Thu Sep 7 16:54:48 2023 +0000

    Build/Test Tools: Update a few more 3rd-party GitHub Action occurrences.
    
    Follow up to [56537].
    
    See #58867.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56538 602fd350-edb4-49c9-b593-d223f7449a82

commit 34520001c5d4f3d6f82f5d73d98bee7696817343
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Thu Sep 7 16:49:18 2023 +0000

    Build/Test Tools: Update 3rd-party GitHub Actions.
    
    This updates all 3rd-party GitHub actions to their latest versions. The following actions were updated:
    - `actions/cache`
    - `actions/checkout`
    - `actions/setup-node`
    - `codecov/codecov-action`
    - `shivammathur/setup-php`
    - `slackapi/slack-github-action`
    
    In the latest version of `actions/checkout` (`4.0.0`), a new input was introduced to control the output of command progress. This change uses this new `show-progress` input to turn off displaying progress by default. Progress will be shown when a workflow is run with debug mode enabled, just in case it contains helpful information.
    
    Props johnbillion, desrosj.
    See #58867.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56537 602fd350-edb4-49c9-b593-d223f7449a82

commit 46f64928af6e5cd19ed36bbc2e2a9ed3bcc955c0
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Sep 7 14:57:30 2023 +0000

    Coding Standards: Remove superfluous blank lines at the end of various files.
    
    Note: This is enforced by WPCS 3.0.0.
    
    Props jrf.
    See #59161, #58831.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56536 602fd350-edb4-49c9-b593-d223f7449a82

commit 362624176cba41a2dda57c3e89031aa6c3e4decf
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Thu Sep 7 04:28:45 2023 +0000

    Editor: add configurable viewport sizes for fluid typography.
    
    Adds options to configure min and max viewport sizes for fluid typography in theme.json settings.
    
    Props ramonopoly.
    Fixes #59048.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56535 602fd350-edb4-49c9-b593-d223f7449a82

commit 9f5dd61a6e0fb4d09533effeb2e6a00463e21552
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Thu Sep 7 01:03:09 2023 +0000

    Editor: allow disabling layout controls.
    
    Adds the ability to disable layout controls on a per-block level from theme.json.
    
    Props mukesh27.
    Fixes #59294.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56534 602fd350-edb4-49c9-b593-d223f7449a82

commit 503addd8c5ba1bb314a32e577524f51090418f98
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Thu Sep 7 00:57:39 2023 +0000

    Bundled Themes: Update npm dependencies for Twenty Nineteen and Twenty Twenty.
    
    This updates the npm dependencies for Twenty Nineteen and Twenty Twenty to their latest versions. This also includes the results of running `npm audit fix`.
    
    There are no changes in any built files as a result.
    
    See #58863.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56533 602fd350-edb4-49c9-b593-d223f7449a82

commit d480448a9c68021f306cd3b0db1c82ab239deff5
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Thu Sep 7 00:07:39 2023 +0000

    Bundled Themes: Set `legacy-peer-deps` to `true`.
    
    While `npm install` was working without issue after [56531], `npm ci` was not. The latter expects dependencies in the `package-lock.json` to match those in `package.json` exactly.
    
    Follow up to [56378], [56387], [56442], [56531[.
    
    Fixes #59187. See #56658.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56532 602fd350-edb4-49c9-b593-d223f7449a82

commit f66fe0e91e9c0a4c590db4872f90405b98f30d49
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Wed Sep 6 23:42:10 2023 +0000

    Bundled Themes: Use Node.js 16.x in themes with a build process.
    
    This results in a new `package-lock.json` file being generated that uses `lockfileVersion` 2.x.
    
    There are no changes to built files as a result of this update.
    
    Follow up to [56378], [56387], [56442].
    
    Props mikestraw, whyisjake, jivygraphics.
    Fixes #59187. See #56658.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56531 602fd350-edb4-49c9-b593-d223f7449a82

commit 6ea6972c87a8bc134dbedf1c81e5f1641fbaebf6
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Wed Sep 6 22:06:26 2023 +0000

    General: Introduce wp_trigger_error().
    
    Introduces `wp_trigger_error()` as a wrapper around PHP's native `trigger_error()`. As a wrapper, it's lean and not opinionated about the message. It accepts an E_USER family error level, meaning it is not limited to only notices.
    
    Where `_doing_it_wrong()` intends to loudly alert developers "Hey you're doing it wrong - fix it", `wp_trigger_error()` is not opinionated and does not add wording. Rather, it passes the given message to `trigger_error()`.
    
    `wp_trigger_error()` is meant for every `trigger_error()` instance. It can be used:
    * in `_doing_it_wrong()` and each `_deprecated_*()` function.
    * for PHP 8.x deprecations.
    * for PHP error parity.
    * for less severe "doing it wrong" instance that do not require bailing out.
    * when a component or extension is not available on the server
    * for instances where it's not clear if a plugin's or theme's code is the root cause.
    * and more.
    
    Technical details:
    
    * Does not trigger the error if `WP_DEBUG` is not `true`.
    
    * Includes `wp_trigger_error_run` action to allow hooking in for backtracing and deeper debug.
    
    * Accepts an E_USER error level, but defaults to `E_USER_NOTICE`.
    
    * Requires a function name, though can be an empty string. As the output message generated by `trigger_error()` references the file and line number where it was invoked, passing the function's name provides more information where the error/warning/notice/deprecation happened. It's intended to help with debug.
    
    * A WordPress version number is not included.
    
    * As messages can appear in the browser, the message is escaped using `esc_html()`. As noted in [https://www.php.net/manual/en/function.trigger-error.php the PHP manual]: "HTML entities in message are not escaped. Use htmlentities() on the message if the error is to be displayed in a browser."
    
    References:
    * [https://www.php.net/manual/en/function.trigger-error.php PHP manual for `trigger_error()`].
    * [https://www.php.net/manual/en/errorfunc.constants.php E_USER constants (error level) in the PHP manual].
    
    Props azaozz, hellofromTonya, flixos90, costdev, peterwilsoncc, oglekler, mukesh27.
    See #57686.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56530 602fd350-edb4-49c9-b593-d223f7449a82

commit e14213ebe92dc3d3bca05034ae62e3a5ce92948e
Author: Andrew Ozz <azaozz@git.wordpress.org>
Date:   Wed Sep 6 21:46:09 2023 +0000

    Editor: Prevent possibility of a fatal error when previewing block themes.
    
    Ensures that preview callbacks attached to the `stylesheet` and `template` filters do not run before `pluggable.php` has been included. These callbacks need functionality from `pluggable.php`.
    
    Props: scruffian, johnbillion, SergeyBiryukov, okat, okat.
    Fixes: #59000.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56529 602fd350-edb4-49c9-b593-d223f7449a82

commit 476db82c2fb7b316634d9a7fa867b4af93295f20
Author: Andrew Ozz <azaozz@git.wordpress.org>
Date:   Wed Sep 6 21:22:28 2023 +0000

    Editor: Fix loading of assets in blocks in child themes where the directory name starts with the parent theme's directory name. Example: `twentyseventeen` and `twentyseventeen-child`.
    
    Props: lgladdy, masteradhoc, audrasjb, rajinsharwar, azaozz.
    Fixes: #59018.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56527 602fd350-edb4-49c9-b593-d223f7449a82

commit d67d8d6e94f4664f0bfc64fee2bbe31d479ca22b
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Wed Sep 6 21:21:17 2023 +0000

    Bundled Theme: Update default themes to use new script function signature.
    
    In WordPress 6.3, the last parameter of `wp_register_script()` and `wp_enqueue_script()` was changed to an array rather than a boolean. While a boolean is still supported for backward compatibility, it makes sense to update the codebase to use the new signature.
    
    The updates are fully backward compatible:
    * In places where `true` was provided, `array( 'in_footer' => true )` will still be interpreted as a boolean true in WordPress versions prior to 6.3.
    * In places where `false` was provided, the parameter is omitted which will work correctly throughout all WordPress versions given that is and has been the default value anyway.
    
    Props mrinal013, huzaifaalmesbah, niravsherasiya7707, joemcgill.
    Fixes #59302.
    See #58634.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56526 602fd350-edb4-49c9-b593-d223f7449a82

commit a138c19e3500f95a8c431dc0a8fe05da75da4930
Author: Colin Stewart <costdev@git.wordpress.org>
Date:   Wed Sep 6 18:28:59 2023 +0000

    Upgrade/Install: Check plugin compatibility during bulk upgrades.
    
    Previously, bulk upgrades did not verify that a plugin package was compatible with the site's WordPress version or the server's PHP version. This could lead to incompatible updates being installed, causing various compatibility issues and errors.
    
    This change implements the following checks:
    - If available, the API response's `requires` and `requires_php` values are checked for compatibility. This saves time, diskspace, memory and file operations by failing the upgrade before the package is downloaded and unpacked.
    - If the API check passes, the downloaded and unpacked package is verified using `Plugin_Upgrader::check_package()` to ensure a plugin file is present, and the plugin's "RequiresWP" and "RequiresPHP" headers are compatible, if present. This ensures that a mismatch between the API response and the plugin file's headers does not cause an incompatible plugin to be installed.
    
    Props salcode, afragen, mukesh27, iammehedi1, zunaid321, johnbillion, SergeyBiryukov, costdev.
    Fixes #59198.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56525 602fd350-edb4-49c9-b593-d223f7449a82

commit 8d65dc9eed20baa0b2b718426e6196699cf14b87
Author: Joe McGill <joemcgill@git.wordpress.org>
Date:   Wed Sep 6 18:06:47 2023 +0000

    Themes: Avoid stale caches for core block styles.
    
    This fixes an issue introduced in [56044] in which the path to core block styles are cached to avoid expensive file operations on every page load. The original caching strategy is now modified so that only the path relative to the blocks location are stored, rather than the full path, since the path to the `wp-includes` folder can change after the value is generated. The new cached value also includes the current WordPress version value to ensure it is rebuilt when the version changes.
    
    Props lhe2012, coreyw, colorful tones, petitphp, mukesh27, spacedmonkey, joemcgill, flixos90, kimannwall, desmith.
    Fixes #59111.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56524 602fd350-edb4-49c9-b593-d223f7449a82

commit bd594f72a83e0512d60aec5436ab653ed5966678
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Wed Sep 6 12:58:47 2023 +0000

    Themes: Remove unnecessary check if file exists in the theme functions.
    
    Previously, several functions and methods in themes api were designed to check for the existence of files in a child theme before falling back to the parent theme. However, these checks did not consider whether the current theme was a child theme or not, resulting in unnecessary file existence checks for non-child themes. Check to see if stylesheet directory matches the template directory before doing the file exists. This optimization helps reduce unnecessary file system access, as file existence checks can be resource-intensive in PHP.
    
    The following functions and methods have been updated as part of this enhancement:
    - `WP_Theme::get_file_path`
    - `get_theme_file_path`
    - `get_theme_file_uri`
    
    Props spacedmonkey, flixos90, sabernhardt, 10upsimon, mukesh27.
    Fixes #59279.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56523 602fd350-edb4-49c9-b593-d223f7449a82

commit e619082f8ab3f5054158395be291071e20366691
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Wed Sep 6 10:01:39 2023 +0000

    Database: Add expiration for `dirsize_cache` to transient to improve performance.
    
    The transient `dirsize_cache` stores an array of directory sizes. This transient can grow very large, if the plugin directory has lots of sub directories in it. For example, a site with 30 plugins, the transient was around 2MB. For sites without a persistent object cache, transients without an expiration, are stored in autoloaded options. This means this option would load on every page request. Loading this option on every page request when it is not used it wasteful. Adding a expiration to this transient means it will not autoload. To ensure there is no degradation in performance, the expiration was set to a generous 10-year timeframe, making it highly unlikely to expire before it's refreshed.
    
    Props nicomollet, spacedmonkey, flixos90, wpgurudev.
    Fixes #54221.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56522 602fd350-edb4-49c9-b593-d223f7449a82

commit a8b346138a21f635b6c80e502963399c4984c94c
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Sep 6 09:31:48 2023 +0000

    Coding Standards: Correct equals sign alignment in various files.
    
    This resolves a few WPCS warnings:
    {{{
    Equals sign not aligned with surrounding statements
    }}}
    so that the output of `composer format` is clean.
    
    Follow-up to [56276], [56302].
    
    Props jrf.
    See #59161, #58831.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56521 602fd350-edb4-49c9-b593-d223f7449a82

commit 77a7772f9f0cdaa25f49742614443fa6d5eadde7
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Wed Sep 6 03:17:08 2023 +0000

    Editor: update packages with bug fixes for 6.3.2
    
    Updates editor npm packages to latest patch versions for the 6.3.x branch.
    
    Props ramonopoly.
    See #59293.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56520 602fd350-edb4-49c9-b593-d223f7449a82

commit 6aa3721dab38651e51e59e3c3812c7cd8d3641f7
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Sep 6 00:44:29 2023 +0000

    Docs: Add a `@since` note for `add_new` labels change in `get_post_type_labels()`.
    
    Includes removing an obsolete recommendation to use a gettext context matching the post type for disambiguation, which would be redundant with the new labels, as they already include the type of content.
    
    Follow-up [14571], [56515].
    
    See #47125.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56519 602fd350-edb4-49c9-b593-d223f7449a82

commit 3384a80c3a12664fc0401da540459d466463c813
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Tue Sep 5 20:48:01 2023 +0000

    Administration: Use admin notice functions in nav menu admin.
    
    Use `wp_get_admin_notice` and `wp_admin_notice` to handle settings notices on the nav menu admin screens.
    
    Props joedolson.
    See #57791.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56518 602fd350-edb4-49c9-b593-d223f7449a82

commit 305de43a1fc739585ee439f3a5c57106798b5d46
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Tue Sep 5 19:24:31 2023 +0000

    Administration: Add improved context for `add new` links.
    
    Consistently expand `Add New` links to include the type of content to add. Improve consistency of text casing to use initial caps throughout.
    
    Props afercia, gonzomir, alexstine, swissspidy, joedolson.
    Fixes #47125.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56515 602fd350-edb4-49c9-b593-d223f7449a82

commit 5f1a92c96da0b2e271c32c5d147a3847b8960a12
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Sep 5 12:22:44 2023 +0000

    Code Modernization: Rename parameters that use reserved keywords in `wp-includes/functions.php`.
    
    While using reserved PHP keywords as parameter name labels is allowed, in the context of function calls using named parameters in PHP 8.0+, this will easily lead to confusion. To avoid that, it is recommended not to use reserved keywords as function parameter names.
    
    This commit renames the `$class` parameter to `$class_name` in `_deprecated_class()`.
    
    Follow-up to [54929], [56467].
    
    Props jrf.
    See #59161.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56514 602fd350-edb4-49c9-b593-d223f7449a82

commit 92994bd3368b5bb09de95087501bf3b57c377499
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Tue Sep 5 12:21:27 2023 +0000

    Query: Use split queries in WP_Query if persistent object caching is enabled.
    
    Prior to this commit, the `WP_Query` class split the query for posts into two database queries. First, it initiated an ID-based query to retrieve post IDs, followed by a call to _prime_post_caches to fetch post objects if they weren't already in memory. This splitting of queries was limited to cases where fewer than 500 posts were being requested, to prevent a potentially large database query within the IN statement in _prime_post_caches.
    
    However, this limitation becomes unnecessary when a persistent object cache is enabled, as the post objects can be efficiently retrieved from the fast object cache. This commit transfers the responsibility of fetching posts to the object cache, which not only speeds up the process but also reduces the strain on the database server.
    
    Props peterwilsoncc, spacedmonkey, SergeyBiryukov.
    Fixes #57296.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56513 602fd350-edb4-49c9-b593-d223f7449a82

commit 6be588c72f768430c98b8bcc1ae0b9d30826fddf
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Mon Sep 4 16:31:30 2023 +0000

    Widgets: Improve performance of has_content method in WP_Widget_Media_Gallery class.
    
    In the method `WP_Widget_Media_Gallery::has_content` call `_prime_post_caches` before the foreach loop. This ensures that the post objects are primed in memory before trying to access the post object in `get_post_type`.
    
    Props niravsherasiya7707, spacedmonkey, mukesh27.
    Fixes #58757.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56512 602fd350-edb4-49c9-b593-d223f7449a82

commit fa9f8397bc29c6ace079bdafb610f6b988b61948
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Sep 4 11:38:37 2023 +0000

    Coding Standards: Use strict comparison in `wp-includes/class-wp-hook.php`.
    
    Follow-up to [4955], [38571].
    
    Props aristath, poena, afercia, SergeyBiryukov.
    See #58831.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56511 602fd350-edb4-49c9-b593-d223f7449a82

commit d0deb5bc6600921fc43cd4ead0f713bbee6aa6b0
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Sep 3 12:49:51 2023 +0000

    Upload: Correct duplicate MIME type for `.xlsx` files generated by Google Docs.
    
    This expands the code block previously added for `.docx` files to include `.xlsx` files as well, which are known to have the same issue with `finfo_file()`.
    
    Includes a unit test case for `wp_check_filetype_and_ext()`.
    
    Reference: [https://bugs.php.net/bug.php?id=77784 PHP Bug #77784: mime_content_type() result gets doubled for .xlsx].
    
    Follow-up to [56497].
    
    See #57898.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56510 602fd350-edb4-49c9-b593-d223f7449a82

commit 9a87bc5d4e1c77d58bf859523c55a62b5ae651f5
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Sep 2 18:34:59 2023 +0000

    Site Health: Show correct debug value for file uploads.
    
    Follow-up to [48535].
    
    Props Michi91, Presskopp.
    Fixes #58737.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56509 602fd350-edb4-49c9-b593-d223f7449a82

commit a22fee0e5a6c01d4b8dc32e1763783d4a6b3df2b
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Fri Sep 1 19:55:11 2023 +0000

    Options, Meta APIs: Introduce `wp_set_option_autoload_values()`.
    
    This function accepts an associative array of option names and their autoload values to set, and it will update those values in the database in bulk, only for those options where the autoload field is not already set to the given value.
    
    Two wrapper functions for ease of use accompany the new main function:
    * `wp_set_options_autoload( $options, $autoload )` can be used to set multiple options to the same autoload value.
    * `wp_set_option_autoload( $option, $autoload )` can be used to set the autoload value for a single option.
    
    All of these functions allow changing the autoload value of an option, which previously has only been possible in combination with updating the value. This limitation prevented some relevant use-cases: For example, a plugin deactivation hook could set all of its options to not autoload, as a cleanup routine, while not actually deleting any data. The plugin's activation hook could then implement the reverse, resetting those options' autoload values to the originally intended ones for when using the plugin.
    
    Props boonebgorges, joemcgill, costdev, mukesh27, SergeyBiryukov, tabrisrp, flixos90.
    Fixes #58964.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56508 602fd350-edb4-49c9-b593-d223f7449a82

commit 5269bf66f47be1d608fd459b17764f775a04b4b9
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Fri Sep 1 17:30:02 2023 +0000

    Editor: Ensure main query loop is entered for singular content in block themes.
    
    Block themes currently lack the means to trigger the main query loop for singular content, since they cannot reasonably use the `core/query` and `core/post-template` blocks which are intended only for displaying a list of posts. So far, the missing main query loop on singular block templates has been worked around by enforcing the loop in certain `core/post-*` blocks, which however causes other bugs.
    
    This changeset ensures that the main query loop is still started for singular block theme templates, by wrapping the entire template into the loop, which will by definition only have a single cycle as it only encompasses a single post. This is currently the most reliable solution, since even if there were blocks to properly trigger the main query loop on singular content, it would be unrealistic to expect all existing block themes to update their templates accordingly. It may be revisited in the future.
    
    Props gziolo, youknowriad, joemcgill, costdev, mukesh27, flixos90.
    Fixes #58154.
    See #59225, #58027.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56507 602fd350-edb4-49c9-b593-d223f7449a82

commit b447190e4c7d8a77d635c232ee8dabe1ad499787
Author: Pascal Birchler <swissspidy@git.wordpress.org>
Date:   Fri Sep 1 17:24:56 2023 +0000

    Build/Test Tools: Compare results in performance measurement workflow.
    
    This extends the performance test workflow added in [55459] to also run tests against the target branch (if running on a pull request) or the previous commit (if running on trunk).
    
    Those results are then compared with the ones from the current commit, and the difference is displayed as a GitHub Actions workflow summary for convenience.
    
    Props mukesh27, flixos90, desrosj, joemcgill, swissspidy.
    Fixes #58358, #58359.
    See #56150.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56506 602fd350-edb4-49c9-b593-d223f7449a82

commit 36fe58a8c64dcc83fc21bddd5fcf054aef4efb27
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Sep 1 11:05:32 2023 +0000

    Upgrade/Install: Remove unused globals in `core_upgrade_preamble()`.
    
    Follow-up to [49638].
    
    Props upadalavipul.
    See #59254.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56505 602fd350-edb4-49c9-b593-d223f7449a82

commit 9f3b57d473714a4ab3a30d51c7eff1b5ca4d81c4
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Sep 1 11:01:24 2023 +0000

    Media: Remove unused `$is_IE` and `$is_opera` globals in `media_upload_form()`.
    
    Follow-up to [27316].
    
    Props upadalavipul.
    See #59254.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56504 602fd350-edb4-49c9-b593-d223f7449a82

commit 0b40c80d0d650dbdf342ba5fff28b1e5f99e3a58
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Fri Sep 1 04:01:23 2023 +0000

    Editor: Don't use fluid layout value in typography.
    
    Changes fluid typography calculation to use fallback value if layout wide size is a fluid value.
    
    Props ramonopoly, mukesh27, jastos, aurooba.
    See #58754.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56503 602fd350-edb4-49c9-b593-d223f7449a82

commit 3c98d25402f6b4885f6e9021a93a9df6e6ca4ea2
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Fri Sep 1 02:51:55 2023 +0000

    Editor: Preserve block style variations when securing theme.
    
    Adds the ability to process block style variations to the `remove_insecure_properties` function of theme json class.
    
    Props dsas, ramonopoly.
    Fixes #59108.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56502 602fd350-edb4-49c9-b593-d223f7449a82

commit 13531cc3bdcdc912f4025089f14f6ac33469fc32
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Thu Aug 31 22:16:05 2023 +0000

    Tests: Remove webfonts tests.
    
    Removes the test file and `webfonts` directory for the stopgap code that was deprecated by [56500].
    
    Follow-up to [56500], [53282].
    
    Fixes #59165.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56501 602fd350-edb4-49c9-b593-d223f7449a82

commit c29b095e762836e47df9080d670c2f6570d6cd12
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Thu Aug 31 21:47:40 2023 +0000

    Introduce font-face styles generator and printer.
    
    Introducing Font Face, a server-side `@font-face` styles generator and printer.
    
    tl;dr:
    * Introduces Font Face.
    * Deprecates `_wp_theme_json_webfonts_handler()`.
    
    **Introduce Font Face**
    
    From an array of fonts (i.e. each font-family and its font variations to be processed), it:
    
    1. Validates each `font-face` declaration, i.e. the CSS property and value pairing. If validation fails, processing stops with no font-face styles printed.
    3. Generates the `@font-face` CSS for each font-family.
    4. Prints the CSS within a `<style id="wp-fonts-local">` element.
    
    The entry point into Font Face is through a new global function called `wp_print_font_faces()`, which is automatically called:
    
    * when the `'wp_head'` hook runs (for the front-end).
    * when the `'admin_print_styles'` hook runs (for the back-end).
    * when `_wp_get_iframed_editor_assets()` runs to inject the `@font-face` styles into the iframed editor.
    
    Once called, it gets the fonts from Theme_JSON merged data layer, which includes theme defined fonts and user activated fonts (once the Font Library #59166 is introduced into Core).
    
    For classic sites, themes and plugins can directly call `wp_print_font_faces()` and pass their fonts array to it for processing.
    
    **Deprecates `_wp_theme_json_webfonts_handler()`.**
    
    As Font Face is a direct replacement, the stopgap code in `_wp_theme_json_webfonts_handler()` (introduced in 6.0.0 via [53282]) is deprecated and unused in Core.
    
    **Props note:**
    There's a long multiple year history baked into Font Face, which dates back to the early versions of a web font API (see #46370 and [https://github.com/WordPress/gutenberg/issues/41479 roadmap]. The props list includes those who contributed from those early versions up to this commit.
    
    **References:**
    * #46370 original (Web)Fonts API proposal for registering and enqueuing web fonts.
    * [https://github.com/WordPress/gutenberg/issues/41479 Gutenberg tracking issue] which includes the evolution from Webfonts API to Fonts API to Font Face.
    * [53282] / #55567 Added the stopgap code `_wp_theme_json_webfonts_handler()` in 6.0.
    * [https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face @font-face on mdn web docs]
    * #59166 Font Library: Font manager for WordPress
    
    Follow-up to [53282].
    
    Props aristath, jonoaldersonwp, hellofromTonya, andraganescu, annezazu, antonvlasenko, arena, askdesign, azaozz, bph, bradley2083, colorful-tones, costdev, davidbaumwald, desrosj, dingo_d, djcowan, domainsupport, dryanpress, elmastudio, flixos90, francina, garrett-eclipse, gigitux, grantmkin, grapplerulrich, gziolo, ironprogrammer, jb510, jeffpaul, jeremyyip, jffng, joostdevalk, jorgefilipecosta, juanmaguitar, mamaduka, matveb, mburridge, mitogh, ndiego, ntsekouras, oandregal, ocean90, oglekler, paaljoachim, pagelab, peterwilsoncc, poena, priethor, scruffian, SergeyBiryukov, shiloey, simison, skorasaurus, soean, westonruter, wildworks, zaguiini.
    Fixes #59165.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56500 602fd350-edb4-49c9-b593-d223f7449a82

commit 54a177910a80083930ee1284f648c1db5bf2e5c0
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Aug 31 14:43:36 2023 +0000

    Coding Standards: Remove unused global variables in various `/wp-admin/includes/` files.
    
    Props upadalavipul.
    Fixes #59254.
    
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56499 602fd350-edb4-49c9-b593-d223f7449a82

commit 9879434020b7acf9c10dad2593b9658737c11516
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Aug 31 10:15:42 2023 +0000

    Build/Test Tools: Enable running the tests on PHP 8.3.
    
    PHP 8.3 is expected to be released at the end of November 2023.
    
    Enabling the tests to run in CI on PHP 8.3 allows WordPress core to start getting ready.
    
    Note: Xdebug-related tests will not be run on PHP 8.3 at this time as the Docker image for PHP 8.3 does not contain Xdebug yet. Once a stable release of Xdebug 3.3.0 is available, it can be added to the Docker image and the test step can then be enabled for PHP 8.3.
    
    Follow-up to [53922], [56492], [56495].
    
    Props jrf, costdev.
    See #59231.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56498 602fd350-edb4-49c9-b593-d223f7449a82

commit a023fbce186748782d89c6180009fd4df569fda8
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Wed Aug 30 22:30:06 2023 +0000

    Upload: Add a MIME type exception for `.docx` generated by Google Docs.
    
    This changeset adds an exception to prevent permission issues on `.docx` generated by Google Docs. This is a temporary fix for an upstream bug on the `finfo_file()`
    PHP function which returns a redundant MIME type for these documents.
    
    Props winterstreet, jakariaistauk, mujuonly, mi5t4n, annashopina, audrasjb, azaozz, mikeschroder, oglekler.
    Fixes #57898.
    
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56497 602fd350-edb4-49c9-b593-d223f7449a82

commit 39db9a677547c4cd1fa9f75b19223323ccfac7c7
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Wed Aug 30 22:09:20 2023 +0000

    Editor: Add relative time strings for the `wp-date` inline script output.
    
    This changeset updates `wp_default_packages_inline_scripts()` to add relative time strings to the `wp-date` inline script, so the JS version of `human_time_diff`
    can output translated strings.
    
    Props ramonopoly, oandregal, swissspidy, manzoorwanijk, adrianduffell, Presskopp.
    Fixes #59219, #47373.
    
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56496 602fd350-edb4-49c9-b593-d223f7449a82

commit 98284ae792d95d4484c25b11d6f4fea4f6603cbc
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Wed Aug 30 22:07:13 2023 +0000

    HTTP API: Update `WP_Http` class to avoid PHP deprecation warnings.
    
    This changeset prevents a PHP 8.3 deprecation shown when enabling debug and calling `get_class()` without arguments.
    
    For more info about this deprecation, see https://wiki.php.net/rfc/deprecate_functions_with_overloaded_signatures#get_class_and_get_parent_class.
    
    Props ipajen, rajinsharwar, SergeyBiryukov, jrf.
    Fixes #58876.
    
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56495 602fd350-edb4-49c9-b593-d223f7449a82

commit bc92bb0cbae3969dc53056efaed3593c66e2600a
Author: Colin Stewart <costdev@git.wordpress.org>
Date:   Wed Aug 30 20:23:18 2023 +0000

    General: Replace two `esc_url_raw()` calls in core with `sanitize_url()`.
    
    This aims to improve performance by calling `sanitize_url()` directly, instead of the `esc_url_raw()` wrapper. As of WordPress 6.1, `sanitize_url()` is the recommended function for sanitizing a URL for database or redirect usage.
    
    This replaces the two remaining instances of `esc_url_raw()` with `sanitize_url()` in WordPress core.
    
    Follow-up to [53455], [53933], [54522].
    
    Props rajinsharwar, SergeyBiryukov.
    Fixes #59247.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56494 602fd350-edb4-49c9-b593-d223f7449a82

commit 973b4565ee4b7a9c08dfc8541e4951963f37f478
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Wed Aug 30 15:37:33 2023 +0000

    HTML API: Stop processing HTML when encountering unsupported markup.
    
    It was a design goal of the HTML Processor to abort processing its input document when encountering unsupported markup. Unfortunately there was no test for this and so-far, the HTML Processor has paused, but continued processing in these situations.
    
    In this patch a new test ensures that the HTML Processor stops and refuses to move forward after encountering any unsupported markup. It also ensures that it doesn't report any current tag names since unsupported markup could imply that the read tag name is different than the parsed tag name.
    
    Props dmsnell.
    Fixes #59167.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56493 602fd350-edb4-49c9-b593-d223f7449a82

commit c6088bb590ecf9d49dd03b81bc7175a7b9452ac1
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Aug 30 10:49:27 2023 +0000

    Tests: Correct uses of `ReflectionProperty::setValue()` for static properties.
    
    The single parameter signature, which was used for setting the value on a static property, is deprecated since PHP 8.3. A cross-version solution is to pass `null` as the first parameter.
    
    This commit updates all the instances that use the deprecated signature in WordPress core.
    
    Reference: [https://wiki.php.net/rfc/deprecate_functions_with_overloaded_signatures#reflectionpropertysetvalue PHP RFC: Deprecate functions with overloaded signatures: ReflectionProperty::setValue()].
    
    Follow-up to [53152], [54493], [54799].
    
    Props jrf, costdev, Tests: Correct uses of `ReflectionProperty::setValue()` for static properties.
    
    The single parameter signature, which was used for setting the value on a static property, is deprecated since PHP 8.3. A cross-version solution is to pass `null` as the first parameter.
    
    This commit updates all the instances that use the deprecated signature in WordPress core.
    
    Reference: [https://wiki.php.net/rfc/deprecate_functions_with_overloaded_signatures#reflectionpropertysetvalue PHP RFC: Deprecate functions with overloaded signatures: ReflectionProperty::setValue()].
    
    Follow-up to [53152], [54493], [54799].
    
    Props jrf, costdev, sc0ttkclark.
    See #59231.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56492 602fd350-edb4-49c9-b593-d223f7449a82

commit e278fe3fcf262d1792a347a460bc004200a2490f
Author: Joe McGill <joemcgill@git.wordpress.org>
Date:   Tue Aug 29 22:11:22 2023 +0000

    Posts, Post Types: Avoid redundant SQL query in get_pages().
    
    This avoids an additional query by passing the query args directly to the `WP_Query::query()` method, rather than to the constructor and calling get_posts(), following [55569].
    
    Props david.binda, azaozz, spacedmonkey, mukesh27, flixos90, SergeyBiryukov, joemcgill.
    Fixes #59224.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56491 602fd350-edb4-49c9-b593-d223f7449a82

commit 3d2f4d5a88ab33e21f0ae97c277ddabb066c886b
Author: Joe McGill <joemcgill@git.wordpress.org>
Date:   Tue Aug 29 22:03:25 2023 +0000

    Posts, Post Types: Reinstate missing sort_column options in get_pages().
    
    This fixes an issue introduced in [55569] that broke sort ordering by `post_modified_gmt` or `modified_gmt`.
    
    Props david.binda, azaozz, spacedmonkey, flixos90, joemcgill.
    Fixes #59226.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56490 602fd350-edb4-49c9-b593-d223f7449a82

commit ab5fd4d56a955c1b2c7800feb5f34218c6604a36
Author: Pascal Birchler <swissspidy@git.wordpress.org>
Date:   Tue Aug 29 15:39:13 2023 +0000

    Site Health: fix check name used for REST API permission checks.
    
    Updates the calls to permission validation calls for the `directory-sizes` and `page-cache` routes to actually match the route names.
    
    Follow-up to r54043 and r49154.
    
    Props szepeviktor.
    Fixes #59236
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56489 602fd350-edb4-49c9-b593-d223f7449a82

commit ec94944ae4b5af2c2dda675711b627d98a72a2b0
Author: Pascal Birchler <swissspidy@git.wordpress.org>
Date:   Tue Aug 29 15:33:43 2023 +0000

    Media: Prevent warning if `[caption]` shortcode is used without attributes.
    
    Props maltfield, aslamdoctor.
    Fixes #59206.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56488 602fd350-edb4-49c9-b593-d223f7449a82

commit 61cd1a5210f907926c769bf7b3103d2d1b83a9de
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Aug 29 13:44:54 2023 +0000

    External Libraries: Upgrade PHPMailer to version 6.8.1.
    
    This is a minor maintenance release.
    
    Note: WordPress core does not include PHPMailer's DSN class, as it is not particularly relevant for WP.
    
    References:
    * [https://github.com/PHPMailer/PHPMailer/releases/tag/v6.8.1 PHPMailer 6.8.1 release notes]
    * [https://github.com/PHPMailer/PHPMailer/compare/v6.8.0...v6.8.1 Full list of changes in PHPMailer 6.8.1]
    
    Follow-up to [50628], [50799], [51169], [51634], [51635], [52252], [52749], [52811], [53500], [53535], [53917], [54427], [54937], [55557].
    
    Props jrf, Synchro.
    Fixes #59238.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56484 602fd350-edb4-49c9-b593-d223f7449a82

commit 7c254c5510f6e5227e320ea3118f411504f1fe1a
Author: John Blackbourn <johnbillion@git.wordpress.org>
Date:   Mon Aug 28 21:51:44 2023 +0000

    Privacy: Improve docblocks for hooks and functions related to personal data export and erasure.
    
    See #58833
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56482 602fd350-edb4-49c9-b593-d223f7449a82

commit 03290de92d6b63b7198c7f31217844983d531c6c
Author: Aaron Jorbin <jorbin@git.wordpress.org>
Date:   Mon Aug 28 17:12:46 2023 +0000

    External Libraries: Update jQuery to version 3.7.1.
    
    This release fixes a regression from jQuery 3.6.0 that resulted in rounded dimensions for `<tr />` elements in Chrome and Safari. Also, a (mostly) internal Sizzle method, `jQuery.find.tokenize` that was on the jQuery object was accidentally removed when they removed Sizzle in jQuery 3.7.0. That method has been restored.
    
    References:
    - https://blog.jquery.com/2023/08/28/jquery-3-7-1-released-reliable-table-row-dimensions/
    - https://github.com/jquery/jquery/compare/3.7.0...3.7.1
    
    Follow-up to [49101], [50445], [50520], [54202], [55012], [55491], [55860].
    
    Props TobiasBg, jorbin.
    Fixes #59227.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56481 602fd350-edb4-49c9-b593-d223f7449a82

commit 7cf05166a6b736b0303080dfb7deeaeeaf8db76f
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Aug 28 14:35:50 2023 +0000

    XML-RPC: Remove unused `wpdb` global in `wp_xmlrpc_server::mw_newMediaObject()`.
    
    Follow-up to [2676], [4961], [5008], [24716], [34578].
    
    Props upadalavipul.
    See #59185.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56480 602fd350-edb4-49c9-b593-d223f7449a82

commit 13becfa68b2c8a17a7c3c735655fef8fbfb3e986
Author: John Blackbourn <johnbillion@git.wordpress.org>
Date:   Sun Aug 27 20:32:16 2023 +0000

    Editor: Replace some accidental double setting up of tests with proper tearing down.
    
    See #55505, #58955
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56479 602fd350-edb4-49c9-b593-d223f7449a82

commit 28cb70662965bc4c952f89060bd0721d9b5f39ad
Author: John Blackbourn <johnbillion@git.wordpress.org>
Date:   Sun Aug 27 12:21:33 2023 +0000

    Users: Call `add_user_meta()` instead of `update_user_meta()` when adding metadata to a new user.
    
    This improves the performance of inserting users as it removes one unnecessary `SELECT` query for every row of metadata inserted.
    
    Props swissspidy, spacedmonkey, johnbillion
    
    Fixes #59212
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56478 602fd350-edb4-49c9-b593-d223f7449a82

commit 29c2f0154c180ecf92448e0f3f4e6430745c868b
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Aug 27 04:47:47 2023 +0000

    Users: Remove unused `wpdb` global in `check_password_reset_key()`.
    
    Follow-up to [45716].
    
    Props upadalavipul.
    See #59185.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56477 602fd350-edb4-49c9-b593-d223f7449a82

commit 49f61a73d6da896bc1e444544f7505b660b64909
Author: John Blackbourn <johnbillion@git.wordpress.org>
Date:   Sat Aug 26 18:09:07 2023 +0000

    Database: Improve the documentation for various methods in the `wpdb` class.
    
    See #58833
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56476 602fd350-edb4-49c9-b593-d223f7449a82

commit f71140438beeae7c251464dbd65946fdab037c84
Author: John Blackbourn <johnbillion@git.wordpress.org>
Date:   Sat Aug 26 13:01:05 2023 +0000

    Database: Remove support for the `mysql` extension.
    
    The `mysql` extension is no longer used in PHP 7 or above. There's a good amount of conditional code in `wpdb` and the health checks that can be removed now that only the `mysqli` functions are used.
    
    Fixes #59118
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56475 602fd350-edb4-49c9-b593-d223f7449a82

commit 7ed2467c3afa1a869e0c70acd362c96ba35d7c1a
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Aug 26 04:47:09 2023 +0000

    Docs: Fix typo in a translator comment in `_deprecated_class()`.
    
    Includes a few other formatting adjustments for consistency.
    
    Follow-up to [48327], [56467], [56471].
    
    See #58833.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56474 602fd350-edb4-49c9-b593-d223f7449a82

commit 7f38f687c4e45a2a28b214024c50cf145edeae0e
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Fri Aug 25 05:42:43 2023 +0000

    Upgrade/Install: Add missing escaping function for `get_option( 'home' )` in `upgrade.php`.
    
    Props dilipbheda.
    Fixes #59199.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56473 602fd350-edb4-49c9-b593-d223f7449a82

commit e0e36e63fe95a556717b4026e8223e155aa2cd49
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Fri Aug 25 05:09:09 2023 +0000

    Docs: Improve PHPCS comments general consistency.
    
    Props nekojonez.
    See #58833.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56472 602fd350-edb4-49c9-b593-d223f7449a82

commit 73f7ecce4c3188527d479734990ee9eda6ee2b4e
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Fri Aug 25 05:02:53 2023 +0000

    Docs: Docblock improvements in `_deprecated_class()` function, as per docblocks standards.
    
    Follow-up to [56467].
    
    See #58833.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56471 602fd350-edb4-49c9-b593-d223f7449a82

commit 2f76410f8b08e61c31f9d9b386c9810844b952d7
Author: Drew Jaynes <drewapicture@git.wordpress.org>
Date:   Fri Aug 25 03:42:48 2023 +0000

    Fix coding standards for `Tests_Admin_wpUserSearch`
    
    See #41125.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56470 602fd350-edb4-49c9-b593-d223f7449a82

commit 8fd9604f148c1743b0184bfb064b1103c940eb6b
Author: Drew Jaynes <drewapicture@git.wordpress.org>
Date:   Fri Aug 25 03:35:59 2023 +0000

    Properly deprecate both constructors in `WP_User_Search`.
    
    - `__construct()` gets the new `_deprecated_class()` function
    - `WP_User_Search` PHP4 style constructor is changed from `_deprecated_function()` to `_deprecated_constructor()`
    
    Adds a test to confirm `WP_User_Search` class is testable as deprecated.
    
    Props jrf, DrewAPicture.
    Fixes #41125.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56469 602fd350-edb4-49c9-b593-d223f7449a82

commit 515634ffff4654181c842cf37e82886248714b07
Author: Drew Jaynes <drewapicture@git.wordpress.org>
Date:   Fri Aug 25 03:33:25 2023 +0000

    Fix coding standards for translatable `_deprecated_class()` message strings
    
    See #41125
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56468 602fd350-edb4-49c9-b593-d223f7449a82

commit 4ef1036e69e4b19391e8f7808b770f13a094b42b
Author: Drew Jaynes <drewapicture@git.wordpress.org>
Date:   Fri Aug 25 03:24:00 2023 +0000

    Introduce a `_deprecated_class()` function.
    
    Similar to other function in the `_deprecated_*` series, `_deprecated_class()` comes with two new hooks: `deprecated_class_run` and `deprecated_class_trigger_error`.
    
    Support has also been added for setting class deprecation expectations in tests.
    
    Props jrf, wvega, ohryan.
    See #41125.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56467 602fd350-edb4-49c9-b593-d223f7449a82

commit a5e6100443b076201bd0784114a8c8b983b77208
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Aug 25 01:26:01 2023 +0000

    Coding Standards: Use strict comparison in `wp-includes/class-wp-widget.php`.
    
    Follow-up to [10764], [10912], [11427].
    
    Props aristath, poena, afercia, SergeyBiryukov.
    See #58831.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56466 602fd350-edb4-49c9-b593-d223f7449a82

commit a8a0bf0cc83935804a9accee82e9ae696037bdae
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Thu Aug 24 21:02:47 2023 +0000

    Build/Test Tools: Ensure database containers are prepared for commands.
    
    By default, Docker waits for a container to be started before considering it “ready”. But this does not necessarily mean that it’s ready to receive commands.
    
    This adds a check that ensures the database container is ready to receive commands before proceeding with running commands.
    
    Follow up to [56439], [56440], [56443].
    
    Props rmccue, desrosj.
    See #30462, #58867.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56464 602fd350-edb4-49c9-b593-d223f7449a82

commit 218fbd91ab5326d3d145211ce5569425363a18f5
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Thu Aug 24 21:00:06 2023 +0000

    Block Editor: Update SVN props to ignore new asset files.
    
    Update svn props to ignore additional CSS files added to WordPress 6.3.
    
    Fixes #59197.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56463 602fd350-edb4-49c9-b593-d223f7449a82

commit a84270a1b0a0be1eb39d02203f17487aeddb5664
Author: Adam Silverstein <adamsilverstein@git.wordpress.org>
Date:   Thu Aug 24 20:48:40 2023 +0000

    Customizer: use the correct `X-Robots-Tag` header.
    
    Fix an issue where the `X-Robots` header was used instead of the `X-Robots-Tag` header.  Using `X-Robots-Tag` yields the correct behavior that the original code intended to add. `X-Robots` is left in place for backward compatibility.
    
    Props michelleblanchette, dhruvishah2203, rajinsharwar, jorbin, hztyfoon, elrae. 
    
    Fixes #58865.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56462 602fd350-edb4-49c9-b593-d223f7449a82

commit f085426605f150ca3d2aa4a370d6e70e0a7e9c0c
Author: Weston Ruter <westonruter@git.wordpress.org>
Date:   Thu Aug 24 20:40:24 2023 +0000

    Build Tools: Avoid doing `copy:dynamic` when running `grunt watch` when using `--dev` option.
    
    This prevents erroneously copying a file from source onto itself in source.
    
    Props westonruter, jorbin.
    Fixes #59196.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56461 602fd350-edb4-49c9-b593-d223f7449a82

commit dfda67a587a7a3a67f10a87d3e0ca77da4141f61
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Thu Aug 24 20:25:36 2023 +0000

    Help/About: Match icon and text in Help for bulk edit button.
    
    Change the 'x' in the Help message that instructs a user how to remove an item from a group of bulk edit items to use the dashicon and text equivalent that matches the visual and accessible control name.
    
    Props Presskopp, costdev, sabernhardt, matthewfarlymn, bvreeman22.
    Fixes #58785.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56460 602fd350-edb4-49c9-b593-d223f7449a82

commit e82474c53673e7b6ba5081bc2c7f98c52d18dd09
Author: K. Adam White <kadamwhite@git.wordpress.org>
Date:   Thu Aug 24 20:21:35 2023 +0000

    REST API: Remove misleading comment in WP_REST_Blocks_Controller->get_item_schema.
    
    In r56093 schema caching was added above a comment instructing developers not to cache that controller's schema. However, there is no obvious penalty for re-caching schema that is partially derived from a parent.
    
    Caching schema in the same way in every controller is beneficial consistency, and discussion at WCUS2023 contributor day concluded we could remove this comment.
    
    Props ahardyjpl, davidbinda, johnjamesjacoby, TimothyBlynJacobs.
    
    Fixes #59193. See #58657.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56459 602fd350-edb4-49c9-b593-d223f7449a82

commit 1f66a067d958105e54c093aa828f3a3459befe6a
Author: Timothy Jacobs <timothyblynjacobs@git.wordpress.org>
Date:   Thu Aug 24 20:14:04 2023 +0000

    General: Use regular core button styles for page header actions.
    
    Props emailjoey, melchoyce, afercia, michaelarestad, danieltj, helen.
    Fixes #41986.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56458 602fd350-edb4-49c9-b593-d223f7449a82

commit 095617ed941164f0a97afc69be23826643f8512a
Author: David Baumwald <davidbaumwald@git.wordpress.org>
Date:   Thu Aug 24 19:57:15 2023 +0000

    Editor: Optimize `wp_get_block_css_selector` to remove `array_merge` calls for better performance.
    
    Some block themes like TT3 use `wp_get_block_css_selector` to determine a CSS selector based on block type and other parameters.  However, recent performance profiling indicated a bottleneck in `wp_get_block_css_selector`, particularly sections that utilize `array_merge`.  By slightly refactoring these sections, `array_merge` calls can be avoided which increases performance.
    
    Props mukesh27, joemcgill, daxelrod, tabrisrp.
    Fixes #59178.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56457 602fd350-edb4-49c9-b593-d223f7449a82

commit b1f5563e31d6360cedcf77433eec2d598a31788f
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Thu Aug 24 19:41:16 2023 +0000

    Administration: Escape post type output as field attribute.
    
    Props viralsampat.
    Fixes #59190.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56456 602fd350-edb4-49c9-b593-d223f7449a82

commit 0c82e15d72ee5114e61c676d6559d0763939d572
Author: Anthony Burchell <antpb@git.wordpress.org>
Date:   Thu Aug 24 19:36:16 2023 +0000

    Performance: Add fallback for `$script_uri` to prevent firing `plugins_url()` unnecessarily.
    
    Previously, in `register_block_script_handle()` the `$script_uri` variable initialized with a `plugins_url()` call that was reported to invoke four times. In this patch the var is initialized as a blank string with a fallback to use the `plugins_url()` if the other intended conditions are not met.
    
    Props mukesh27, daxelrod, adamsilverstein, davidbaumwald.
    Fixes #59181.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56455 602fd350-edb4-49c9-b593-d223f7449a82

commit 1fc1e9c888cd69cf0bcaff372972d980e7a5e61d
Author: Aaron Jorbin <jorbin@git.wordpress.org>
Date:   Thu Aug 24 19:12:33 2023 +0000

    Login and Registration: Improve test coverage for sign on related functions
    
    Adds new tests to ensure that `wp_authenticate_email_password`, `wp_authenticate_username_password`, and `wp_authenticate_cookie` are better tested. This also unsets cookies properly between tests.
    
    Props JordanPak, johnregan3.
    Fixes #36476.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56454 602fd350-edb4-49c9-b593-d223f7449a82

commit 0d04972be603228693fbd5d80f61daffdf1449a2
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Thu Aug 24 17:33:04 2023 +0000

    Build/Test: Revert unintentional .env change in [56449].
    
    Also committed a change to .env. Sigh.
    
    Unprops joedolson.
    See #56594.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56453 602fd350-edb4-49c9-b593-d223f7449a82

commit f435b0d272c8ef55148fd4dc03a9fe6670360f8b
Author: John Blackbourn <johnbillion@git.wordpress.org>
Date:   Thu Aug 24 16:53:15 2023 +0000

    Media: Add a filter to the `get_available_post_mime_types()` function to allow overriding its database query.
    
    This introduces the `get_available_post_mime_types` filter so this query can be skipped or cached by plugins.
    
    Props maciejmackowiak, archon810, rcorrales
    
    Fixes #52759
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56452 602fd350-edb4-49c9-b593-d223f7449a82

commit 179ac0ccd2eb127d7c5bb15727404976db5ed010
Author: Jake Spurlock <whyisjake@git.wordpress.org>
Date:   Thu Aug 24 16:14:54 2023 +0000

    Bundled Themes: Ensure that pull quotes are able to use the correct font
    size.
    
    Pull quote bodies weren't inheriting the correct styling from the block
    editor. This ensure that will happen.
    
    Props nidhidhandhukiya, poena, varjodesigns, jivygraphics, whyisjake.
    Fixes #57854.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56451 602fd350-edb4-49c9-b593-d223f7449a82

commit 1db31132ebaf1112ee6377628bfbcab45717aabc
Author: joedolson <joedolson@602fd350-edb4-49c9-b593-d223f7449a82>
Date:   Thu Aug 24 16:12:01 2023 +0000

    Menus: Revert unintentional changes in [56449].
    
    Accidentally committed two simultaneous patches; reverting unintended list table changes.
    
    Unprops joedolson.
    See #56594.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56450 602fd350-edb4-49c9-b593-d223f7449a82

commit b21d72b39ddcf624ecdc2142aeb9a601e7e61ca5
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Thu Aug 24 15:56:34 2023 +0000

    Menus: Fix proximity of controls to Save and Delete menus.
    
    Move the position of the Save and Delete buttons in menu editing so they are immediate neighbors, improving the proximity of related controls.
    
    Props 90lines, sabernhardt, costdev.
    See #56594.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56449 602fd350-edb4-49c9-b593-d223f7449a82

commit c10caf93d5ece0b73bd25d9ecad431ebc6891b41
Author: Joe McGill <joemcgill@git.wordpress.org>
Date:   Thu Aug 24 15:55:27 2023 +0000

    Rewrite Rules: Prevent stampedes when flush_rewrite_rules() is called
    
    This ensures that the `rewrite_rules` option is not emptied until the new value has been recalculated and the option is updated. The logic for refreshing the option value is moved to a new private method named `WP_Rewrite::refresh_rewrite_rules` which is used by both the `flush_rules` and `refresh_rewrite_rules` methods.
    
    Props iCaleb, joemcgill, flixos90, mukesh27.
    Fixes #58998.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56448 602fd350-edb4-49c9-b593-d223f7449a82

commit 40df0ec5e2976da0e1ab4fb45788964ca04fb661
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Thu Aug 24 15:32:09 2023 +0000

    Bundled Theme: Twenty Nineteen: Improve social media icon dimension attributes.
    
    Set the default width and height attributes of the SVG social icons to match the dimensions used within the CSS. This increases the attributes to 32px x 32 px.
    
    Props crunnells, mukesh27, laurelfulford, tahmidulkarim, jordanpak.
    Fixes #45950.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56447 602fd350-edb4-49c9-b593-d223f7449a82

commit 2cdaf29678b2a978b6fb9a730b051237cf40d3b4
Author: Pascal Birchler <swissspidy@git.wordpress.org>
Date:   Thu Aug 24 15:25:24 2023 +0000

    Plugins: Correctly display spaces in new plugins search results.
    
    Ensures the encoded search term in the input field is correctly decoded again.
    
    Follow-up to [53844] and [54904].
    
    Props adhun, nithi22, huzaifaalmesbah, deepakvijayan, zunaid321, iammehedi1.
    Fixes #59143.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56446 602fd350-edb4-49c9-b593-d223f7449a82

commit 81423c3ea63531c8c9ff7591295825eabd7a5b99
Author: flixos90 <flixos90@602fd350-edb4-49c9-b593-d223f7449a82>
Date:   Thu Aug 24 14:40:01 2023 +0000

    Options, Meta APIs: Introduce `prime_options()` to load multiple options with a single database request.
    
    WordPress's `get_option()` function generally relies on making individual database requests for each option, however with the majority of options (in most cases) being autoloaded, i.e. fetched once with a single database request and then stored in (memory) cache.
    
    As part of a greater effort to reduce the amount of options that are unnecessarily autoloaded, this changeset introduces an alternative way to retrieve multiple options in a performant manner, with a single database request. This provides a reasonable alternative for e.g. plugins that use several options which only need to be loaded in a few specific screens.
    
    Specifically, this changeset introduces the following functions:
    * `prime_options( $options )` is the foundation to load multiple specific options with a single database request. Only options that aren't already cached (in `alloptions` or an individual cache) are retrieved from the database.
    * `prime_options_by_group( $option_group )` is a convenience wrapper function for the above which allows to prime all options of a specific option group (as configured via `register_setting()`).
    * `get_options( $options )` is another wrapper function which first primes the requested options and then returns them in an associative array, calling `get_option()` for each of them.
    
    Props mukesh27, joemcgill, costdev, olliejones.
    Fixes #58962.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56445 602fd350-edb4-49c9-b593-d223f7449a82

commit c63e32fe8a5fecf844bc4fe3f1a6a5bb2390d265
Author: Aaron Jorbin <jorbin@git.wordpress.org>
Date:   Thu Aug 24 14:33:28 2023 +0000

    Build/Tests: Tests_Formatting_MakeClickable should use data providors
    
    Removes the foreach loops from the tests by moving the in-test data sets into data providers and combines the URL data sets into one data provider to test with one test method. By using a data providor, all the tests run rather than stopping at the first failure in this group.
    
    Fixes #57660.
    Props hellofromTonya.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56444 602fd350-edb4-49c9-b593-d223f7449a82

commit 416d1a8ddcecec8dd65da0d8d42baeca9085b044
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Thu Aug 24 14:21:36 2023 +0000

    Build/Test Tools: Implicitly pass secrets to the called workflow.
    
    This ensures the Hosting Test results API key is present for reporting results.
    
    Follow up to [56439] and [56440].
    
    See #30462.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56443 602fd350-edb4-49c9-b593-d223f7449a82

commit 35f7b9ec72d6987bb34cf3c90d688144ccfa1230
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Thu Aug 24 14:07:53 2023 +0000

    Build/Test Tools: Change the version of Node.js in the Codespaces container.
    
    Follow up to [56378] and [56387].
    
    Props jeffpaul.
    See #56658.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56442 602fd350-edb4-49c9-b593-d223f7449a82

commit 222af98bbe296f38541e552e4e4813f0c252934a
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Aug 24 13:39:25 2023 +0000

    Docs: Correct default post type in `page_template_dropdown()` docblock.
    
    The default post type used by `page_template_dropdown()` is `page`, not `post`.
    
    Props maxinacube.
    Fixes #58972.
    See #58833.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56441 602fd350-edb4-49c9-b593-d223f7449a82

commit c2ae255fe1473758948ec3d73158507aeb3d041d
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Thu Aug 24 13:28:26 2023 +0000

    Build/Test Tools: Merge pre-commit changes missed in [56439].
    
    Props l1nuxjedi.
    See #30462.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56440 602fd350-edb4-49c9-b593-d223f7449a82

commit a00b04bae75075cc3d327db0383aa4de28787d5f
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Thu Aug 24 13:08:40 2023 +0000

    Build/Test Tools: Expand database testing to account for all supported versions and types.
    
    This modifies the PHPUnit workflow to add MySQL version 8.0 to the strategy matrix. It also adds an additional strategy matrix to expand testing to include several supported MariaDB versions.
    
    To prevent repeating code, the business logic of the PHPUnit testing has been moved to a new, callable workflow.
    
    Because callable workflows target a specific branch, branches created in the future will continue to benefit from improvements made to the workflow in `trunk` without requiring backports. If a breaking change is required, older branches will need to be updated to target the commit SHA representing the final commit of the previous state.
    
    Props johnbillion, pento, boonebgorges, netweb, nacin, desrosj.
    Fixes #30462.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56439 602fd350-edb4-49c9-b593-d223f7449a82

commit f0ff124fe9b41eaaea04f4bcb11524e860e96a57
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Aug 24 11:17:06 2023 +0000

    Coding Standards: Use strict comparison in `wp-includes/ms-site.php`.
    
    Follow-up to [12603], [43548], [43654], [44472].
    
    Props aristath, poena, afercia, SergeyBiryukov.
    See #58831.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56438 602fd350-edb4-49c9-b593-d223f7449a82

commit f4b36d8941f2799e5749a165b7a4588224f269fb
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Aug 24 09:30:17 2023 +0000

    Revisions: Add missing escaping function for `$post_edit_link` in `wp-admin/revision.php`.
    
    Props nidhidhandhukiya, Presskopp, mukesh27, rajinsharwar, costdev.
    Fixes #59141.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56437 602fd350-edb4-49c9-b593-d223f7449a82

commit 7faabe4015e146c5d0fee453c5d58373aa3b21c1
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Aug 24 09:10:17 2023 +0000

    Docs: Clarify `post_date_column_time` filter description.
    
    Props crstauf, mukesh27.
    Fixes #59029.
    See #58833.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56436 602fd350-edb4-49c9-b593-d223f7449a82

commit 07b5588a8822aa71a10d6e2ea964f0a60cbac9f9
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Aug 24 09:06:52 2023 +0000

    Docs: Use third-person singular verbs in various function descriptions, as per docblocks standards.
    
    See #58833.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56435 602fd350-edb4-49c9-b593-d223f7449a82

commit e7dd83bf972ca3d5b8f59a8226caf37998d7367b
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Aug 24 08:59:36 2023 +0000

    Docs: Wrap inline `@see` tags in curly braces.
    
    Props costdev, mukesh27.
    Fixes #58858.
    See #58833.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56434 602fd350-edb4-49c9-b593-d223f7449a82

commit ef0e58bf0f74dbdda8e15c50b10f3958fd3296a7
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Aug 24 08:42:23 2023 +0000

    Docs: Add missing @param description in `WP_Comment` class.
    
    Props armondal, hztyfoon, SergeyBiryukov.
    Fixes #58890.
    See #58833.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56433 602fd350-edb4-49c9-b593-d223f7449a82

commit bf00a673a5f1d7f4707a6f914e1408526a8dc06a
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Aug 23 15:51:12 2023 +0000

    Coding Standards: Use strict comparison in `wp-includes/ms-files.php`.
    
    Follow-up to [12603], [12936], [56395].
    
    Props aristath, poena, afercia, SergeyBiryukov.
    See #58831.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56430 602fd350-edb4-49c9-b593-d223f7449a82

commit 5a99ab468a2bae1c4660ec45dde908f3b1032041
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Aug 22 12:28:52 2023 +0000

    Posts, Post Types: Remove redundant function calls in `get_body_class()`.
    
    As part of a previous change to add support for post type templates, the `$wp_query->get_queried_object_id()` method ended up being called twice, in both the `is_singular()` and `is_page()` conditional branches.
    
    The `get_post()` function call was also unnecessary, as `$wp_query->get_queried_object()` is already called in the `is_singular()` branch above, which includes the `is_page()` branch too.
    
    This commit removes the redundant calls. The first `$wp_query->get_queried_object_id()` call is removed as well, since the post ID is already available via `$wp_query->get_queried_object()`.
    
    Follow-up to [10485], [10877], [12877], [13032], [21597], [38951].
    
    Props mattkeys, spacedmonkey, oglekler.
    Fixes #43661.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56424 602fd350-edb4-49c9-b593-d223f7449a82

commit 17e9e69bb6a44c38ee0d8dba36e363ba59e50f40
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Mon Aug 21 17:49:09 2023 +0000

    Editor: Fix error handling of converting classic to block menus.
    
    Fixes the error handling for when `WP_Classic_To_Block_Menu_Converter::convert()` returns an instance of `WP_Error`. `WP_Navigation_Fallback::create_classic_menu_fallback()` now checks for `is_wp_error()` and if `true`, returns the error. And the `@return` type is updated to `string|WP_Error`.
    
    Also includes a fix in the return type in `WP_Classic_To_Block_Menu_Converter::convert()` to return an empty string instead of an array instead, i.e. when bailing out for no menu items returned by `wp_get_nav_menu_items()`. The return type is clearly documented as a `string`.
    
    Follow-up to [56052].
    
    Props dlh, get_dave, antonvlasenko, hellofromTonya.
    Fixes #58823.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56422 602fd350-edb4-49c9-b593-d223f7449a82

commit f0d53f8100d5bc274b126995e5f08a509a70d91c
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Aug 21 15:53:04 2023 +0000

    Build/Test Tools: Update PHPUnit Polyfills to version 1.1.0.
    
    [https://github.com/sebastianbergmann/phpunit/blob/9.6/ChangeLog-9.6.md#961---2023-02-03 PHPUnit 9.6.1] deprecated the `assertObjectHasAttribute()` and `assertObjectNotHasAttribute()` methods, leading to deprecation notices in a number of tests.
    
    [https://github.com/sebastianbergmann/phpunit/blob/10.1.3/ChangeLog-10.1.md#1010---2023-04-14 PHPUnit 10.1.0] brought the methods back by popular request, though renamed as `assertObjectHasProperty()` and `assertObjectNotHasProperty()`, to prevent confusion with PHP 8.0 attributes.
    
    This meant that users which cannot (yet) upgrade to PHPUnit 10.1+ would always have deprecation notices for these methods without recourse. So, after much discussion, the new methods have been backported to [https://github.com/sebastianbergmann/phpunit/blob/9.6/ChangeLog-9.6.md#9611---2023-08-19 PHPUnit 9.6.11], leaving just the 10.0.x series with a deprecation notice and no recourse.
    
    What does this mean for WordPress?
    
    WordPress uses the [https://github.com/Yoast/PHPUnit-Polyfills PHPUnit Polyfills] to be able to write tests for the most recent versions of PHPUnit, with the Polyfills taking care of polyfilling any new PHPUnit methods on older PHPUnit versions.
    
    * The PHPUnit Polyfills 1.x series supports PHPUnit 4.x to 9.x.
    * The PHPUnit Polyfills 2.x series supports PHPUnit 5.x to 10.x.
    
    WordPress currently runs against PHPUnit 6.x to 9.x with PHPUnit Polyfills 1.x, while the new methods were previously only included in PHPUnit Polyfills 2.0.0+, as they were introduced in PHPUnit 10.x.
    
    Since the `assertObjectHasProperty()` and `assertObjectNotHasProperty()` methods have been backported to PHPUnit 9.x, the PHPUnit Polyfills will now include these methods in the 1.x series as well.
    
    By upgrading to the latest [https://github.com/Yoast/PHPUnit-Polyfills/releases/tag/1.1.0 PHPUnit Polyfills 1.1.0] release, we can get rid of the deprecation notices related to the use of the `assertObjectHasAttribute()` and `assertObjectNotHasAttribute()` methods.
    
    This could have implications for plugins or themes running integration tests with WordPress if they have set their PHPUnit Polyfills dependency to a fixed version or have a too strict version constraint (limiting the PHPUnit Polyfills to the 1.0.x series). The solution for those plugins or themes is to update their version constraints for the PHPUnit Polyfills to allow for the 1.1.x series.
    
    Follow-up to [51559], [51598].
    
    Props jrf, ayeshrajans.
    Fixes #59150.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56421 602fd350-edb4-49c9-b593-d223f7449a82

commit 9b8a0d22b0d11e9363acfe5006920ee8eb1676f2
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Aug 20 00:08:49 2023 +0000

    Coding Standards: Use strict comparison in `wp-admin/includes/meta-boxes.php`.
    
    Follow-up to [38], [647], [2890], [3570], [11815], [11816], [31550], [52620].
    
    Props aristath, poena, afercia, SergeyBiryukov.
    See #58831.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56420 602fd350-edb4-49c9-b593-d223f7449a82

commit cfe5a1e0a8040dd949a393a15af068218a33ebc7
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Sat Aug 19 23:20:25 2023 +0000

    Editor: update npm packages with critical bug fixes for 6.3.1.
    
    Includes fixes for footnotes and editor styles related crashes, as well as a cut and paste-related crash.
    
    Props ramonopoly.
    See #59151.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56419 602fd350-edb4-49c9-b593-d223f7449a82

commit 5d466a4d4ae1bb729ce74dc79beaefa2ed09042f
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Aug 19 00:08:32 2023 +0000

    Docs: Correct punctuation in some instances of the `$crop` parameter description.
    
    Follow-up to [56416].
    
    See #58833.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56418 602fd350-edb4-49c9-b593-d223f7449a82

commit d1f72a633080600fded4a40189bd18504822212c
Author: Andrew Ozz <azaozz@git.wordpress.org>
Date:   Fri Aug 18 23:23:33 2023 +0000

    Revert the last use of `str_starts_with()` in `update-core.php`.
    
    Fixes updating WordPress from 5.7 and earlier versions. When doing the update this file runs first in the old version where the polifills may not be available.
    
    Porps: frankit.
    Fixes: #59145.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56417 602fd350-edb4-49c9-b593-d223f7449a82

commit dde16aab1c738e6d74f8b1cc7d3b9468a16c96a8
Author: John Blackbourn <johnbillion@git.wordpress.org>
Date:   Fri Aug 18 17:54:41 2023 +0000

    Media: Standardise documentation of the `$crop` parameter for various media functions and methods.
    
    See #58833
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56416 602fd350-edb4-49c9-b593-d223f7449a82

commit 9bb4369bc1658d4047fe087fe9d158d72cf456c6
Author: John Blackbourn <johnbillion@git.wordpress.org>
Date:   Fri Aug 18 17:44:29 2023 +0000

    REST API: Correct the docblocks for various permission related methods.
    
    See #58833
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56415 602fd350-edb4-49c9-b593-d223f7449a82

commit 7aee3d35fbedf4d52792807faa1a7016889e6b43
Author: John Blackbourn <johnbillion@git.wordpress.org>
Date:   Fri Aug 18 17:27:16 2023 +0000

    Docs: Miscellaneous docblock corrections and improvements.
    
    See #58833
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56414 602fd350-edb4-49c9-b593-d223f7449a82

commit 9110074a208aba86acf0f3621ecf05036ecbb3ae
Author: AndrÃ© <oandregal@git.wordpress.org>
Date:   Fri Aug 18 13:20:56 2023 +0000

    Themes: add `wp_get_theme_data_custom_templates` function.
    
    Adds a new public function, `wp_get_theme_data_custom_templates` that returns the `customTemplates` defined by the active theme from `theme.json`. It also substitutes the usage of private APIs by this new
    API.
    
    Props johnbillion, audrasjb.
    Fixes #59137
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56413 602fd350-edb4-49c9-b593-d223f7449a82

commit e42bd867bc8ee4fdac26802405946a2a47a92c12
Author: AndrÃ© <oandregal@git.wordpress.org>
Date:   Fri Aug 18 13:16:13 2023 +0000

    Add missing `@` to the return tag in the `wp_get_theme_data_template_parts` function.
    
    Props audrasjb, johnbillion.
    Fixes #59003
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56412 602fd350-edb4-49c9-b593-d223f7449a82

commit 79b01c6d812d7dd1e252a8f108c9b894d8c97429
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Aug 18 10:07:25 2023 +0000

    Coding Standards: Improve variable names in `wp_save_image()`.
    
    This resolves a few WPCS warnings:
    {{{
    Variable "$sX" is not in valid snake_case format, try "$s_x"
    Variable "$sY" is not in valid snake_case format, try "$s_y"
    }}}
    
    The `$sX` and `$sY` variables are renamed to `$original_width` and `$original_height`, respectively.
    
    Additionally, the `$fwidth` and `$fheight` variables are renamed to `$full_width` and `$full_height`, for clarity.
    
    Follow-up to [11965], [22094], [56400].
    
    See #58831.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56411 602fd350-edb4-49c9-b593-d223f7449a82

commit 2acd0aca7845feda1c4ca4dd708ca4e8a72c422b
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Thu Aug 17 21:34:21 2023 +0000

    Administration: Invalid argument passed in additional_classes.
    
    Fix `additional_classes` argument passed as a string instead of an array. Follow up to [56409].
    
    Props joedolson.
    See #57791.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56410 602fd350-edb4-49c9-b593-d223f7449a82

commit 8ef111843ba4e538a05d990f0b0513160b49d0f0
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Thu Aug 17 21:01:17 2023 +0000

    Administration: Apply admin notice functions in multisite.
    
    Use `wp_get_admin_notice` and `wp_admin_notice` to handle multisite settings notices.
    
    Props costdev.
    See #57791.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56409 602fd350-edb4-49c9-b593-d223f7449a82

commit c60cfe92b4a08ee0391f9361d5cd76b738392cb8
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Thu Aug 17 20:27:35 2023 +0000

    Administration: Add function to standardize admin notices.
    
    Add functions `wp_get_admin_notice()` and `wp_admin_notice()` to create and output admin notices & tests for usage. New functions accept a message and array of optional arguments. This commit does not implement the functions. Include new filters: `wp_admin_notice_args`, `wp_admin_notice_markup` and action: `wp_admin_notice`.
    
    Props joedolson, costdev, sakibmd, dasnitesh780, sabernhardt.
    Fixes #57791.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56408 602fd350-edb4-49c9-b593-d223f7449a82

commit 5b517ae3a6d18fffc46d9f96804b21f771fb592b
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Thu Aug 17 17:56:06 2023 +0000

    Build/Test Tools: Revert Slack messaging changes.
    
    This reverts [56404], [56405], [56406].
    
    More testing is needed to ensure multiple messages are not sent unintentionally.
    
    Unprops desrosj.
    See #58867.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56407 602fd350-edb4-49c9-b593-d223f7449a82

commit dca4cc00bdd78115f7c6b0aa2dac4aa239be4673
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Thu Aug 17 17:34:06 2023 +0000

    Build/Test Tools: Send a failure notice in Slack when a run fails to start.
    
    This adds `startup_failure` to the list of conclusions that the Slack workflow looks for when determining whether to send a failure notice.
    
    See #58867.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56406 602fd350-edb4-49c9-b593-d223f7449a82

commit 7cd891845e5a3f461c3dbc1487467ab5e91c1827
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Thu Aug 17 17:17:23 2023 +0000

    Build/Test Tools: Use the correct variable for checking the previous conclusion.
    
    Follow up to [56404].
    See #58867.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56405 602fd350-edb4-49c9-b593-d223f7449a82

commit d3f193f741742cfb0fde99f3eb9bd5acbd216d21
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Thu Aug 17 16:59:49 2023 +0000

    Build/Test Tools: Don’t send a Slack notice when a workflow fails once.
    
    [53947] introduced a callable workflow that allowed a workflow run to be retried automatic. By default all workflows are retried once.
    
    Since a run is not considered “failed” until after the automatic retry, the first Slack message is unnecessary and can cause a lot of noise when there are network hiccups.
    
    This alters the logic to skip a failure notice in Slack until the second failure.
    
    See #58867.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56404 602fd350-edb4-49c9-b593-d223f7449a82

commit 2bd2a2fe84c2ae656fd095cacd1bcd45a8aa9bc6
Author: Weston Ruter <westonruter@git.wordpress.org>
Date:   Thu Aug 17 16:37:46 2023 +0000

    Editor: Ensure defer loading strategy is only applied to a block's viewScript.
    
    Amends [56398].
    Props gziolo, westonruter.
    Fixes #59115.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56403 602fd350-edb4-49c9-b593-d223f7449a82

commit cc828e2619e0f538ec8e1efa0b315755e4e98075
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Thu Aug 17 14:42:58 2023 +0000

    Build/Test Tools: Simplify the required prerequisite jobs for the `failed-workflow` job.
    
    Because `slack-notifications` job requires all preceding jobs in each workflow to complete, there’s no need to include the same jobs in the `needs` configuration for the `failed-workflow` one.
    
    See #58867.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56402 602fd350-edb4-49c9-b593-d223f7449a82

commit 31318001988b6e6f421222719b5dc8c6299a87ec
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Aug 17 11:16:08 2023 +0000

    Site Health: Correct the check for disk space available to safely perform updates.
    
    If the available disk space exceeds the `PHP_INT_MAX` value, i.e. a 32-bit PHP version is in use with more than 2 GB free, the type casting to `(int)` could cause an overflow, and the Site Health test would then erroneously report that there is not enough free space.
    
    This commit removes the unnecessary type casting and uses the result from `disk_free_space()` directly.
    
    Includes optimizing the logic to skip further checks if the available disk space could not be determined.
    
    Follow-up to [55720].
    
    Props mathsgrinds, Presskopp, rajinsharwar, SergeyBiryukov.
    Fixes #59116.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56401 602fd350-edb4-49c9-b593-d223f7449a82

commit 8cd99074624a8c4b589f31c7b2a8092f4fe5c79e
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Aug 16 14:03:44 2023 +0000

    Coding Standards: Use strict comparison in `wp-admin/includes/image-edit.php`.
    
    Follow-up to [11911], [11965], [11984], [12155], [12163], [22094].
    
    Props aristath, poena, afercia, SergeyBiryukov.
    See #58831.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56400 602fd350-edb4-49c9-b593-d223f7449a82

commit 59a4df13397c2a466c51b4404319159d67cd7051
Author: Pascal Birchler <swissspidy@git.wordpress.org>
Date:   Wed Aug 16 08:46:22 2023 +0000

    Build/Test Tools: Measure additional load time metrics in performance tests.
    
    Three new metrics are being collected and reported as part of this change:
    
    - Time To First Byte (TTFB) - the time between the request for a resource and when the first byte of a response begins to arrive
    - Largest Contentful Paint (LCP) — the render time of the largest image or text block visible within the viewport
    - The difference between the two (LCP minus TTFB)
    
    Props joemcgill, flixos90, oandregal, mukesh27, youknowriad, swissspidy.
    Fixes #58360.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56399 602fd350-edb4-49c9-b593-d223f7449a82

commit 5fab14051188f87335ed5efdf5e199cf8517149f
Author: Weston Ruter <westonruter@git.wordpress.org>
Date:   Wed Aug 16 00:13:45 2023 +0000

    Editor: Use defer loading strategy for block view scripts.
    
    Props westonruter, joemcgill.
    Fixes #59115.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56398 602fd350-edb4-49c9-b593-d223f7449a82

commit f6dde69ea39693a6735b89a90ab657a83d7cb1c4
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Aug 15 10:07:30 2023 +0000

    Docs: Fix typo in duplicate hook references for `views_{$this->screen->id}`.
    
    Follow-up to [29218], [29625].
    
    Props nithins53, NekoJonez, mukesh27.
    Fixes #59102. See #58833.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56397 602fd350-edb4-49c9-b593-d223f7449a82

commit f107073f39827c2ab2b3b3198e194f844f357213
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Aug 14 09:57:54 2023 +0000

    Coding Standards: Use strict comparison in `wp-admin/includes/class-wp-importer.php`.
    
    Follow-up to [14760], [50658].
    
    Props aristath, poena, afercia, SergeyBiryukov.
    See #58831.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56396 602fd350-edb4-49c9-b593-d223f7449a82

commit 25443d3a7f2554c813c6110748fbc8625529bc47
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Aug 13 10:29:04 2023 +0000

    Coding Standards: Bring more consistency to `Last-Modified` and `ETag` checks.
    
    This updates two fragments for sending a `304 Not Modified` header to better align with each other by using consistent variable names and formatting.
    
    Follow-up to [1036], [1037], [1043], [2534], [2584], [2627], [12603], [12936], [56362].
    
    See #58831.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56395 602fd350-edb4-49c9-b593-d223f7449a82

commit 6929fd876f743b022a96032e3885f531070cd74d
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Aug 12 12:00:27 2023 +0000

    Coding Standards: Use strict comparison in `wp-includes/cron.php`.
    
    Includes minor code layout fixes for better readability.
    
    Follow-up to [3634], [4189].
    
    Props aristath, poena, afercia, SergeyBiryukov.
    See #58831.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56394 602fd350-edb4-49c9-b593-d223f7449a82

commit 0c96ba106c5ffbf6098e172291c5bf533ae4bc07
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Fri Aug 11 18:16:25 2023 +0000

    External Libraries: Update imagesLoaded to version `5.0.0`.
    
    This release drops support for IE and moves to using ES6.
    
    A full list of changes can be found on GitHub: https://github.com/desandro/imagesloaded/compare/v4.1.4...v5.0.0.
    
    Props nazsabuz, arnedb, costdev, audrasjb, ahmedgeek , valmedia2023 , hareesh-pillai.
    Fixes #56731.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56393 602fd350-edb4-49c9-b593-d223f7449a82

commit 78c78cb20b4d068343d25fe083ca68a0b8cdc0ce
Author: John Blackbourn <johnbillion@git.wordpress.org>
Date:   Fri Aug 11 17:01:32 2023 +0000

    Editor: Only exclude auto-generated block files from coding standards checks.
    
    Prior to this change, all block files were excluded from coding standards checks, but there's no reason these files shouldn't adhere to core's coding standards.
    
    Props lopo, Rahe, adamsilverstein 
    
    Fixes #50010
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56392 602fd350-edb4-49c9-b593-d223f7449a82

commit 5fa0387707bf6db72a256ee3dd095f7e781def18
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Fri Aug 11 16:10:38 2023 +0000

    External Libraries: Update Backbone.js to version `1.5.0`.
    
    This release contains bug fixes and documentation improvements.
    
    A full list of changes can be found on GitHub: https://github.com/jashkenas/backbone/compare/1.4.1...1.5.0.
    
    Props rajinsharwar, hareesh-pillai.
    Fixes #58930.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56391 602fd350-edb4-49c9-b593-d223f7449a82

commit dd764d3fe6f2a6e066afe485c784f80ae4ae7ef5
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Fri Aug 11 16:02:43 2023 +0000

    Build/Test Tools: Update all build tool related dependencies.
    
    This updates the following dependencies to their latest versions:
    - `chalk`
    - `cssnano`
    - `dotenv`
    - `grunt-contrib-cssmin`
    - `grunt-contrib-qunit`
    - `grunt-webpack`
    - `jest-image-snapshot`
    - `postcss`
    - `sass`
    - `sinon`
    - `webpack`
    
    Additionally, `npm audit fix` has been run to automatically fix as many issues as possible.
    
    See #58863.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56390 602fd350-edb4-49c9-b593-d223f7449a82

commit 0ca83e91ab8d00ade8e09a00d41e7d704bd3bd10
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Fri Aug 11 14:42:58 2023 +0000

    External Libraries: Update the `whatwg-fetch` polyfill library.
    
    This updates the `whatwg-fetch` library from version `3.6.2` to `3.6.17`, the latest current version.
    
    This library is included and registered within WordPress as the `wp-polyfill-fetch` script and is no longer used by WordPress itself.
    
    Props rajinsharwar, hareesh-pillai.
    Fixes #59066.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56389 602fd350-edb4-49c9-b593-d223f7449a82

commit 8d56facbebc082a420b52163c4805120896e8c55
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Fri Aug 11 13:03:21 2023 +0000

    Build/Test Tools: Update 3rd-party GitHub Actions.
    
    This updates all 3rd-party GitHub Actions to their latest versions.
    
    See #58867.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56388 602fd350-edb4-49c9-b593-d223f7449a82

commit 25f00597ec86f27501ec0f86f6fba917f58547f5
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Fri Aug 11 12:47:42 2023 +0000

    Build/Test Tools: Update the README file to reflect new Node.js/npm versions.
    
    Follow up to [56378].
    
    Props dantovbein, hbhalodia.
    Fixes #59071. See #56658.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56387 602fd350-edb4-49c9-b593-d223f7449a82

commit 27da228e906c3db9b98c44b8400bd86a0768625b
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Aug 11 11:33:27 2023 +0000

    Docs: Correct duplicate hook reference for `wp_min_priority_img_pixels`.
    
    The original filter location is `wp_maybe_add_fetchpriority_high_attr()` in `wp-includes/media.php`.
    
    This commit updates the instance in `wp_get_loading_optimization_attributes()` to point to the correct file.
    
    Follow-up to [56037], [56143], [56347].
    
    Props tmatsuur, rajinsharwar, khokansardar.
    Fixes #59067.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56386 602fd350-edb4-49c9-b593-d223f7449a82

commit 92521d79e34b6e30688a58966348ee12188d586b
Author: AndrÃ© <oandregal@git.wordpress.org>
Date:   Fri Aug 11 11:22:54 2023 +0000

    Themes: add wp_get_theme_data_template_parts function.
    
    Adds a new public function, `wp_get_theme_data_template_parts` that returns the `templateParts` defined by the active theme from `theme.json`. It also substitutes the usage of private APIs by this new API.
    
    Props felixarntz.
    Fixes #59003
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56385 602fd350-edb4-49c9-b593-d223f7449a82

commit 1bd3cac151358ceb1b5efffebe50e16274d16a59
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Aug 11 11:17:40 2023 +0000

    Tests: Correct two `@covers` annotations to use the recommended pattern.
    
    When global functions are covered, they need to be prefixed with `::` (double colon) to distinguish them from class name.
    
    Reference: [https://docs.phpunit.de/en/10.3/annotations.html#covers PHPUnit Manual: @covers annotation].
    
    Follow-up to [48848], [49305], [53741], [56296].
    
    Props ayeshrajans.
    Fixes #59069.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56384 602fd350-edb4-49c9-b593-d223f7449a82

commit 415c9f6bb488facb48c44141a7ed4ffc2444e22a
Author: Weston Ruter <westonruter@git.wordpress.org>
Date:   Thu Aug 10 19:47:08 2023 +0000

    Embeds: Modernize wp-embed script with removal of obsolete IE10/IE11 code and support for WP<4.4.
    
    * Remove obsolete `load` event handler in `wp-embed` since IE10+ support `DOMContentLoaded`.
    * Replace obsolete use of `document.createElement('a')` in favor of the newer `URL` class (supported in all browsers but obsolete IE11).
    * Remove obsolete IE10/IE11 code.
    * Combine conditionals.
    * Use `substring()` instead of deprecated `substr()` method.
    * Eliminate the stipulation that `wp-embed.js` not include ampersands, considering this was put in place for WP<4.3 which now accounts for only 1.43% of sites. This includes the elimination of the `verify:wp-embed` grunt task.
    
    Props westonruter, swissspidy.
    Fixes #58974.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56383 602fd350-edb4-49c9-b593-d223f7449a82

commit bb6de6b8c05f9d41979ca43a52d1e4bc450d481d
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Thu Aug 10 16:47:00 2023 +0000

    Editor: Simplify usage of `block_has_support()` function by supporting a string.
    
    Most block feature checks are for a single feature string, and for such cases it is not intuitive to require an array for the `$feature` parameter of the `block_has_support()` function.
    
    This changeset brings it in line with other functions like `post_type_supports()`, allowing to pass a string for the `$feature`. An array is still supported for more complex cases where support for sub-features needs to be determined. This change furthermore includes a very minor performance tweak by avoiding calls to the `_wp_array_get()` function if a single feature string is being checked for.
    
    Props thekt12, nihar007, mukesh27, swissspidy.
    Fixes #58532.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56382 602fd350-edb4-49c9-b593-d223f7449a82

commit e5b586bfd02f1a870d38d383922fd0aa0f87889a
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Aug 10 10:24:29 2023 +0000

    Users: Correct the logic for `switch_to_blog()` in `WP_User_Query::generate_cache_key()`.
    
    If `$blog_id` equals `0`, it should be treated as the current site ID, and there is no need to switch to a different site.
    
    This commit prevents an unnecessary call to `switch_to_blog()` on single site to avoid a fatal error when using `'orderby' => 'post_count'` and the deprecated `'who' => 'authors'` parameter:
    {{{
    Uncaught Error: Call to undefined function switch_to_blog() in wp-includes/class-wp-user-query.php:1077
    }}}
    
    Follow-up to [55657].
    
    Props dd32, austinginder, RavanH, mukesh27.
    Fixes #59011.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56381 602fd350-edb4-49c9-b593-d223f7449a82

commit 37b145a0e44d171d052f09efe59e4318739d1f2b
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Thu Aug 10 08:35:55 2023 +0000

    HTML API: Add support for BUTTON element.
    
    This patch adds support to process the BUTTON element. This requires adding some additional semantic rules to handle situations where a BUTTON element is already in scope.
    
    Also included is a fixup to enforce that `WP_HTML_Processor::next_tag()` never returns for a tag closer. This is useful with the Tag Processor, but not for the HTML Processor. There were tests relying on this behavior to assert that internal processes were working as they should, but those tests have been updated to use the semi-private `step()` function, which does stop on tag closers.
    
    This patch is one in a series of changes to expand support within the HTML API, moving gradually to allow for more focused changes that are easier to review and test. The HTML Processor is a work in progress with a certain set of features slated to be ready and tested by 6.4.0, but it will only contain partial support of the HTML5 specification even after that. Whenever it cannot positively recognize and process its input it bails, and certain function stubs and logical stubs exist to structure future expansions of support.
    
    Props dmsnell.
    Fixes #58961.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56380 602fd350-edb4-49c9-b593-d223f7449a82

commit d4b496acab95f9ddd5a87c8224ca001c2131de1a
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Aug 10 01:04:35 2023 +0000

    Docs: Remove `@see` references for SimplePie classes.
    
    As SimplePie is an external library, these classes are not parsed for the WordPress Code Reference, so the `@see` tags were linking to non-existing pages.
    
    Follow-up to [38112].
    
    Props crstauf.
    Fixes #59030.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56379 602fd350-edb4-49c9-b593-d223f7449a82

commit 429de7ae77e722dc1d33179fc5071572fd623754
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Wed Aug 9 18:52:42 2023 +0000

    Build/Test Tools: Bump the required versions of Node.js and npm.
    
    This changes the minimum required version of Node.js to 16.19.1, and npm to 8.19.3.
    
    Node.js 14.x reached end of life on April 30, 2023. While 18.x is the currently active LTS version, it can’t yet be used due to a systems level constraint on the build server.
    
    Updating further will be considered once this blocker is resolved.
    
    Gutenberg has also been updated to follow the same version requirements for consistency.
    
    Props youknowriad, gziolo, swissspidy, kevin940726, desrosj.
    Fixes #56658.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56378 602fd350-edb4-49c9-b593-d223f7449a82

commit b1d59267affb26777b92f6f2506b149476e8e073
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Aug 9 10:59:04 2023 +0000

    Coding Standards: Use strict comparison in `wp-includes/kses.php`.
    
    Follow-up to [649], [2896], [3418], [8386], [20540], [47219], [54933].
    
    Props aristath, poena, afercia, SergeyBiryukov.
    See #58831.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56377 602fd350-edb4-49c9-b593-d223f7449a82

commit f7fbd0c25f6824f7259dbca47b38c6569901baf5
Author: Aaron Jorbin <jorbin@git.wordpress.org>
Date:   Tue Aug 8 22:59:52 2023 +0000

    HTML API: Fix missing * for docblock.
    
    Follow up to [56363].
    
    Props dmsnell.
    See #58918. Fixes #59010.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56376 602fd350-edb4-49c9-b593-d223f7449a82

commit 79a36ded52e500ff1c0b4fcf75b3a636b4f6b09e
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Mon Aug 7 19:31:13 2023 +0000

    Options, Meta APIs: Expand `$autoload` parameter documentation.
    
    This changeset expands documentation of the `$autoload` parameter of the `add_option()` and `update_option()` functions, in order to provide more context on what autoloading is and which considerations should go into the decision whether to autoload an option.
    
    Excessive autoloading of options can lead to severe performance problems on some sites, and lack of documentation is a partial cause for the issue.
    
    Props rajinsharwar.
    Fixes #58963.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56370 602fd350-edb4-49c9-b593-d223f7449a82

commit 4ff71a6adf6f20966938331f7eee20b98ad4ed4c
Author: David Baumwald <davidbaumwald@git.wordpress.org>
Date:   Mon Aug 7 17:19:57 2023 +0000

    Upgrade/Install: Update `$_old_files` for 6.3.
    
    Props SergeyBiryukov.
    Fixes #58994.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56365 602fd350-edb4-49c9-b593-d223f7449a82

commit c96b089ec772cfc7d8de672e7e582644bfad3718
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Mon Aug 7 13:48:55 2023 +0000

    HTML API: Adjust code styling to Gutenberg's linter's preferences.
    
    Adjust the code style according to the rules that the linting process in Gutenberg requires.
    
    There are only a couple code changes that should have no effect on the runtime:
     - A missing check to verify that only `UTF-8` is supported has been added (brought up because it was identified as an undefined variable).
     - A few `return false;` statements have been added to avoid having the linter complain that functions don't return a value despite indicating they return `bool`. The functions are stubs for coming support and currently `throw`, so the `return` statements are unreachable.
    
    Props dmsnell, costdev, davidbaumwald, peterwilsoncc, SergeyBiryukov.
    Fixes #58918.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56363 602fd350-edb4-49c9-b593-d223f7449a82

commit 4a0712a0c2270c965c4c2ab166d20ca2bd7ffc9b
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Aug 7 09:59:20 2023 +0000

    Coding Standards: Use strict comparison in `wp-includes/class-wp.php`.
    
    Includes minor code layout fixes for better readability.
    
    Follow-up to [1043], [2534], [2584], [2627], [2958], [3252], [3564], [21818], [37356].
    
    Props aristath, poena, afercia, SergeyBiryukov.
    See #58831.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56362 602fd350-edb4-49c9-b593-d223f7449a82

commit b4cfea6f4ef08982cfc20779d281ce35c7f27e41
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Aug 6 12:50:42 2023 +0000

    Coding Standards: Use strict comparison in `wp-includes/class-wp-image-editor.php`.
    
    Follow-up to [22094].
    
    Props aristath, poena, afercia, SergeyBiryukov.
    See #58831.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56361 602fd350-edb4-49c9-b593-d223f7449a82

commit fd846534b63dbf8b0187e4baad6b4b6513621648
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Aug 5 14:00:56 2023 +0000

    Coding Standards: Rewrite loose comparison in `wp_list_categories()`.
    
    A truthy check is more in line with similar checks elsewhere, including conditionals in the same exact code block.
    
    Follow-up to [10275], [34696].
    
    Props aristath, poena, afercia, SergeyBiryukov.
    See #58831.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56360 602fd350-edb4-49c9-b593-d223f7449a82

commit 847328068d8d5fef10cd76df635fafd6b47556d9
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Aug 4 11:56:16 2023 +0000

    Coding Standards: Use strict comparison in `wp-includes/revision.php`.
    
    Follow-up to [24414], [38118], [38433].
    
    Props aristath, poena, afercia, SergeyBiryukov.
    See #58831.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56359 602fd350-edb4-49c9-b593-d223f7449a82

commit 72c9909999b2ff3a131dbeb4804604feb2b555f9
Author: Weston Ruter <westonruter@git.wordpress.org>
Date:   Fri Aug 4 00:21:11 2023 +0000

    Emoji: Suppress console errors from sessionStorage usage in sandboxed post embed iframe.
    
    Amends [56074].
    
    Props westonruter, flixos90.
    Fixes #58978.
    See #58472.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56358 602fd350-edb4-49c9-b593-d223f7449a82

commit 470911715d1108cc1c1f2e67c83b58fa1d56d6c8
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Thu Aug 3 20:29:12 2023 +0000

    Themes: Avoid unnecessary check whether parent template file exists when not using a child theme.
    
    Prior to this change, the `locate_template()` function would unconditionally check whether the relevant template file exists in the parent theme, which for sites not using a child theme is an exact duplicate of the previous check. This is wasteful and has a small impact on performance since `file_exists()` checks have a cost.
    
    Props nihar007, thekt12, spacedmonkey, mukesh27.
    Fixes #58576.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56357 602fd350-edb4-49c9-b593-d223f7449a82

commit 9e4188b93b3c1967ecb685c5ead3657583d7e2e2
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Thu Aug 3 19:50:20 2023 +0000

    Code Modernization: Use "declare" in WP_List_Table magic methods deprecation message
    
    Changes "define" to "declare" in the deprecation message in `WP_List_Table` magic methods.
    
    Why is "declare" better?
    It aligns well to:
    
    * the topic of and published information about dynamic properties.
    * the act of explicitly listing the variable as a property on the class.
    
    The goal of this message is guide developers to change their code. Changing the term to "declare" hopefully will aid in the understanding of what is being asked of developers when this deprecation is thrown.
    
    Follow-up [56349].
    
    Props hellofromTonya, antonvlasenko.
    Fixes #58896.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56356 602fd350-edb4-49c9-b593-d223f7449a82

commit 1fc10c92a273996903fbdd5e0c2a493875a53bd2
Author: Weston Ruter <westonruter@git.wordpress.org>
Date:   Thu Aug 3 19:20:36 2023 +0000

    Script Loader: Use defer loading strategy for wp-embed script and move to head (in block themes).
    
    Props westonruter, flixos90, swissspidy.
    Fixes #58931.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56355 602fd350-edb4-49c9-b593-d223f7449a82

commit 5b5d174a30c3057eb5870256e10ff0861df6eb09
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Thu Aug 3 18:11:36 2023 +0000

    Code Modernization: Deprecate dynamic properties in WP_Text_Diff_Renderer_Table magic methods.
    
    The unknown use of unknown dynamic property within the `WP_Text_Diff_Renderer_Table` property magic methods is now deprecated. A descriptive deprecation notice is provided to alert developers to declare the property on the child class extending `WP_Text_Diff_Renderer_Table`.
    
    Changes in this commit:
    * Adds a deprecation notice to the `__get()`, `__set()`, `__isset()`, `__unset()` magic methods, i.e. to alert and inform developers when attempting to get/set/isset/unset a dynamic property.
    * Fixes `__get()` to explicitly returns `null` when attempting to get a dynamic property.
    * Fixes `__set()` by removing the value return after setting a declared property, as (a) unnecessary and (b) `__set()` should return `void` [https://www.php.net/manual/en/language.oop5.overloading.php#object.set per the PHP handbook].
    * Fixes `__isset()` to return `false` if not in the `$compat_fields`, as `isset()` and `__isset()` should always return `bool`:
       * [https://www.php.net/manual/en/language.oop5.overloading.php#object.isset `__isset()` in the PHP manual]
       * [https://www.php.net/manual/en/function.isset.php `isset()` in the PHP manual]
    * Adds a test class with happy and unhappy paths for these changes.
    
    For backward compatibility, no changes are made to the internal declared properties listed in `$compat_fields` and accessed through the magic methods.
    
    For example:
    A child class uses a property named `$data` that is not declared as a property on the child class. When getting its value, e.g. `$user_query->data`, the `WP_Text_Diff_Renderer_Table::__get()` magic method is invoked, the following deprecation notice thrown, and `null` returned:
    
    >The property `data` is not declared. Setting a dynamic property is deprecated since version 6.4.0! Instead, declare the property on the class.
    
    === Why not remove the magic methods, remove the `$compat_fields` property, and restore the properties `public`?
    
    tl;dr Backward compatibility.
    
    If a plugin adds a property to `$compat_fields` array, then sites using that plugin would experience (a) an `Undefined property` `Warning` (PHP 8) | `Notice` (PHP 7) and (b) a possible change in behavior.
    
    === Why not limit the deprecation for PHP versions >= 8.2?
    
    tl;dr original design intent and inform
    
    The magic methods and `$compat_fields` property were added for one purpose: to continue providing external access to internal properties declared on `WP_Text_Diff_Renderer_Table`. They were not intended to be used for dynamic properties.
    
    Deprecating that unintended usage both alerts developers a change is needed in their child class and informs them what to change.
    
    References:
    * Dynamic (non-explicitly declared) properties are deprecated as of PHP 8.2 and are expected to become a fatal error in PHP 9.0.
    * A [https://www.youtube.com/live/vDZWepDQQVE?feature=share&t=10097 live open public working session] where these changes were discussed and agreed to.
    * [https://wiki.php.net/rfc/deprecate_dynamic_properties PHP RFC: Deprecate dynamic properties.]
    
    Follow-up to [28525], [31135].
    
    Props antonvlasenko, rajinsharwar, jrf, markjaquith, hellofromTonya, SergeyBiryukov, desrosj, peterwilsoncc, audrasjb, costdev, oglekler, jeffpaul.
    Fixes #58898.
    See #56034.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56354 602fd350-edb4-49c9-b593-d223f7449a82

commit 6fe193ce54cca75f3051e4634441acf88fc88604
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Thu Aug 3 16:25:25 2023 +0000

    Code Modernization: Deprecate dynamic properties in WP_User_Query magic methods.
    
    The unknown use of unknown dynamic property within the `WP_User_Query` property magic methods is now deprecated. A descriptive deprecation notice is provided to alert developers to declare the property on the child class extending `WP_User_Query`.
    
    Changes in this commit:
    * Adds a deprecation notice to the `__get()`, `__set()`, `__isset()`, `__unset()` magic methods, i.e. to alert and inform developers when attempting to get/set/isset/unset a dynamic property.
    * Fixes `__get()` to explicitly returns `null` when attempting to get a dynamic property.
    * Fixes `__set()` by removing the value return after setting a declared property, as (a) unnecessary and (b) `__set()` should return `void` [https://www.php.net/manual/en/language.oop5.overloading.php#object.set per the PHP handbook].
    * Fixes `__isset()` to return `false` if not in the `$compat_fields`, as `isset()` and `__isset()` should always return `bool`:
       * [https://www.php.net/manual/en/language.oop5.overloading.php#object.isset `__isset()` in the PHP manual]
       * [https://www.php.net/manual/en/function.isset.php `isset()` in the PHP manual]
    * Adds unit tests for happy and unhappy paths.
    
    For backward compatibility, no changes are made to the internal declared properties listed in `$compat_fields` and accessed through the magic methods.
    
    For example:
    A child class uses a property named `$data` that is not declared as a property on the child class. When getting its value, e.g. `$user_query->data`, the `WP_User_Query::__get()` magic method is invoked, the following deprecation notice thrown, and `null` returned:
    
    >The property `data` is not declared. Setting a dynamic property is deprecated since version 6.4.0! Instead, declare the property on the class.
    
    === Why not remove the magic methods, remove the `$compat_fields` property, and restore the properties `public`?
    
    tl;dr Backward compatibility.
    
    If a plugin adds a property to `$compat_fields` array, then sites using that plugin would experience (a) an `Undefined property` `Warning` (PHP 8) | `Notice` (PHP 7) and (b) a possible change in behavior.
    
    === Why not limit the deprecation for PHP versions >= 8.2?
    
    tl;dr original design intent and inform
    
    The magic methods and `$compat_fields` property were added for one purpose: to continue providing external access to internal properties declared on `WP_User_Query`. They were not intended to be used for dynamic properties.
    
    Deprecating that unintended usage both alerts developers a change is needed in their child class and informs them what to change.
    
    References:
    * Dynamic (non-explicitly declared) properties are deprecated as of PHP 8.2 and are expected to become a fatal error in PHP 9.0.
    * A [https://www.youtube.com/live/vDZWepDQQVE?feature=share&t=10097 live open public working session] where these changes were discussed and agreed to.
    * [https://wiki.php.net/rfc/deprecate_dynamic_properties PHP RFC: Deprecate dynamic properties.]
    
    Related to #14579, #27881, #30891.
    
    Follow-up to [15491], [28528], [31144].
    
    Props antonvlasenko, rajinsharwar, jrf, markjaquith, hellofromTonya, SergeyBiryukov, desrosj, peterwilsoncc, audrasjb, costdev, oglekler, jeffpaul.
    Fixes #58897.
    See #56034.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56353 602fd350-edb4-49c9-b593-d223f7449a82

commit b92491b8d22ba88c70b1b98805ba486502a0da05
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Aug 3 12:08:30 2023 +0000

    Coding Standards: Use `instanceof` keyword instead of the `is_a()` function.
    
    This is a micro-optimization that removes a few unnecessary function calls.
    
    Follow-up to [31188], [34369], [38986], [41159], [43211], [43230], [44606], [45757].
    
    Props ayeshrajans, jrf, rajinsharwar, costdev, mukesh27, SergeyBiryukov.
    Fixes #58943.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56352 602fd350-edb4-49c9-b593-d223f7449a82

commit f8b4e2c1847369a48733ee84df975ce5a0eac0bd
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Thu Aug 3 04:57:04 2023 +0000

    Build/Test Tools: revert downgrade of uuid.
    
    Reverts the accidental downgrade of uuid in [56065] by changing it back to 9.0.0.
    
    Props Hareesh Pillai, JeffPaul, audrasjb.
    Fixes #58623.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56350 602fd350-edb4-49c9-b593-d223f7449a82

commit c362c2ad999b5e61e4a4a5bbd343ed9d06166e5c
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Wed Aug 2 18:35:24 2023 +0000

    Code Modernization: Deprecate dynamic properties in WP_List_Table magic methods.
    
    The unknown use of unknown dynamic property within the `WP_List_Table` property magic methods is now deprecated. A descriptive deprecation notice is provided to alert developers to declare the property on the child class extending `WP_List_Table`.
    
    Changes in this commit:
    * Adds a deprecation notice to the `__get()`, `__set()`, `__isset()`, `__unset()` magic methods, i.e. to alert and inform developers when attempting to get/set/isset/unset a dynamic property.
    * Fixes `__get()` to explicitly returns `null` when attempting to get a dynamic property.
    * Removes returning the value when setting a declared property, as (a) unnecessary and (b) `__set()` should return `void` [https://www.php.net/manual/en/language.oop5.overloading.php#object.set per the PHP handbook].
    * Adds unit tests for happy and unhappy paths.
    
    For backward compatibility, no changes are made to the internal declared properties listed in `$compat_fields` and accessed through the magic methods.
    
    For example:
    A child class uses a property named `$data` that is not declared / defined as a property on the child class. When getting its value, e.g. `$list_table->data`, the `WP_List_Table::__get()` magic method is invoked, the following deprecation notice thrown, and `null` returned:
    
    >The property `data` is not defined. Setting a dynamic (undefined) property is deprecated since version 6.4.0! Instead, define the property on the class.
    
    === Why not remove the magic methods, remove the `$compat_fields` property, and restore the properties `public`?
    
    tl;dr Backward compatibility.
    
    Several plugins, one of which has over 5M installs, add a property to the `$compat_fields` array. Removing the property would cause an `Undefined property` `Warning` (PHP 8) | `Notice` (PHP 7) to be thrown. Removing the associated code would change the functionality.
    
    === Why not limit the deprecation for PHP versions >= 8.2?
    
    tl;dr original design intent and inform
    
    The magic methods and `$compat_fields` property were added for one purpose: to continue providing external access to internal properties declared on `WP_List_Table`. They were not intended to be used for dynamic properties.
    
    Deprecating that unintended usage both alerts developers a change is needed in their child class and informs them what to change.
    
    References:
    * Dynamic (non-explicitly declared) properties are deprecated as of PHP 8.2 and are expected to become a fatal error in PHP 9.0.
    * A [https://www.youtube.com/live/vDZWepDQQVE?feature=share&t=10097 live open public working session] where these changes were discussed and agreed to.
    * [https://wiki.php.net/rfc/deprecate_dynamic_properties PHP RFC: Deprecate dynamic properties.]
    
    Related to #14579, #22234, #30891.
    
    Follow-up to [15491], [28493], [28521], [28524], [31146].
    
    Props antonvlasenko, jrf, markjaquith, hellofromTonya, SergeyBiryukov, desrosj, peterwilsoncc, audrasjb, costdev, oglekler, jeffpaul.
    Fixes #58896.
    See #56034.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56349 602fd350-edb4-49c9-b593-d223f7449a82

commit 88570fd5b301f78d4e9280aa6b643a1937888d52
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Wed Aug 2 17:58:18 2023 +0000

    Tests: Fix leakage in WP_List_Table tests.
    
    Fixes `WP_List_table` tests leaking into other tests by:
    
    * Restores the original `$hook_suffix` global value.
    Rather than modifying the global for all tests, it now restores the original value between tests. Why? To ensure each test starts at a known state.
    
    * Uses a new instance of `WP_List_Table` for each test.
    A test may modify the `$list_table` object. If it does, it could impact tests yet to run. By instantiating a new instance in the `set_up()` test fixture, each test is isolated from the others.
    
    Follow-up to [53868], [54215].
    
    Props hellofromTonya, antonvlasenko.
    See #58955, #58896.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56348 602fd350-edb4-49c9-b593-d223f7449a82

commit 02f9f1ea95f483207071e4c52c75cc1234bff7eb
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Wed Aug 2 17:56:16 2023 +0000

    Media: Simplify logic in `wp_get_loading_optimization_attributes()`.
    
    While the `wp_get_loading_optimization_attributes()` function was only recently introduced in 6.3, its code was mostly ported over from the now deprecated `wp_get_loading_attr_default()` function introduced in 5.5.
    
    That function started out in a simple way, but over time was expanded with more and more conditionals on when to avoid lazy-loading, which ended up making the logic extremely complex and hard to follow.
    
    This changeset refactors the logic to simplify it, in a way that allows to follow it more sequentially, and without making any functional changes, ensuring that the extensive existing unit test coverage still passes. This will facilitate future enhancements to the function to be less error-prone and make it more accessible to new contributors.
    
    Props flixos90, joemcgill.
    Fixes #58891.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56347 602fd350-edb4-49c9-b593-d223f7449a82

commit 3a3bd8ea834e764de11fde21cf614fd87f66ac8c
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Aug 2 10:57:10 2023 +0000

    Site Health: Use `PHP_SAPI` constant instead of the `php_sapi_name()` function.
    
    This is a micro-optimization that removes an unnecessary function call.
    
    Follow-up to [44986], [45156].
    
    Props ayeshrajans, jrf, mukesh27, rmccue.
    Fixes #58942.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56346 602fd350-edb4-49c9-b593-d223f7449a82

commit 70bbc8dd0fc3ecb6284d6dd18bbf5dac3f01f788
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Tue Aug 1 20:29:47 2023 +0000

    Themes: Use `isset` instead of `array_key_exists` in `WP_Theme_JSON` class.
    
    With the minimum PHP version requirement raised to 7.0, we can now use `isset` on constants that are arrays. Since `isset` is slightly faster than `array_key_exists` (and the different handling of `null` values is irrelevant for the updates here), remaining instances of `array_key_exists` in the `WP_Theme_JSON` class are replaced in this changeset.
    
    Props soean.
    Fixes #57067.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56345 602fd350-edb4-49c9-b593-d223f7449a82

commit e39967d8dd0d7525c762a85d4d56bcffb044c9bc
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Aug 1 16:05:23 2023 +0000

    Upgrade/Install: Pass stored credentials to `WP_Filesystem()` where appropriate.
    
    With the introduction of temporary backups of plugins and themes before updating, a new Site Health test was added to verify that plugin and theme temporary backup directories are writable or can be created.
    
    When using a non-direct filesystem, the Site Health test did not include the required credentials, leading to a fatal error as the connection was not initialized properly.
    
    This commit attemps to use the stored credentials if available, and displays a message otherwise.
    
    Includes a similar fix in a function that performs a cleanup of the temporary backup directory.
    
    Follow-up to [55720].
    
    Props utsav72640, rajinsharwar, costdev, mukesh27, peterwilsoncc, audrasjb, SergeyBiryukov.
    See #58940.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56341 602fd350-edb4-49c9-b593-d223f7449a82

commit 54493538a8f90f2bd78b9ab497bc4f54901fc4cb
Author: Kelly Choyce-Dwan <ryelle@git.wordpress.org>
Date:   Tue Aug 1 15:02:08 2023 +0000

    Help/About: Add images to About page, match header style to images.
    
    Props richtabor, markoserb, audrasjb, peterwilsoncc, mukesh27.
    See #58067.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56339 602fd350-edb4-49c9-b593-d223f7449a82

commit eef800de27862c0dbfed87513e8af9f7985a69d2
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Aug 1 12:56:40 2023 +0000

    Help/About: Escape "Contribute" links, for better consistency.
    
    Props SergeyBiryukov, peterwilsoncc.
    See #23348.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56337 602fd350-edb4-49c9-b593-d223f7449a82

commit eb12d31edc19899a7958379bc109ebbf75b17cbf
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Aug 1 12:48:34 2023 +0000

    Help/About: Remove `target="_blank"` from the Contribute link.
    
    Props davidbaumwald.
    See #23348.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56335 602fd350-edb4-49c9-b593-d223f7449a82

commit e1355c14acb5f5f737141356df5d93c241b42fd3
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Aug 1 10:59:34 2023 +0000

    Coding Standards: Use strict comparison in `wp-includes/option.php`.
    
    Follow-up to [8784], [25109].
    
    Props aristath, poena, afercia, SergeyBiryukov.
    See #58831.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56333 602fd350-edb4-49c9-b593-d223f7449a82

commit 2e0c5a8b3ad6d1fa9c788cad3db9c2e5b34ae0df
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Tue Aug 1 07:59:33 2023 +0000

    Editor: second update of npm packages for 6.3 RC3.
    
    Includes bug fixes for footnotes, patterns, command palette, top toolbar and other small regressions.
    
    Props andrewserong, spacedmonkey.
    See #58926.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56332 602fd350-edb4-49c9-b593-d223f7449a82

commit 41bffadb833d65794c81166acdd8b31e761a8978
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Tue Aug 1 07:54:54 2023 +0000

    HTML API: Add support for SPAN element.
    
    In this patch we're introducing support for the SPAN element, which is the first
    in the class of "any other tag" in the "in body" insertion mode.
    
    This patch introduces the mechanisms required to handle that class of tags but
    only introduces SPAN to keep the change focused. With the tests and mechanisms
    in place it will be possible to follow-up and add another limited set of tags.
    
    It's important that this not use the default catch-all in the switch handling
    `step_in_body` because that would catch tags that have specific rules in previous
    case statements that aren't yet added. For example, we don't want to treat the
    `TABLE` element as "any other tag".
    
    Props dmsnell.
    Fixes #58907.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56331 602fd350-edb4-49c9-b593-d223f7449a82

commit 39e1fb0528be62806b91b484f3d886fb9ddc23bb
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Tue Aug 1 02:10:08 2023 +0000

    Editor: fix duplication in templates list.
    
    Excludes parent template when a child template is defined during template retrieval.
    
    Props oandregal, mukesh27, flixos90, bgardner.
    See #57756.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56329 602fd350-edb4-49c9-b593-d223f7449a82

commit 40dd2f982a1754c4830beff1d2d9e036cdbc9b51
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Mon Jul 31 20:21:09 2023 +0000

    Help/About: Make Contribute links translatable.
    
    Follow-up to [17877], [26354], [35898], [43032], [56220], [56312].
    
    Props sereedmedia, tobifjellner, oglekler, ryelle, fierevere, davidbaumwald, audrasjb.
    See #23348.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56327 602fd350-edb4-49c9-b593-d223f7449a82

commit 4569aa17ae348c049bbacf8af8c6497a2e673b75
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Jul 31 13:31:28 2023 +0000

    Coding Standards: Use strict comparison in `wp-includes/functions.php`.
    
    Follow-up to [5999], [6342], [7406], [8369], [10322], [11288], [11332], [11597], [12405], [13569], [14649], [15806], [19773], [26449], [26926], [39831], [40124].
    
    Props aristath, poena, afercia, SergeyBiryukov.
    See #58831.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56326 602fd350-edb4-49c9-b593-d223f7449a82

commit c676279a1415524893c3921a0510641e972e8918
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Jul 30 08:51:37 2023 +0000

    Coding Standards: Use strict comparison in `wp-includes/formatting.php`.
    
    Follow-up to [1345], [4112], [6974], [24214], [25055], [28831], [32863].
    
    Props aristath, poena, afercia, SergeyBiryukov.
    See #58831.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56325 602fd350-edb4-49c9-b593-d223f7449a82

commit 78e9478de7ee5dc67975a6694ffd1657cf1843aa
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Jul 29 00:29:29 2023 +0000

    Coding Standards: Use strict comparison in `wp-includes/feed-atom-comments.php`.
    
    Follow-up to [9818].
    
    Props aristath, poena, afercia, SergeyBiryukov.
    See #58831.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56324 602fd350-edb4-49c9-b593-d223f7449a82

commit 73be6804d23fc149bedc294fad10e2c8a06fe92a
Author: Weston Ruter <westonruter@git.wordpress.org>
Date:   Fri Jul 28 17:15:57 2023 +0000

    Script Loader: Delay loading comment-reply script with async loading strategy.
    
    Props westonruter, flixos90, joemcgill, sergiomdgomes.
    See #12009.
    Fixes #58870.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56323 602fd350-edb4-49c9-b593-d223f7449a82

commit d44c6e5fda9eefd8a01ee2e2808410208736f491
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Jul 28 11:35:17 2023 +0000

    Coding Standards: Use strict comparison in `wp-includes/class-wp-roles.php`.
    
    Follow-up to [25695], [41625].
    
    Props aristath, poena, afercia, SergeyBiryukov.
    See #58831.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56321 602fd350-edb4-49c9-b593-d223f7449a82

commit 2c56eef8a1a6204a35f0a7291af3990ac0f84b20
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Fri Jul 28 07:37:52 2023 +0000

    Editor: initial update of npm packages for 6.3 RC3.
    
    Includes bug fixes for patterns, command palette and several minor regressions.
    
    Props ramonopoly.
    See #58926.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56320 602fd350-edb4-49c9-b593-d223f7449a82

commit 8698238039fd949cdfd4063fd4f0d79055f8f726
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Jul 27 14:45:09 2023 +0000

    Coding Standards: Use correct case for class name in `WP_Http` tests.
    
    Follow-up to [8516], [54968].
    
    Props jrf.
    See #58831.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56319 602fd350-edb4-49c9-b593-d223f7449a82

commit 12a0205829c1411f16b4e216a713a153bcc62e2f
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Jul 27 10:08:40 2023 +0000

    Editor: Revert [56316].
    
    This reverts [56316] as it needs to be fixed by updating npm packages.
    
    Unprops audrasjb.
    Props swissspidy.
    See #58920.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56317 602fd350-edb4-49c9-b593-d223f7449a82

commit 2c8315c77633d4e0b12f7992c45521890143999e
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Jul 27 09:16:53 2023 +0000

    Editor: Prevent PHP warning when accessing icon by area.
    
    This changeset prevents an attempt to access an array via a key that doesn't exist.
    See https://github.com/WordPress/gutenberg/pull/52961.
    
    Props aaronrobertshaw, glendaviesnz, mukesh27.
    Fixes #58920.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56316 602fd350-edb4-49c9-b593-d223f7449a82

commit 74c3dd2053fbb1b37f03f962268095bdf65a5c9b
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Wed Jul 26 22:07:18 2023 +0000

    Bundled Themes: Bump version numbers for WordPress 6.3.
    
    In coordination with the release of 6.3, a new version of each bundled theme will also be released. This bumps the version of each theme to the following:
    
    - Twenty Ten: 3.9
    - Twenty Eleven: 4.4
    - Twenty Twelve: 4.0
    - Twenty Thirteen: 3.9
    - Twenty Fourteen: 3.7
    - Twenty Fifteen: 3.5
    - Twenty Sixteen: 3.0
    - Twenty Seventeen: 3.3
    - Twenty Nineteen: 2.6
    - Twenty Twenty: 2.3
    - Twenty Twenty-One: 1.9
    - Twenty Twenty-Two: 1.5
    - Twenty Twenty-Three: 1.2
    
    Props mukesh27, hareesh-pillai, audrasjb, jakariaistauk, kafleg, sabernhardt, spacedmonkey.
    Fixes #57857.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56315 602fd350-edb4-49c9-b593-d223f7449a82

commit d15f7760310a1af2219c927827e49db3055b940f
Author: Joe McGill <joemcgill@git.wordpress.org>
Date:   Wed Jul 26 19:21:44 2023 +0000

    Script Loader: Add support for `font-display: optional`.
    
    This adds `optional` to the list of valid `font-display` values that can be used when validating webfonts.
    
    Props merel1988, asafm7, mukesh27.
    Fixes #58454.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56314 602fd350-edb4-49c9-b593-d223f7449a82

commit a0b15f354a57a20319aeac636ffdb47d4cc04176
Author: Joe McGill <joemcgill@git.wordpress.org>
Date:   Wed Jul 26 19:11:44 2023 +0000

    Build/Test Tools: Run performance tests using production env vars.
    
    This sets the following environment variables when running automated performance tests to avoid side effects that can skew performance data when the default development environment variables are used:
    
    * `SAVEQUERIES`: `false`
    * `SCRIPT_DEBUG`: `false`
    * `WP_DEBUG`: `false`
    * `WP_DEVELOPMENT_MODE`: `''`
    
    Props rajinsharwar, desrosj, mukesh27, joemcgill.
    Fixes #58825.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56313 602fd350-edb4-49c9-b593-d223f7449a82

commit 2fc7435fc7cc8fdd424c33d31f7b8e75131272ff
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Jul 26 11:49:21 2023 +0000

    Help/About: Update “Get involved in WordPress” link on the Credits tab.
    
    This commit updates the link URL to send contributors to an orientation tool for a short survey on what team they may be interested in joining. This coincides with the Get Involved tab.
    
    Follow-up to [17877], [26354], [35898], [43032], [56220].
    
    Props courane01, audrasjb.
    See #23348.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56311 602fd350-edb4-49c9-b593-d223f7449a82

commit 96a86d559d887b4bbb385335258d67ae4a03824d
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Jul 25 21:33:00 2023 +0000

    Help/About: Fix the Get Involved tab on Network Admin.
    
    This changeset adds a `wp-admin/network/contribute.php` file to allow the Get Involved tab to work on Network Admin.
    
    Props courane01, ryelle, audrasjb.
    See #23348.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56309 602fd350-edb4-49c9-b593-d223f7449a82

commit d80d3e16a4dd0db193e809cca4a4272a82176069
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Tue Jul 25 18:17:56 2023 +0000

    Build/Test Tools: Restore automatically retrying failed E2E tests once.
    
    This restores the GitHub Actions job responsible for automatically retrying a failed workflow once within the E2E testing workflow.
    
    [56198] disabled Slack notifications for this workflow because of the increased number of timeout errors occurring after recent changes until they could be further investigated. Even though the signal-to-noise ration was way too high, there’s still benefit in retrying the workflow once to see if the timeout can be resolved without human intervention. The one retry attempt will not result in any Slack notifications.
    
    Follow up to [56198].
    See #58779.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56308 602fd350-edb4-49c9-b593-d223f7449a82

commit 9e9ae1e1df04bb04ec2ec4476328b9aacb9c18be
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Jul 25 14:31:04 2023 +0000

    Editor: Fix conditionals in Template Editing Mode.
    
    Previously, Site Editor client-side routing started using only the path query argument for loading non-editor views. The router removed the `postType` query
    argument, which caused an error message to be displayed when the template parts list page was reloaded.
    
    This changeset fixes the issue as it was affecting hybrid themes.
    
    Props Mamaduka, isabel_brison, ramonopoly.
    Fixes #58889.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56302 602fd350-edb4-49c9-b593-d223f7449a82

commit d3ea5c29c05dc5d7ca1e0d78daa3962b26a6904e
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Jul 25 13:14:26 2023 +0000

    Coding Standards: Always declare visibility for class methods.
    
    This adds a missing `public` keyword for `WP_HTML_Tag_Processor::get_attribute_names_with_prefix()`.
    
    Follow-up to [55203].
    
    Props jrf.
    See #58831.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56301 602fd350-edb4-49c9-b593-d223f7449a82

commit cea06ccebcea6fe881e7bd6bccf9d33f969d32a8
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Jul 25 12:29:26 2023 +0000

    Twenty Twenty-One: Enable Dark Mode in the block editor iframe.
    
    This changeset replaces `add_action( 'enqueue_block_editor_assets' )`, with `add_action( 'enqueue_block_assets' )`, in class `Twenty_Twenty_One_Dark_Mode` and class
    `Twenty_Twenty_One_Custom_Colors`. This fixes an issue when activating dark mode in Twenty Twenty-One, where dark mode was not enabled in the block editor.
    
    Props poena, mikinc860, huzaifaalmesbah, hasanuzzamanshamim, Ankit-K-Gupta.
    Fixes #58835.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56300 602fd350-edb4-49c9-b593-d223f7449a82

commit 1d112a6b887f19e040a61d7049a696dcb9fd968a
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Tue Jul 25 12:17:28 2023 +0000

    HTML API: Change `wp` infix in test classes to `Wp`.
    
    In order to comply with the test class naming scheme set forth in #56846, rename the test classes covering the HTML API by changing the `wp` infix to `Wp`.
    
    Props dmsnell, costdev.
    Fixes #58899. See #56846.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56299 602fd350-edb4-49c9-b593-d223f7449a82

commit d7aff966e60a1a3bd4683d6f9f0754f49cf721d3
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Tue Jul 25 08:37:26 2023 +0000

    Editor: update npm packages with bug fixes for 6.3 RC2.
    
    Includes miscellaneous bug fixes for 6.3 RC12.
    
    Props ramonopoly, audrasjb, swissspidy, peterwilsoncc, joemcgill.
    Fixes #58804.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56298 602fd350-edb4-49c9-b593-d223f7449a82

commit 1d7554d1b2095dc65377e175d7cf5a8aadc8da87
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Tue Jul 25 06:28:28 2023 +0000

    Editor: load title on navigation fallback.
    
    Adds raw title property when loading the navigation fallback with an embed context.
    
    Props ramonopoly, get_dave, scruffian, mukesh27, audrasjb.
    Fixes #58557.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56296 602fd350-edb4-49c9-b593-d223f7449a82

commit a176f190182eeb5b51d101f733525ffe79788136
Author: Kelly Choyce-Dwan <ryelle@git.wordpress.org>
Date:   Mon Jul 24 23:37:29 2023 +0000

    Help/About: Updates to About page.
    
    Update the headers, icons, and avatar style to match the designs. Fix the version strings on embedded images. Remove the tagline on main About page. Update "ctrl" to the correct capitalization, "Ctrl".
    
    Follow-up to [56263].
    Props richtabor, markoserb, audrasjb, nekojonez.
    See #58067.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56292 602fd350-edb4-49c9-b593-d223f7449a82

commit 9c76395092f314d8be2056e4ce4c4652141c346b
Author: Kelly Choyce-Dwan <ryelle@git.wordpress.org>
Date:   Mon Jul 24 23:13:31 2023 +0000

    Administration: Update dashboard welcome panel for 6.3.
    
    Update the background image and styles for the Welcome Panel. This iteration does not use different colors on the admin color schemes, so the CSS for that has been removed. This also adds back in a working "Edit styles" link, which was removed in 6.2 because the link was broken.
    
    Props richtabor, markoserb.
    Fixes #58545.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56291 602fd350-edb4-49c9-b593-d223f7449a82

commit 743f743c45dd101a44f16fd8b8b4fe96f2dd2103
Author: Kelly Choyce-Dwan <ryelle@git.wordpress.org>
Date:   Mon Jul 24 22:50:26 2023 +0000

    Help/About: Add illustrations to the Get Involved tab
    
    Follow-up to [56220], [56227], [56233], [56234], [56259].
    Props richtabor, markoserb.
    Fixes #23348.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56290 602fd350-edb4-49c9-b593-d223f7449a82

commit 53d8c7c0758a85e07571529b49285fd6953f2346
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Mon Jul 24 20:52:59 2023 +0000

    Editor: Fix abbreviations of "Example" in `block-template-utils.php`.
    
    This changeset improves the consistency of the use of "e.g." in template descriptions.
    
    Props jordesign, audrasjb, joedolson.
    Fixes #58879.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56287 602fd350-edb4-49c9-b593-d223f7449a82

commit 20806d4d7fed387f26deb134085f59e91ee66364
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Jul 24 13:03:47 2023 +0000

    Coding Standards: Remove trailing tabs in `wp-admin/about.php`.
    
    This resolves a WPCS warning:
    {{{
    Found precision alignment of 2 spaces.
    }}}
    
    Follow-up to [56263].
    
    Props jrf.
    See #58831, #58067.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56285 602fd350-edb4-49c9-b593-d223f7449a82

commit 9bb963b66263ffc20513072ffb3aa99eae567946
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Mon Jul 24 00:50:12 2023 +0000

    Editor: fix popover positioning.
    
    Pins the floating-ui package versions to avoid breaking changes when they update.
    
    Props ramonopoly, spacedmonkey, bhrugesh12, huzaifaalmesbah, audrasjb, azaozz.
    See #58847.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56284 602fd350-edb4-49c9-b593-d223f7449a82

commit 1f466b43d63a34d73185ef8e20ba872549e21d10
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Jul 23 15:58:30 2023 +0000

    Coding Standards: Correct alignment in `wp-includes/media.php`.
    
    This resolves a WPCS warning:
    {{{
    Found precision alignment of 1 space.
    }}}
    
    Follow-up to [55988].
    
    Props jrf.
    See #58831.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56283 602fd350-edb4-49c9-b593-d223f7449a82

commit f8e7a16ff5a924ce4d123c1c20fc635f12b80d5f
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Sat Jul 22 19:22:01 2023 +0000

    Media: Fix Image rotation button overflow in translations.
    
    Fix CSS to cover the image rotation button action text being longer than the Image Rotation menu toggle. Prevent the button text from overflowing the button. Follow-up to [56239].
    
    Props kebbet.
    Fixes #58877.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56282 602fd350-edb4-49c9-b593-d223f7449a82

commit c3e9e23dcffabd44099085a8ce1848b46bd5ca79
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Jul 22 12:35:15 2023 +0000

    Coding Standards: Always use parentheses for class instantiation.
    
    This addresses a `new stdClass()` instance in `_get_non_cached_ids()` tests.
    
    Follow-up to [55543].
    
    Props jrf.
    See #58831.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56281 602fd350-edb4-49c9-b593-d223f7449a82

commit 00777e610bf35b43e2d45c7a421a8527ef94d65c
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Fri Jul 21 18:04:46 2023 +0000

    General: Commit changes after running `precommit:css`.
    
    The `{min|max}-device-pixel-ratio` syntax as a a non-standard CSS media feature that was used as an alternative to the now standard `resolution`. Prior to Safari 16.0, `-webkit-{min|max}-device-pixel-ratio` was needed to correctly support it.
    
    This change is a result of the `caniuse-lite` update that was applied recently in [56065]. Though there were no changes to target browsers as a result of this update, it seems an upstream change identified these as unnecessary.
    
    See #57856, #58869.
    Props desrosj, joemcgill, isabel_brison.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56279 602fd350-edb4-49c9-b593-d223f7449a82

commit 6028b6f9f8040bd1e9697fec16169d47bdf8db96
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Fri Jul 21 14:31:06 2023 +0000

    Media: Fix height max value in image scaling.
    
    Set the `max` attribute in the height input for image scaling to reference the image height, instead of the width. Follow up to [55919].
    
    Props costdev, joedolson, joemcgill.
    Fixes #50523.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56277 602fd350-edb4-49c9-b593-d223f7449a82

commit cc2424579e4125a0b9e60b12325b3148e265f4a5
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Jul 21 13:31:17 2023 +0000

    I18N: Add missing translator comment in `WP_Upgrader::generic_strings()`.
    
    This resolves a WPCS warning:
    > A gettext call containing placeholders was found, but was not accompanied by a "translators:" comment on the line above to clarify the meaning of the placeholders.
    
    Includes moving `wp-content` out of the translatable string in a similar message in `_wp_delete_all_temp_backups()`.
    
    Follow-up to [55720], [56117].
    
    Props jrf.
    See #58831.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56276 602fd350-edb4-49c9-b593-d223f7449a82

commit f4fa4dd1bab07b3b4d90ece4f988d2adcacc4733
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Thu Jul 20 13:41:21 2023 +0000

    HTML-API: Introduce minimal HTML Processor.
    
    This patch introduces the //first// of //many// iterations on the evolution of the HTML API, the HTML Processor, which is built in order to understand HTML structure including nesting, misnesting, and complicated semantic rules.
    
    In the first iteration, the HTML Processor is arbitrarily limited to a minimal subset of functionality so that we can review it, ship it, test it, and collect feedback before moving forward. This means that this patch is more or less an extension to the Tag Processor query language, providing the ability not only to scan for a tag of a given name, but also to find an HTML element in a specific nesting path.
    
    The HTML Processor also aborts any time it encounters:
     - a tag that isn't a `P`, `DIV`, `FIGURE`, `FIGCAPTION`, `IMG`, `STRONG`, `B`, `EM`, `I`, `A`, `BIG`, `CODE`, `FONT`, `SMALL`, `STRIKE`, `TT`, or `U` tag. this limit exists because many HTML elements require specific rules and we are trying to limit the number of rules introduced at once. this work is targeted at existing work in places like the image block.
     - certain misnesting constructs that evoke complicated resolution inside the HTML spec. where possible and where simple to do reliably, certain parse errors are handled. in most cases the HTML Processor aborts.
    
    The structure of the HTML Processor is established in this patch. Further spec-compliance comes through filling out //more of the same// kind and nature of code as is found in this patch. Certain critical HTML algorithms are partially supported, and where support requires more than is present, the HTML Processor acknowledges this and refuses to operate.
    
    In this patch are explorations for how to verify that new HTML support is fully added (instead of allowing for partial updates that leave some code paths non-compliant). Performance is hard to measure since support is so limited at the current time, but it should generally follow the performance of the Tag Processor somewhat close as the overhead is minimized as much as practical.
    
    Props dmsnell, zieladam, costdev.
    Fixes #58517.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56274 602fd350-edb4-49c9-b593-d223f7449a82

commit cb42d7226f648f742ac288fe75ae8ef526d5a677
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Jul 20 00:04:33 2023 +0000

    Coding Standards: Correct equals sign alignment in various files.
    
    This resolves a few WPCS warnings:
    {{{
    Equals sign not aligned with surrounding statements
    }}}
    so that the output of `composer format` is clean.
    
    Follow-up to [55971], [56033], [56056], [56143], [56214].
    
    Props jrf.
    See #58831.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56273 602fd350-edb4-49c9-b593-d223f7449a82

commit 0c97999fc46a888cd3de123d0f19311eb4112d08
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Wed Jul 19 22:51:14 2023 +0000

    Docs: Fix indentation issue in `WP_REST_Global_Styles_Revisions_Controller` class.
    
    Follow-up to [56082].
    
    See #57840, #58524.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56272 602fd350-edb4-49c9-b593-d223f7449a82

commit 287fd501f24de1b4a0852fdbf052c06d5ad6907a
Author: Anthony Burchell <antpb@git.wordpress.org>
Date:   Wed Jul 19 22:33:47 2023 +0000

    Media: Adjust PDF upload handling to remove non-opaque alpha channels from previews.
    
    Previously, Imagick uploads of PDF files with non-opaque alpha channels would result in a black background replacing alpha in the generated thumbnail. This patch adds a `remove_pdf_alpha_channel()` function in the Imagick classes to use a white background instead.
    
    Props gitlost, joemcgill, joedolson, launchinteractive, emirpprime, mwtsn, ceer, maysi, madejackson, 6adminit, costdev, oglekler.
    Fixes #39216.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56271 602fd350-edb4-49c9-b593-d223f7449a82

commit 6281ce432c50345a57768bf53854d9b65b6cdd52
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Jul 19 11:31:15 2023 +0000

    Docs: Add a missing word in `maybe_create_table()` description.
    
    Follow-up to [31246].
    
    Props crstauf, james0r.
    Fixes #58841.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56270 602fd350-edb4-49c9-b593-d223f7449a82

commit 5c3c6258e468c67ba00bbd13db29994f1a57a52a
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Wed Jul 19 07:47:48 2023 +0000

    REST API: Update Global styles revisions private methods to protected.
    
    This changeset updates the private vars and methods in the Global styles revisions rest API controller to be protected, so class entities that inherit
    from the base can use them, and to allow iterating on 6.3 features without having to copy over private methods to new classes.
    
    Props ramonopoly.
    Fixes #58846.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56268 602fd350-edb4-49c9-b593-d223f7449a82

commit 6049e1fefa4aea95ad3e06630e87ba50bdb2b772
Author: Mike Schroder <mikeschroder@git.wordpress.org>
Date:   Wed Jul 19 05:52:06 2023 +0000

    Trunk is now 6.4 alpha.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56267 602fd350-edb4-49c9-b593-d223f7449a82

commit d6f72bad6f224a36627a5500a9c3e8ffb4eee524
Author: David Baumwald <davidbaumwald@git.wordpress.org>
Date:   Tue Jul 18 17:02:33 2023 +0000

    Post WordPress 6.3 RC1 version bump.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56265 602fd350-edb4-49c9-b593-d223f7449a82

commit a0e2ecfa24a49cf62622b853aeab4971734d9c3f
Author: David Baumwald <davidbaumwald@git.wordpress.org>
Date:   Tue Jul 18 16:44:12 2023 +0000

    WordPress 6.3 RC1.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56264 602fd350-edb4-49c9-b593-d223f7449a82

commit 53a51a046d8b68131f9a1ad200585e64632cbd70
Author: Kelly Choyce-Dwan <ryelle@git.wordpress.org>
Date:   Tue Jul 18 16:18:32 2023 +0000

    Help/About: Update the About page for 6.3.
    
    This is the start of the WordPress 6.3 about page, introducing new content and a first pass of the new style.
    
    Props jpantani, dansoschin, annezazu, priethor, marybaum, eidolonnight, clarkeemily, flixos90, cbringmann, meher, richtabor, markoserb, joen, saxonafletcher, jameskoster, davidbaumwald, peterwilsoncc, ryelle.
    See #58067.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56263 602fd350-edb4-49c9-b593-d223f7449a82

commit 75caa9c31864364e9a1bdbc195207d079ece2fc4
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Tue Jul 18 16:07:49 2023 +0000

    Editor: Add test for context setting in Comment Template block.
    
    Test that `commentId` context is correctly set and made available by the Comment Template block to the `render_block_context` filter (at priority 2 and higher), and to the `render_block` filter (important when programmatically inserting child blocks into the Comment Template block).
    
    Furthermore, test that child blocks inserted via the `render_block_data` filter are retained and thus present at `render_block` filter stage.
    
    Props andrewserong, ramonopoly, peterwilsoncc, costdev, mukesh27, flixos90.
    Fixes #58839.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56262 602fd350-edb4-49c9-b593-d223f7449a82

commit 722f73761ce60acb52690782dee4782ef5a1a755
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Jul 18 14:07:02 2023 +0000

    Administration: Add a missing closing `</span>` tag for column sorting indicators.
    
    Includes wrapping a few other long markup lines for better readability.
    
    Follow-up to [55971], [56004], [56260].
    
    See #32170, #57839.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56261 602fd350-edb4-49c9-b593-d223f7449a82

commit eb52f08d4eb32c6f41bca5a283a0fee8f4a449fd
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Jul 18 14:03:57 2023 +0000

    Coding Standards: Use strict comparison for static strings in `wp-admin/includes/class-wp-list-table.php`.
    
    Follow-up to [55971], [56004].
    
    See #32170, #57839.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56260 602fd350-edb4-49c9-b593-d223f7449a82

commit b9738220855033a55c578dc618f5f697be14e908
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Jul 18 10:45:24 2023 +0000

    Help/About: String changes in the Contribute screen.
    
    Follow-up to [56220], [56227], [56233], [56234].
    
    Props costdev.
    See #23348.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56259 602fd350-edb4-49c9-b593-d223f7449a82

commit d0b8f4927fa273643bbb54b30e3e2cb41c326201
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Tue Jul 18 10:07:05 2023 +0000

    Upgrade/Install: Add correct parameters to add_option in upgrade_630
    
    Introduced in [55854], `upgrade_630` function was introduced to update `can_compress_scripts` option to autoload. However the function `add_option` was invoked incorrectly, passing 3 parameters and not 4. The third parameter, which is deprecated, triggers a  deprecated argument warning. In this change, pass 4 parameters instead of 3.
    
    Props gudmdharalds, spacedmonkey, costdev, mukesh27.
    Fixes #58821.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56258 602fd350-edb4-49c9-b593-d223f7449a82

commit 3df7a53c98c1fdb2e0f4ee1f7232fab894ae9b63
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Jul 18 07:35:16 2023 +0000

    Docs: Various docblocks corrections.
    
    See #57840.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56257 602fd350-edb4-49c9-b593-d223f7449a82

commit 30071283f50326f7032a429e0dc503a0d3ee0ad0
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Jul 18 07:28:47 2023 +0000

    Docs: Fix various incorrect `@since` mentions.
    
    Props costdev, mukesh27.
    Fixes #58834.
    See #57840.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56256 602fd350-edb4-49c9-b593-d223f7449a82

commit 9520d9eb696de018495392f687ff94f3ec6a03a0
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Tue Jul 18 07:17:23 2023 +0000

    Editor: update npm packages with second round of bug fixes for 6.3 RC1.
    
    Includes miscellaneous bug fixes for 6.3 RC1.
    
    Props ramonopoly, mukesh27.
    Fixes #58804.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56255 602fd350-edb4-49c9-b593-d223f7449a82

commit 2b931da1100cd360b93ff6cff0a95dac61ee3f49
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Tue Jul 18 00:00:49 2023 +0000

    Editor: Fix bug where it was not possible to style custom block elements in `theme.json`.
    
    This changeset resolves a bug where WordPress would only allow HTML elements within core's own blocks to be styled in `theme.json`. Prior to this change, any `theme.json` rules applying to elements in custom blocks were ignored. With this fix it is now possible to style third-party block elements in `theme.json`.
    
    Props flixos90, azaozz, costdev, glendaviesnz, spacedmonkey, oandregal.
    Fixes #57868.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56254 602fd350-edb4-49c9-b593-d223f7449a82

commit 2e64ff87b847284a8235c190731266e620466206
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Mon Jul 17 22:24:39 2023 +0000

    Twenty Twenty-Three: Revert [55898].
    
    This changeset reverts [55898] which removed redundant `px` units in a few inline styles, because 1) The values in the block comment and the style
    attribute needs to match ; 2) The block control does not accept unitless values.
    
    Follow-up to [54312], [54629], [55898].
    
    Props TobiasBg, poena, oglekler.
    See #58485.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56253 602fd350-edb4-49c9-b593-d223f7449a82

commit 36e890071e9829b58a01fd064006077b1218a7ee
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Mon Jul 17 22:01:08 2023 +0000

    External Libraries: Update deprecated jQuery code in Farbtastic lib.
    
    This changeset updates some deprecated jQuery code in the Farbtastic external library. As this vendor script is not maintained anymore, this changeset
    also adds a docblock to specify that the library has been "adopted" by WP Core.
    
    Props Malae, sabernhardt, SergeyBiryukov, Presskopp, mrinal013, peterwilsoncc, oglekler, jorbin.
    Fixes #57946.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56252 602fd350-edb4-49c9-b593-d223f7449a82

commit d36975aee72ad701615e913f2beb172036ae3010
Author: Andrew Ozz <azaozz@git.wordpress.org>
Date:   Mon Jul 17 21:32:47 2023 +0000

    Twenty Twenty-Three: Remove the `perPage` attribute where the query inherits from the global query. The global attribute should be used instead.
    
    Props: mikachan, onemaggie.
    Fixes: #58581.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56251 602fd350-edb4-49c9-b593-d223f7449a82

commit 924df264a09ec8dbdcb7f7facd1f6c43604efd0f
Author: Andrew Ozz <azaozz@git.wordpress.org>
Date:   Mon Jul 17 20:02:11 2023 +0000

    Media: Stop using and deprecate `set_imagick_time_limit()`. Seems it causes more problems than it solves.
    
    Follow-up to #52569 and [55404].
    
    Props: dsar, antpb, audrasjb, SergeyBiryukov, hberberoglu, mtxz, densityapps, ekazda, matt_fw, soulseekah, mikeschroder, azaozz.
    
    Fixes: #58202.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56250 602fd350-edb4-49c9-b593-d223f7449a82

commit be1cb4583abc8d0870506dfeec9aad7f6cf82c7e
Author: Joe McGill <joemcgill@git.wordpress.org>
Date:   Mon Jul 17 14:48:48 2023 +0000

    General: Rename `wp_in_development_mode()` to `wp_is_development_mode()`.
    
    This changes the function name for the helper function to check whether the current environment is running with the `WP_DEVELOPMENT_MODE` constant set to be more consistent with similar functions in core, like `wp_is_maintenance_mode()` and `wp_is_recover_mode()`.
    
    Props flixos90, swissspidy, costdev, peterwilson, robinwpdeveloper, SergeyBiryukov, joemcgill.
    See 57487.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56249 602fd350-edb4-49c9-b593-d223f7449a82

commit 7df1b8366dfd0148310e7c2811c0f78c9d0227c3
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Mon Jul 17 14:20:42 2023 +0000

    Editor: Fix a PHP notice appearing when adding a new template part.
    
    This changeset fixes a PHP notice appearing when a template part is created in the site editor. It also adds a unit test case to cover
    `WP_REST_Templates_Controller::prepare_item_for_database`.
    
    Props wildworks, dunhakdis, Rahmohn, oglekler, audrasjb, mukesh27, costdev, dunhakdis.
    Fixes #57851.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56248 602fd350-edb4-49c9-b593-d223f7449a82

commit fb9814474efa38bd5704d5b2190d6dee53035e38
Author: K. Adam White <kadamwhite@git.wordpress.org>
Date:   Mon Jul 17 14:05:51 2023 +0000

    Build Tools: Remove outmoded jsvalidate task from Gruntfile.
    
    grunt-jsvalidate was added to catch situations where minification introduced parsing errors in Internet Explorer.
    IE is no longer supported by WordPress, and the grunt task itself has not been maintained for a decade.
    Removing this task simplifies the build and avoids false-positive warnings where the outdated tool flags modern JS syntax incorrectly.
    
    Props westonruter, joemcgill, jorbin, youknowriad, desrosj, swissspidy.
    Fixes #58645. See #26615.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56247 602fd350-edb4-49c9-b593-d223f7449a82

commit 967abef19eb6d3f6c39e5c7d068b017ff597391d
Author: Joe McGill <joemcgill@git.wordpress.org>
Date:   Mon Jul 17 14:04:00 2023 +0000

    Script Loader: Improve test coverage for `wp_print_scripts()`.
    
    This is a follow-up to [56092], which further improves PHPUnit test coverage and inline docs for ensuring `async` and `defer` attributes are being properly handled for scripts that are printed without being enqueued.
    
    Props peterwilsoncc, azaozz, westonruter, joemcgill.
    See #58648.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56246 602fd350-edb4-49c9-b593-d223f7449a82

commit 8b5cfe088736807d113dbd76e20085d0ae7853a6
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Jul 17 13:16:14 2023 +0000

    Code Modernization: Use `str_contains()` in a few more places.
    
    `str_contains()` was introduced in PHP 8.0 to perform a case-sensitive check indicating if the string to search in (haystack) contains the given substring (needle).
    
    WordPress core includes a polyfill for `str_contains()` on PHP < 8.0 as of WordPress 5.9.
    
    This commit replaces `false !== strpos( ... )` with `str_contains()` in core files, making the code more readable and consistent, as well as better aligned with modern development practices.
    
    Follow-up to [55988], [55990], [56014], [56021], [56031], [56032], [56065], [56241].
    
    See #58206.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56245 602fd350-edb4-49c9-b593-d223f7449a82

commit 2beefda2c0448d6dab80d7e7b723058642e57b08
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Mon Jul 17 01:45:24 2023 +0000

    Editor: trim footnote anchors from post excerpts.
    
    Adds the `excerpt_remove_footnotes` function to trim footnote anchors from post excerpts.
    
    Props: ramonopoly, costdev, mukesh27, mcsf, azaozz.
    Fixes #58805.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56244 602fd350-edb4-49c9-b593-d223f7449a82

commit b4b0c03adcac79a8c7a78b10f72afaadee51f221
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Sun Jul 16 16:43:07 2023 +0000

    Help/About: Fix closing contextual help when scrolled.
    
    Change from `scrollIntoView` to `scrollIntoViewIfNeeded` so scrolling will only fire when it is required. `scrollIntoViewIfNeeded` is a proprietary method that is not standardized and not currently on a track towards standards. However, testing has it working well, including in Firefox, which supposedly does not support it.
    
    Props mikecho, studionashvegas, mai21, piotrek, Heiko_Mamerow, costdev, joedolson.
    Fixes #55342.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56243 602fd350-edb4-49c9-b593-d223f7449a82

commit 9562f40776a51865727558c79d9b853c6c1b2c65
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Sun Jul 16 15:57:14 2023 +0000

    Media: Fix admin image editor layout at intermediary widths.
    
    Follow up to [56189], which resolved the initial problem but created new problems with control proximity on wide monitors. Change admin image editor panels to use flex so panels only occupy the space needed.
    
    Props joedolson, sabernhardt, mikinc860.
    Fixes #58692.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56242 602fd350-edb4-49c9-b593-d223f7449a82

commit 3349f1a527761eed3aa2d48050d80a9b62fc6860
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Jul 16 12:14:47 2023 +0000

    Bootstrap/Load: Require `wp-includes/compat.php` in `src/index.php`.
    
    This allows for using polyfill functions if `src/index.php` is the entry point (this file exists as a reminder to build the assets, and is different from the actual `index.php` file that gets built and boots WordPress).
    
    Includes:
    * Moving the check for the required PHP and MySQL versions earlier.
    * Making the load order consistent between `src/index.php`, `wp-load.php`, and `wp-settings.php`.
    
    Follow-up to [46183], [56006], [56007].
    
    Props westonruter, Presskopp, joemcgill, SergeyBiryukov.
    See #58206.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56241 602fd350-edb4-49c9-b593-d223f7449a82

commit ccce81f0fbb3bf3d63ab45d259a1b41b9c96e151
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Sat Jul 15 21:50:26 2023 +0000

    Revert package-lock.json changes committed by mistake in [56239]
    
    Props joedolson.
    See #58756.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56240 602fd350-edb4-49c9-b593-d223f7449a82

commit 83d8a63adf79034838cb672c7fec4cb8df8088a1
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Sat Jul 15 21:40:19 2023 +0000

    Media: Improve layout of image rotation options panel.
    
    Add visual affordance to expanded/collapsed states and move panel under the control rather than placing it next to the toggle, to prevent overflow with the save menu.
    
    Props nithi22, deepakvijayan, antpb, joedolson.
    Fixes #58756.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56239 602fd350-edb4-49c9-b593-d223f7449a82

commit 0ef8fa7885f535b9134a9ced29b27ba6e5cb67fa
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Jul 15 09:02:37 2023 +0000

    Coding Standards: Use strict comparison in `wp-includes/load.php`.
    
    Includes minor code layout fixes for better readability.
    
    Follow-up to [6058], [6208], [10217], [12732], [37677].
    
    Props aristath, poena, afercia, SergeyBiryukov.
    See #57839.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56238 602fd350-edb4-49c9-b593-d223f7449a82

commit 9f80bbceebedcb23da1c826e99dd2292a79567e6
Author: Andrew Ozz <azaozz@git.wordpress.org>
Date:   Fri Jul 14 22:09:51 2023 +0000

    Help/About: Fix typo in [56171]: support forum "topic", not "ticket".
    
    Props: tobifjellner.
    Fixes: #58199.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56237 602fd350-edb4-49c9-b593-d223f7449a82

commit 118c36999a6f6688c1992a71a8cee5027585c209
Author: Andrew Ozz <azaozz@git.wordpress.org>
Date:   Fri Jul 14 21:45:05 2023 +0000

    Menus: Fix critical errors when the `page_on_front` and/or `page_for_posts` options contain references to non-existing posts.
    
    props: hbhalodia, wplindavantol, josklever, audrasjb.
    Fixes: #58345.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56236 602fd350-edb4-49c9-b593-d223f7449a82

commit e77bf1ec99be67f7a0bb6ce7c5627dc8bd6e7c84
Author: Andrew Ozz <azaozz@git.wordpress.org>
Date:   Fri Jul 14 20:57:53 2023 +0000

    Editir: Fix open_basedir warnings on the classic Edit Post screen when additional TinyMCE plugins are used.
    
    Props: rembem, MadtownLems, njsamsatli, sabernhardt, azaozz.
    Fixes: #54354.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56235 602fd350-edb4-49c9-b593-d223f7449a82

commit 3dff98beb4384f0ffb13961c71178dedccf480a0
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Jul 14 15:40:42 2023 +0000

    Help/About: Adjust horizontal padding on the tabs under 960 pixels width.
    
    This ensures that the About / Credits / Freedoms / Privacy / Get Involved tabs menu does not expand beyond the container when the side admin menu is expanded.
    
    Follow-up to [56220], [56227], [56233].
    
    Props costdev, mukesh27.
    See #23348.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56234 602fd350-edb4-49c9-b593-d223f7449a82

commit 21374c2e60b2fe84638a00a83aaa74709590f7ad
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Jul 14 15:32:34 2023 +0000

    Help/About: Update “Get Involved” tab content with the latest edits.
    
    Follow-up to [56220], [56227].
    
    Props oglekler, richtabor, SeReedMedia, eidolonnight, davidbaumwald, ibrahimmonir, ugyensupport, alexstine, suzettefranck.
    See #23348.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56233 602fd350-edb4-49c9-b593-d223f7449a82

commit 93bf3a1ece65304643c91021065f598da0189eeb
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Jul 14 14:13:52 2023 +0000

    Docs: Use consistent wording for development mode.
    
    Follow-up to [56042], [56223], [56231].
    
    See #57487, #57840.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56232 602fd350-edb4-49c9-b593-d223f7449a82

commit 2548797fc6892553d981c60807cad16ef7bb31b1
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Jul 14 14:08:04 2023 +0000

    Docs: Clarify where the `wp_get_development_mode()` value is retrieved from.
    
    Includes:
    * Adding a mention of the `WP_DEVELOPMENT_MODE` constant.
    * Minor DocBlock formatting adjustments.
    
    Follow-up to [56042], [56223].
    
    See #57487, #57840.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56231 602fd350-edb4-49c9-b593-d223f7449a82

commit ec42a73cefb945fa858722b9d8447d2de69e5476
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Fri Jul 14 05:16:21 2023 +0000

    Editor: fix typos in templates info.
    
    Fixes two small typos in `wp-includes/block-template-utils.php`.
    
    Props SergeyBiryukov.
    Fixes #58713.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56230 602fd350-edb4-49c9-b593-d223f7449a82

commit cfd3a6d100653e9187f8c621556e9f24d711544e
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Fri Jul 14 04:30:55 2023 +0000

    Editor: update npm packages with first round of bug fixes for 6.3 RC1.
    
    Includes miscellaneous bug fixes for 6.3 RC1.
    
    Props ramonopoly.
    See #58804.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56229 602fd350-edb4-49c9-b593-d223f7449a82

commit f4d2a1593f7e542d4f5f8bab212edc9cb3d1541b
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Thu Jul 13 16:40:21 2023 +0000

    Media: Set default state for image rotation button.
    
    Adds `aria-expanded="false"` as default state for image rotation toggle in admin image editor. See #50523.
    
    Props joedolson.
    Fixes #58800.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56228 602fd350-edb4-49c9-b593-d223f7449a82

commit de6f51823a9677d3e15ad4671723c01fd541caaf
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Jul 13 12:39:42 2023 +0000

    Tests: Add tests to ensure the `contribute` Toolbar node is added when appropriate.
    
    Follow-up to [56220].
    
    Props costdev.
    See #23348.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56227 602fd350-edb4-49c9-b593-d223f7449a82

commit fc538206ecd6a6b2f07a07701475d2cd3867d9aa
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Thu Jul 13 11:32:19 2023 +0000

    Editor: Lazily load Duotone settings only when needed.
    
    Introduced in [56101] the `WP_Duotone` class, hooks into the `wp_loaded` action to load duotone style data from global styles. Hooking in early in the bootstrap process caused a number of problems. This hook, triggered an error on installing, as this lookup for global styles, would result in a global post trying to be created, even before the table existed. Additionally, this implementation caused a severe performance regression, as duotone styling data was loaded unnecessarily for requests that did not require such data, such as REST API calls or actions within the wp-admin interface.
    
    In this change, refactor the `WP_Duotone` to lazily load the global styles and theme.json data, only when a block that supports duotone is encountered. The method `render_duotone_support` was change to take a third parameter to reuse the existing `WP_Block_Type` object passed to the filter, to save it being looked up again. The code has also got improved type checking and the use of the util function  `block_has_support`. Furthermore, the code's readability has been improved, along with enhancements to the documentation blocks.
    
    Props Chouby, spacedmonkey, SergeyBiryukov, swissspidy, costdev, joemcgill, flixos90, mukesh27, nazmul111, ajlende, isabel_brison.
    Fixes #58673.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56226 602fd350-edb4-49c9-b593-d223f7449a82

commit 23a15169264df4d4b87e079c99d369d038851ac2
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Thu Jul 13 04:14:27 2023 +0000

    Editor: fix duotone filters in classic themes.
    
    Makes sure duotone block styles are output in the front end on classic themes.
    
    Props ajlende, jeryj, spacedmonkey, vivekawsm, sabernhardt, costdev, mrinal013.
    Fixes #58734.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56225 602fd350-edb4-49c9-b593-d223f7449a82

commit b892f5177e84461f08a5967cc526eecd99f425cc
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Thu Jul 13 00:56:19 2023 +0000

    General: Update Opera browser sniff follow UA string changes.
    
    Since switching to the Blink engine, Opera browsers contain both the strings `Chrome` and `OPR\`. This change relocates the Opera test to take place before the Chrome test to ensure the correct browser is detected.
    
    Props brasofilo, desrosj, costdev, mukesh27, swissspidy.
    Fixes #46132.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56224 602fd350-edb4-49c9-b593-d223f7449a82

commit 65a048fc159831095491a211c4e311b5593cc5e9
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Thu Jul 13 00:27:06 2023 +0000

    General: Introduce `all` development mode.
    
    Introduce the development mode `all` as a a cover-all mode for the existing `theme`, `plugin` and `core` development modes. Developers can use the `all` mode if they are developing both themes and plugins, for example.
    
    Introduce the utility function `wp_in_development_mode()` allowing developers to detect the mode via a parameter. If the development mode is set to `all` this function will always return `true`. If the development mode is specific then only the chosen mode will return `true`.
    
    Follow up to [56079,56042].
    
    Props flixos90.
    Fixes #57487.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56223 602fd350-edb4-49c9-b593-d223f7449a82

commit cdf3ac093de45c2c2d67fe0635f3d8a513a97895
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Jul 12 20:59:37 2023 +0000

    Coding Standards: Use single quotes for a string in `Tests_Comment`.
    
    This resolves a WPCS error:
    {{{
    Error: String "1" does not require double quotes; use single quotes instead.
    }}}
    
    Includes updating a few related comments for clarity.
    
    Follow-up to [56221].
    
    See #57855.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56222 602fd350-edb4-49c9-b593-d223f7449a82

commit 434dd6be91c7cc4e00520eb72026e12c7c109935
Author: Aaron Jorbin <jorbin@git.wordpress.org>
Date:   Wed Jul 12 20:04:02 2023 +0000

    Tests: Use assertSame() in Tests_Comment
    
    See #57855.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56221 602fd350-edb4-49c9-b593-d223f7449a82

commit aa5f91a182d5844049e406ccc9f7525288d3b0d1
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Jul 12 12:52:26 2023 +0000

    Help/About: Add a “Get Involved” tab to the About page.
    
    This aims to make all the various ways of contributing to open-source WordPress project more discoverable, as well as make it easier to find an area that aligns with new contributor’s skills and interests.
    
    Props oglekler, jpantani, SeReedMedia, ryelle, marybaum, karmatosed, eidolonnight, mt_suzette, Shelob9, desrosj, cathibosco1, jenmylo, nacin, helen, joostdevalk, hugobaeta, TacoVerdo, swissspidy, markoheijnen, lukecavanagh, boemedia, bridgetwillard, jeffmora, davidmusnik, mehdi01, johnbillion, fierevere, tobifjellner, richtabor, meher, courane01, webcommsat, audrasjb, mukesh27, davidbaumwald, costdev, joedolson, robinwpdeveloper, estelaris, mohiuddinomran, SergeyBiryukov.
    See #23348.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56220 602fd350-edb4-49c9-b593-d223f7449a82

commit a8d12183f23694718756c9e84338e12342b2fcb9
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Jul 12 09:44:30 2023 +0000

    Coding Standards: Use strict comparison in `wp-includes/class-wp-network.php`.
    
    Follow-up to [41380], [41861], [45910].
    
    Props aristath, poena, afercia, SergeyBiryukov.
    See #57839.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56219 602fd350-edb4-49c9-b593-d223f7449a82

commit 44173677fae3f125402c4161d78d05ee6ef1a81f
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Wed Jul 12 05:19:39 2023 +0000

    General: Escape nonce used for block theme activation.
    
    Add `wp_json_encode()` as an escaping function when setting the `WP_BLOCK_THEME_ACTIVATE_NONCE` global on the block theme preview screen.
    
    This account for custom nonce implementations making use of special characters that require escaping in JavaScript strings.
    
    Props antonvlasenko, ramonopoly.
    Fixes #58712.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56218 602fd350-edb4-49c9-b593-d223f7449a82

commit ee7434fefae218705d7b44071a9b014f21e85073
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Wed Jul 12 04:25:53 2023 +0000

    Editor: fix since annotation in rest blocks controller class.
    
    Changes `6.3` to `6.3.0` in the since annotation for the `filter_response_by_context` function.
    
    Props swissspidy, peterwilsoncc, mukesh27.
    Fixes #58677.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56217 602fd350-edb4-49c9-b593-d223f7449a82

commit effea6699a49e6c169da67200f7a1ac1d720c810
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Jul 11 16:36:02 2023 +0000

    Post WordPress 6.3 Beta 4 version bump.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56216 602fd350-edb4-49c9-b593-d223f7449a82

commit ba1ac233ff3b6f471f561f48d94fbf0f219d45db
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Jul 11 16:11:25 2023 +0000

    WordPress 6.3 Beta 4.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56215 602fd350-edb4-49c9-b593-d223f7449a82

commit ed174730d3c2bca27290ece3b88a8f97fa976be9
Author: Joe McGill <joemcgill@git.wordpress.org>
Date:   Tue Jul 11 13:56:55 2023 +0000

    Media: Optimize images created in shortcodes.
    
    This fixes an issue where images dynamically created during shortcode rendering (e.g., shortcode image galleries), were not getting image optimizations like `loading="lazy"` or `fetchpriority="hight"` applied. Note that even after this commit, shortcodes are processed after the main content images, which can affect the order in which optimizations are applied in content areas.
    
    Follow-up to [56037].
    
    Props spacedmonkey, flixos90, thekt12, swissspidy, joemcgill.
    Fixes #58681.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56214 602fd350-edb4-49c9-b593-d223f7449a82

commit baec3f39c15b1e0c79d364621408d0cbc0b5e56a
Author: Joe McGill <joemcgill@git.wordpress.org>
Date:   Tue Jul 11 13:54:42 2023 +0000

    Revert package-lock.json changes committed by mistake in [56212].
    
    Props spacedmonkey, swissspidy.
    See #58775.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56213 602fd350-edb4-49c9-b593-d223f7449a82

commit cb54fdb1422e782443da57c55dc8d03d2e54755a
Author: Joe McGill <joemcgill@git.wordpress.org>
Date:   Tue Jul 11 13:31:03 2023 +0000

    Build/Test Tools: Reset main query object after each test.
    
    This resets the main query variable, `$wp_the_query` during the `WP_UnitTestCase_Base::tear_down` method that runs after each PHPUnit test. This ensures any changes to the main query object is reset after each test to avoid cross contamination between tests, similar to how other globals are reset.
    
    Props flixos90, spacedmonkey, joemcgill.
    Fixes #58776.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56212 602fd350-edb4-49c9-b593-d223f7449a82

commit 8c1b5794e4bbdd6c453e5b84c6c5a3258061d37f
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Jul 11 12:57:19 2023 +0000

    I18n: Improve the use of `dashicons-external` icon for external links.
    
    This changeset modifies how the `dashicons-external` icon is used in external links by editing its styles and adding a space between the text and the icon
    for better accessibility.
    
    Props SergeyBiryukov, afercia, isabel_brison, mukesh27, sabernhardt, oglekler, audrasjb.
    Fixes #47303.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56211 602fd350-edb4-49c9-b593-d223f7449a82

commit 252a2c1f182653e3f3944eda0bbdbf49c0d72470
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Jul 11 11:32:15 2023 +0000

    Coding Standards: Use strict comparison in `wp-includes/class-wp-rewrite.php`.
    
    Follow-up to [3638], [13689], [19743].
    
    Props aristath, poena, afercia, SergeyBiryukov.
    See #57839.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56210 602fd350-edb4-49c9-b593-d223f7449a82

commit 154d3403951175a10b7dc7b0dcfc66b3ca8736d4
Author: Mike Schroder <mikeschroder@git.wordpress.org>
Date:   Tue Jul 11 11:31:48 2023 +0000

    Toolbar: Make the 'Edit site' link open the editor with the current template.
    
    Adds a global, `$_wp_current_template_id`, to allow the 'Edit site' link in the admin bar to be aware of the current template and pass it to the Site Editor, so it can load the appropriate one directly.
    
    See https://github.com/WordPress/gutenberg/issues/37850 for further discussion.
    
    Props Mamaduka, poena, abitofmind, audrasjb, mikinc860, alexstine, annezazu, beckej, jameskoster, bacoords, clubkert, paaljoachim, get_dave, priethor, skorasaurus.
    Fixes #58746.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56209 602fd350-edb4-49c9-b593-d223f7449a82

commit 31fdf8f20b5b6a3fbcedf3359962656ceb425cb2
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Jul 11 11:13:30 2023 +0000

    Coding Standards: Use strict comparison in `wp-includes/rewrite.php`.
    
    Follow-up to [6614], [13689], [19743].
    
    Props aristath, poena, afercia, SergeyBiryukov.
    See #57839.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56208 602fd350-edb4-49c9-b593-d223f7449a82

commit 4e864a1deda27ea70c47e4cfd61dc36204c7e5c8
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Tue Jul 11 07:22:17 2023 +0000

    Bundled Theme: fix height of featured images in Twenty Twenty Three.
    
    Fixes max height of the featured images in the Archive, Home, Index, and Search templates to prevent expanding iframe bug.
    
    Props mikachan, ramonopoly.
    Fixes #58766.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56207 602fd350-edb4-49c9-b593-d223f7449a82

commit c21b63c0d01a6c3de7e02c433f6006614cb14869
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Tue Jul 11 07:15:21 2023 +0000

    Editor: remove one preloaded navigation endpoint.
    
    Removes one of the preloaded navigation endpoints from the site editor as it is not in use anymore.
    
    Props scruffian.
    Fixes #58749.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56206 602fd350-edb4-49c9-b593-d223f7449a82

commit efb0610df460994bc92b371698c7ba6ae8281793
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Tue Jul 11 06:56:31 2023 +0000

    Editor: update npm packages with bug fixes and blessed tasks.
    
    Includes miscellaneous bug fixes and enhancements to the Library task (#58579).
    
    Props andrewserong, ramonopoly.
    Fixes #58745.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56205 602fd350-edb4-49c9-b593-d223f7449a82

commit 9b08513ce964af15249952fac59f130518e2753c
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Jul 11 06:29:11 2023 +0000

    Docs: Fix incorrect type for `$crop` param is various `WP_Image_Editor` classes and methods.
    
    This changeset updates the `$crop` docblock type in various `WP_Image_Editor`, `WP_Image_Editor_GD` and `WP_Image_Editor_Imagick` functions, to match the
    type documented in `image_resize_dimensions()`.
    
    Props thunderdw.
    Fixes #58271.
    See #57840.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56204 602fd350-edb4-49c9-b593-d223f7449a82

commit 488e431aaa1da96ae9b2172942865e891d501469
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Jul 11 05:53:19 2023 +0000

    I18n: Move translator comments inside `sprintf` for tagline field description.
    
    Props costdev.
    Fixes #57675.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56203 602fd350-edb4-49c9-b593-d223f7449a82

commit a02886a868e4bdeb586658926607bdffdd65a7f2
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Tue Jul 11 05:39:33 2023 +0000

    Editor: opt out of Navigation fallback.
    
    Allows developers to opt out of the auto-creation of the Navigation fallback through a filter.
    
    Props get_dave, spacedmonkey, ramonopoly.
    Fixes #58750.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56202 602fd350-edb4-49c9-b593-d223f7449a82

commit eea94adc544f1077d65fc6639261d85dd27d4dfe
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Tue Jul 11 05:17:56 2023 +0000

    General: fix botched file move in r56199.
    
    Moves `src/wp-admin/includes/theme-previews.php` to `src/wp-includes/theme-previews.php`.
    
    Props peterwilsoncc.
    See #58712.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56201 602fd350-edb4-49c9-b593-d223f7449a82

commit 444bdf49bc38883f603a584bcc119aedf98257b8
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Tue Jul 11 05:08:50 2023 +0000

    Editor: update string incorrectly marked for translation in Chrome.
    
    Update the Pattern post type `edit_item` label to be `Edit Block Pattern` instead of `Edit Pattern` so Chrome doesn’t open the translation modal.
    
    Props andrewserong,, ramonopoly, eric.7186, audrasjb, wildworks, Toro_Unit.
    Fixes #58716.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56200 602fd350-edb4-49c9-b593-d223f7449a82

commit 78135240236a366df708db7a21290db08ab21644
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Tue Jul 11 05:01:05 2023 +0000

    General: add nonce for block theme preview activation.
    
    Adds a nonce so that activation works for block theme previews. Temporary fix until there is a REST API endpoint for activating themes.
    
    Props scruffian, peterwilsoncc, nithins53, nithi22, jomonthomaslobo1, poena, syamraj24, vivekawsm, mrinal013.
    Fixes #58712.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56199 602fd350-edb4-49c9-b593-d223f7449a82

commit 0c5e0dfd7c0be04d4aac2c1dd236438b97a06d19
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Tue Jul 11 04:08:03 2023 +0000

    Build/Test Tools: Suppress E2E test suite Slack notifications.
    
    Remove Slack notifications of E2E test suite failures while the tests are flakey to improve the signal-to-noise ratio.
    
    Fixes #58779.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56198 602fd350-edb4-49c9-b593-d223f7449a82

commit 5e14c430a32f51503383b3a24adb5f15a9706061
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Tue Jul 11 03:39:39 2023 +0000

    Build/Test Tools: Prevent 404 errors in the E2E tests.
    
    Modifies the cache control headers tests to prevent 404 errors for each of the tests.
    
    Props costdev.
    Fixes #58777.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56197 602fd350-edb4-49c9-b593-d223f7449a82

commit d7ddda1bbf2a6e5aa7b220a097063fe8a4bb4183
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Mon Jul 10 23:19:12 2023 +0000

    Docs: Replace multiple single line comments with multi-line comments.
    
    This changeset updates various comments as per WordPress PHP Inline Documentation Standards.
    See https://developer.wordpress.org/coding-standards/inline-documentation-standards/php/#5-inline-comments.
    
    Follow-up to [56174], [56175], [56176], [56177], [56178], [56179], [56180], [56191], [56192], [56193], [56194], [56195].
    
    Props costdev, audrasjb.
    See #58459.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56196 602fd350-edb4-49c9-b593-d223f7449a82

commit f80f37b3206d64711df6d32d5890fc78e23a484c
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Mon Jul 10 23:17:05 2023 +0000

    Docs: Replace multiple single line comments with multi-line comments.
    
    This changeset updates various comments as per WordPress PHP Inline Documentation Standards.
    See https://developer.wordpress.org/coding-standards/inline-documentation-standards/php/#5-inline-comments.
    
    Follow-up to [56174], [56175], [56176], [56177], [56178], [56179], [56180], [56191], [56192], [56193], [56194].
    
    Props costdev, audrasjb.
    See #58459.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56195 602fd350-edb4-49c9-b593-d223f7449a82

commit 74d34d087952e6785a9eb1fc2ee76d24177cf22a
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Mon Jul 10 23:09:16 2023 +0000

    Docs: Replace multiple single line comments with multi-line comments.
    
    This changeset updates various comments as per WordPress PHP Inline Documentation Standards.
    See https://developer.wordpress.org/coding-standards/inline-documentation-standards/php/#5-inline-comments.
    
    Follow-up to [56174], [56175], [56176], [56177], [56178], [56179], [56180], [56191], [56192], [56193].
    
    Props costdev, audrasjb.
    See #58459.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56194 602fd350-edb4-49c9-b593-d223f7449a82

commit add61a8d7c5c5280155dbfcb1a7e058005e80b7d
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Mon Jul 10 22:58:33 2023 +0000

    Docs: Replace multiple single line comments with multi-line comments.
    
    This changeset updates various comments as per WordPress PHP Inline Documentation Standards.
    See https://developer.wordpress.org/coding-standards/inline-documentation-standards/php/#5-inline-comments.
    
    Follow-up to [56174], [56175], [56176], [56177], [56178], [56179], [56180], [56191], [56192].
    
    Props costdev, audrasjb.
    See #58459.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56193 602fd350-edb4-49c9-b593-d223f7449a82

commit 2a66e49e96333f997b8da101f4f91d558f6b2e64
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Mon Jul 10 22:46:22 2023 +0000

    Docs: Replace multiple single line comments with multi-line comments.
    
    This changeset updates various comments as per WordPress PHP Inline Documentation Standards.
    See https://developer.wordpress.org/coding-standards/inline-documentation-standards/php/#5-inline-comments.
    
    Follow-up to [56174], [56175], [56176], [56177], [56178], [56179], [56180], [56191].
    
    Props costdev, audrasjb.
    See #58459.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56192 602fd350-edb4-49c9-b593-d223f7449a82

commit 3666c0e31b33eb17bfe69b0ccf74be95b1efaaf9
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Mon Jul 10 22:36:06 2023 +0000

    Docs: Replace multiple single line comments with multi-line comments.
    
    This changeset updates various comments as per WordPress PHP Inline Documentation Standards.
    See https://developer.wordpress.org/coding-standards/inline-documentation-standards/php/#5-inline-comments.
    
    Follow-up to [56174], [56175], [56176], [56177], [56178], [56179], [56180].
    
    Props costdev, audrasjb.
    See #58459.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56191 602fd350-edb4-49c9-b593-d223f7449a82

commit a5352c3680c4428d8dda5fde016ab02ab4c45e18
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Mon Jul 10 22:18:27 2023 +0000

    Twenty Twenty-Three: Add a border to Quote block.
    
    This changeset adds a border to the Quote block on front-end, in order to be consistent with the Editor styles.
    
    Props nidhidhandhukiya, poena, akrocks, sabernhardt, nithins53, zoonini.
    Fixes #57506.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56190 602fd350-edb4-49c9-b593-d223f7449a82

commit bdc7d569555e0c78999014d491590e692de33e63
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Mon Jul 10 22:09:21 2023 +0000

    Media: Fix responsive views in image editor
    
    Adjust breakpoints for mid-range responsive views to prevent the save panel from overflowing other sections.
    
    Props wildworks, mikinc860, mukesh27, sabernhardt, dhrumilk.
    Fixes #58692.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56189 602fd350-edb4-49c9-b593-d223f7449a82

commit 57ab21fb510fc2775f51f6ccf62859ca8d15f117
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Mon Jul 10 22:02:31 2023 +0000

    Twenty Seventeen: Use `wp_register_script()` to register HTML5 Shiv script.
    
    This replaces `wp_register_style()` with `wp_register_script()`.
    
    Props sabernhardt.
    Fixes #56699.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56188 602fd350-edb4-49c9-b593-d223f7449a82

commit b1775f327dd918181afddde8db6248671363f0fa
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Mon Jul 10 21:20:15 2023 +0000

    Editor: Fix layout of no-js state in site editor.
    
    Remove padding and adjust classes to match current state of editor.
    
    Props afercia, andraganescu, poena.
    Fixes #56228.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56187 602fd350-edb4-49c9-b593-d223f7449a82

commit 8b8afa12993e4a467bd481d853b0a6045c68f769
Author: Andrew Ozz <azaozz@git.wordpress.org>
Date:   Mon Jul 10 20:31:35 2023 +0000

    Filesystem API: Ensure `wp_tempnam()` does not produce file names longer than 255 characters as this is the limit on most filesystems.
    
    Props: costdev, doems, mikeschroder, oglekler, mrinal013.
    Fixes: #35755.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56186 602fd350-edb4-49c9-b593-d223f7449a82

commit a92f7bf8cb52b4d00554b5888d39b6a6440f7824
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Mon Jul 10 19:15:36 2023 +0000

    Themes: Improved caching in `wp_theme_has_theme_json()`.
    
    Improve logic in `wp_theme_has_theme_json()` to improve caching soo it takes into account that a theme can be switched. Before this function would overly cache if the current theme has a theme.json file. Now it use the value of `get_stylesheet()` as a key to an array. This way, if the value of stylesheet is changed, by either a filter or in a unit test, a new check to see if the file exists is run. For this reason, the workaround to check if unit tests are running by checking if  `WP_RUN_CORE_TESTS` constant exists can be removed.
    
    Props westonruter, spacedmonkey, flixos90.
    Fixes #58758.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56185 602fd350-edb4-49c9-b593-d223f7449a82

commit f933aa3616aa8d49bdd67886e4af287579093c25
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Jul 10 12:51:51 2023 +0000

    Coding Standards: Use strict comparison in `wp-includes/class-wp-user.php`.
    
    Follow-up to [15919], [21866], [41624].
    
    Props aristath, poena, afercia, SergeyBiryukov.
    See #57839.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56184 602fd350-edb4-49c9-b593-d223f7449a82

commit 03ff5a4f225927447b25591b4f18aa68f30b35ed
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Mon Jul 10 06:34:37 2023 +0000

    Editor: Ensure blocks registered within parent theme are available when child theme is activated.
    
    This changeset fixes both `register_block_script_handle()` and `register_block_style_handle()` functions, allowing for child themes to access and utilise
    blocks defined in parent themes.
    
    Previously these functions could not handle blocks registered in Parent themes. This changeset fixes the issue by determining whether the given asset path
    belongs to either of the template or stylesheet directories (Parent and Child themes respectively) as opposed to just checking using
    `get_theme_file_path('')`.
    
    Props jacknotman, Levdbas, audrasjb, guillaumeturpin, leprincenoir, whaze, isabel_brison.
    Fixes #57566.
    
     --Cette ligne, et les suivantes ci-dessous, seront ignorées--
    
    M    trunk/src/wp-includes/blocks.php
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56183 602fd350-edb4-49c9-b593-d223f7449a82

commit 65381c986b602a5712f089ca96467983a5d0b68d
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Sun Jul 9 22:24:16 2023 +0000

    Editor: Typo correction in Author block template description.
    
    Follow-up to [56145].
    
    Props kebbet.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56182 602fd350-edb4-49c9-b593-d223f7449a82

commit c23d9a72b78f4eb4b4ab2fd9f79c693c60c0593a
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Sun Jul 9 22:15:41 2023 +0000

    General: Fix an error introduced in [56179].
    
    Follow-up to [56179].
    
    Unprops audrasjb.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56181 602fd350-edb4-49c9-b593-d223f7449a82

commit a39e9774c38dc86edaa5de2e1e6d8cb81597fe1e
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Sun Jul 9 21:46:24 2023 +0000

    Docs: Replace multiple single line comments with multi-line comments.
    
    This changeset updates various comments as per WordPress PHP Inline Documentation Standards.
    See https://developer.wordpress.org/coding-standards/inline-documentation-standards/php/#5-inline-comments.
    
    Follow-up to [56174], [56175], [56176], [56177], [56178], [56179].
    
    Props costdev, audrasjb.
    See #58459.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56180 602fd350-edb4-49c9-b593-d223f7449a82

commit 16041a39136e58b3dfc100bd0aa6c1fd7be8a32b
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Sun Jul 9 21:38:35 2023 +0000

    Docs: Replace multiple single line comments with multi-line comments.
    
    This changeset updates various comments as per WordPress PHP Inline Documentation Standards.
    See https://developer.wordpress.org/coding-standards/inline-documentation-standards/php/#5-inline-comments.
    
    Follow-up to [56174], [56175], [56176], [56177], [56178].
    
    Props costdev, audrasjb.
    See #58459.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56179 602fd350-edb4-49c9-b593-d223f7449a82

commit bf911a96a8a07f2158bc4093293724717130f618
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Sun Jul 9 21:23:34 2023 +0000

    Docs: Replace multiple single line comments with multi-line comments.
    
    This changeset updates various comments as per WordPress PHP Inline Documentation Standards.
    See https://developer.wordpress.org/coding-standards/inline-documentation-standards/php/#5-inline-comments.
    
    Follow-up to [56174], [56175], [56176], [56177].
    
    Props costdev, audrasjb.
    See #58459.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56178 602fd350-edb4-49c9-b593-d223f7449a82

commit 3b68269941ada680ac19ccdc6e935a47d63e21ec
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Sun Jul 9 20:15:03 2023 +0000

    Docs: Replace multiple single line comments with multi-line comments.
    
    This changeset updates various comments as per WordPress PHP Inline Documentation Standards.
    See https://developer.wordpress.org/coding-standards/inline-documentation-standards/php/#5-inline-comments.
    
    Follow-up to [56174], [56175], [56176].
    
    Props costdev, audrasjb.
    See #58459.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56177 602fd350-edb4-49c9-b593-d223f7449a82

commit 792f77b6a6dd27b21fc5aa98c99b351e493bc566
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Sun Jul 9 20:05:43 2023 +0000

    Docs: Replace multiple single line comments with multi-line comments.
    
    This changeset updates various comments as per WordPress PHP Inline Documentation Standards.
    See https://developer.wordpress.org/coding-standards/inline-documentation-standards/php/#5-inline-comments.
    
    Follow-up to [56174], [56175].
    
    Props costdev, audrasjb.
    See #58459.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56176 602fd350-edb4-49c9-b593-d223f7449a82

commit 05fd462d1cca3385473eabdffb7cfa0cc91e0ab7
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Sun Jul 9 19:54:42 2023 +0000

    Docs: Replace multiple single line comments with multi-line comments.
    
    This changeset updates various comments as per WordPress PHP Inline Documentation Standards.
    See https://developer.wordpress.org/coding-standards/inline-documentation-standards/php/#5-inline-comments.
    
    Follow-up to [56174].
    
    Props costdev, audrasjb.
    See #58459.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56175 602fd350-edb4-49c9-b593-d223f7449a82

commit 13b571eeacf5a71e23c80d9f1d6b5cb5114e14af
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Sun Jul 9 19:50:52 2023 +0000

    Docs: Replace multiple single line comments with multi-line comments.
    
    This changeset updates various comments as per WordPress PHP Inline Documentation Standards.
    See https://developer.wordpress.org/coding-standards/inline-documentation-standards/php/#5-inline-comments.
    
    Props costdev, audrasjb.
    See #58459.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56174 602fd350-edb4-49c9-b593-d223f7449a82

commit a240f12e80f62610c996283d876259bca9718d52
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Sun Jul 9 17:21:21 2023 +0000

    Twenty Twenty-Three: Fix Separator Block default styling.
    
    This changeset sets default width to `100px` for the Separator block, and sets the Separator block located in the Call to Action block pattern to `wide`.
    
    Props haritpanchal, audrasjb, sakibmd, poena, Rahmohn, mikachan.
    Fixes #57667.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56173 602fd350-edb4-49c9-b593-d223f7449a82

commit 7a7c23fea0dc08fe26c94d3dd08b0b067ff45462
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Sun Jul 9 15:48:00 2023 +0000

    Twenty Twenty-One: Add `b` and `strong` elements to editor styles.
    
    Sets `font-weight: 700` for these elements in the editor, in order to match the front end styles. It overrides the default admin `font-weight` of `600` for
    these HTML elements.
    
    Props nkeller15, audrasjb, sabernhardt, pavanpatil1, iamfarhan09, poena.
    Fixes #58383.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56172 602fd350-edb4-49c9-b593-d223f7449a82

commit 890f982250ae2f9b75898d7d8db5ac675adc3124
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Sun Jul 9 14:47:22 2023 +0000

    Help/About: Add Help text for Rollback feature.
    
    This changeset adds a new Help text for Rollback feature in the WordPress Updates screen. Also adds a link to the "Common Errors" HelpHub documentation page.
    
    Follow-up to [51857].
    
    Props costdev, afragen, audrasjb, kebbet, marybaum.
    Fixes #58199.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56171 602fd350-edb4-49c9-b593-d223f7449a82

commit 8f2c73e9717b40442b726f07f3defffadbe85fae
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Sun Jul 9 14:29:16 2023 +0000

    Twenty Twenty-One: Replace the experimental link color theme support.
    
    This replaces `add_theme_support( 'experimental-link-color' )` with `add_theme_support( 'link-color' )`, to provide the feature to Twenty Twenty-One users, but
    also to avoid throwing a "doing it wrong" message when Gutenberg version 16.2 is active.
    
    Follow-up to [58597].
    
    Props poena.
    Fixes #58702.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56170 602fd350-edb4-49c9-b593-d223f7449a82

commit a6895dff867d3618c0887744e3a3314a9395c108
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Jul 9 09:57:16 2023 +0000

    Coding Standards: Use strict comparison in `wp-includes/class-wp-user-query.php`.
    
    Follow-up to [31669], [47808].
    
    Props aristath, poena, afercia, SergeyBiryukov.
    See #57839.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56169 602fd350-edb4-49c9-b593-d223f7449a82

commit e62dfe87ced93cdf8686669823245dd308da6395
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Sat Jul 8 21:57:17 2023 +0000

    Docs: Docblock correction in `WP_REST_Attachments_Controller::upload_from_data()`.
    
    The `$data` parameter in `WP_REST_Attachments_Controller::upload_from_data()` is passed and treated only as `string`, not `array`.
    
    Props costdev.
    See #57840.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56168 602fd350-edb4-49c9-b593-d223f7449a82

commit 07d58c135611e24b7c7c8278aef1c3debf9cfa1a
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Sat Jul 8 13:19:31 2023 +0000

    Docs: Update link to MovableType docs (on Internet Archive).
    
    Follow-up to [56165].
    
    Props SergeyBiryukov.
    Fixes #58760.
    See #57840.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56167 602fd350-edb4-49c9-b593-d223f7449a82

commit e91908aeb622fc13fa695416982535db4570da64
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Jul 8 10:46:20 2023 +0000

    Coding Standards: Use strict comparison in `wp-includes/class-wp-tax-query.php`.
    
    Follow-up to [16413], [16849].
    
    Props aristath, poena, afercia, SergeyBiryukov.
    See #57839.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56166 602fd350-edb4-49c9-b593-d223f7449a82

commit a357b7adc835b45322f39562acb178521025e39c
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Sat Jul 8 07:41:09 2023 +0000

    Docs: Update link to MovableType documentation.
    
    Props mujuonly.
    Fixes #58760.
    See #57840.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56165 602fd350-edb4-49c9-b593-d223f7449a82

commit 96c64cd42d321841826261ff32fd0928bc35caef
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Fri Jul 7 18:06:49 2023 +0000

    Media: Avoid programmatically created images within post content from incorrectly receiving `fetchpriority="high"`.
    
    Follow-up to [56037], as that changeset accidentally did not consider the changes made in [55825]: Images that are programmatically injected into post content (e.g. through a block, or shortcode, or any hook calling a function like `wp_get_attachment_image()`) must be treated as part of the whole post content blob since otherwise the heuristics for applying `fetchpriority="high"` and `loading="lazy"` are skewed by parsing certain images before others rather than sequentially parsing the entire post content. [55825] addressed that for lazy-loading, but when [56037] introduced `fetchpriority` support, the related refactor missed making the same consideration for that attribute.
    
    Props flixos90, spacedmonkey, thekt12, mukesh27.
    Fixes #58235.
    See #58089.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56164 602fd350-edb4-49c9-b593-d223f7449a82

commit 9781ffbca5086b604bd334e9230f274e3d890eda
Author: Adam Silverstein <adamsilverstein@git.wordpress.org>
Date:   Fri Jul 7 17:51:11 2023 +0000

    Revisions: return existing autosave after saving with unchanged data.
    
    Correctly return the existing autosave when an unchanged autosave is saved, instead of returning an error.
    
    Fix regressions after r55154 where an error and not the original autosave was returned when saving with unchanged data (for example, clicking the preview button repeatedly). Returning the autosave (ID) is the expected behavior for the endpoint.
    
    Follow up to [55154]
    
    Props Mamaduka, jeroenrotty, mrfoxtalbot.
    Fixes #58739.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56163 602fd350-edb4-49c9-b593-d223f7449a82

commit a3b80f551fda271f1411f5e91d36e0e5192226af
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Fri Jul 7 17:39:09 2023 +0000

    Build/Test: Fix incorrect hook being used to separate Server-Timing metrics in performance tests.
    
    The `wp-before-template` and `wp-template` metric intend to separate WordPress core's own bootstrap process from any logic that is part of the eventual template loaded. The appropriate hook for that is the `template_include` filter as that occurs right before the template file is included.
    
    Props mukesh27, joemcgill.
    Fixes #58674.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56162 602fd350-edb4-49c9-b593-d223f7449a82

commit 2fbf610b25eeffc81f82c2c3d5071b2e15d4c89c
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Fri Jul 7 11:30:15 2023 +0000

    Build/Test: Fix dynamic property deprecation warning in object cache drop-in.
    
    Fix deprecation warning for dynamic property in object cache drop-in used in core unit tests.
    
    Dynamic (non-explicitly declared) properties are deprecated as of PHP 8.2 and are expected to become a fatal error in PHP 9.0.
    
    Props spacedmonkey, johnbillion.
    Fixes #58736.
    See #56034.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56161 602fd350-edb4-49c9-b593-d223f7449a82

commit 7035b615c452d3ef8517bbc5dc267031d3ed15fb
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Fri Jul 7 07:27:53 2023 +0000

    Editor: rename sync_status and move it to top level.
    
    Renames sync_status to wp_pattern_sync_status and moves it to top level field of wp_block post type.
    
    Props glendaviesnz, aaronrobertshaw, mukesh27, peterwilsoncc.
    Fixes 58677.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56160 602fd350-edb4-49c9-b593-d223f7449a82

commit f47b9a2075e109389cf317c00e36fbe16af931de
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Fri Jul 7 07:18:46 2023 +0000

    Editor: update npm packages with bug fixes and blessed tasks.
    
    Includes miscellaneous bug fixes and enhancements to the Library task (#58579) and to the Command Palette task (#58643).
    
    See #58745.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56159 602fd350-edb4-49c9-b593-d223f7449a82

commit d113821dbb1b4fa751cde7e1fd0b75297a026ef5
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Jul 7 06:40:11 2023 +0000

    Coding Standards: Use strict comparison in `wp-includes/class-wp-simplepie-file.php`.
    
    Follow-up to [10687].
    
    Props aristath, poena, afercia, SergeyBiryukov.
    See #57839.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56158 602fd350-edb4-49c9-b593-d223f7449a82

commit a7de2a8e26f79a7d714a7baeb15a2e395f7fce02
Author: John Blackbourn <johnbillion@git.wordpress.org>
Date:   Fri Jul 7 00:34:26 2023 +0000

    Docs: Correct the formatting of various filter documentation.
    
    See #57840
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56157 602fd350-edb4-49c9-b593-d223f7449a82

commit 82302c4ffb6c588db3fb5a5778b9c34718e855cf
Author: John Blackbourn <johnbillion@git.wordpress.org>
Date:   Thu Jul 6 23:21:34 2023 +0000

    REST API: Correct some filter docblocks.
    
    See #57752
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56156 602fd350-edb4-49c9-b593-d223f7449a82

commit 9ad28597218c9ce736bee05fe8aa7d2faf9bae17
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Jul 6 22:00:53 2023 +0000

    Twenty Twenty: Fix left margin in Latest Posts & Latest Comments blocks.
    
    This fixes a bug where the `margin-left: auto` property was being overwritten to `margin-left: 0` causing an inconsistency in the alignment of these blocks.
    
    Follow-up to [56034], [56039], [56040].
    
    Props sabernhardt.
    Fixes #58396.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56155 602fd350-edb4-49c9-b593-d223f7449a82

commit 21490c6ba42ef13403d2376713397cdc791d5a40
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Thu Jul 6 16:31:02 2023 +0000

    Media: Ensure that the image widget supports loading optimization attributes.
    
    This changeset adds support for loading optimization attributes such as `loading="lazy"` and `fetchpriority="high"` to the image widget. A new context `widget_media_image` is introduced for that purpose.
    
    Props spacedmonkey, thekt12, mukesh27, westonruter.
    Fixes #58704.
    See #58235.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56154 602fd350-edb4-49c9-b593-d223f7449a82

commit e9d0712b491468f2ee4139c723149404e28ac377
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Jul 6 14:15:00 2023 +0000

    Docs: Use third-person singular verbs in various function descriptions of `load.php`, as per docblocks standards.
    
    See #57840.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56153 602fd350-edb4-49c9-b593-d223f7449a82

commit d2993600fef0b2f77558e1f235c27a38de160115
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Jul 6 13:52:56 2023 +0000

    Boostrap/Load: Incorrect condition in `wp_check_php_mysql_versions()`.
    
    This changeset adds a check for the existence of `db.php` at the default path `ABSPATH . 'wp-content/db.php'`, even if `WP_CONTENT_DIR` is defined and `db.php`
    is placed in `WP_CONTENT_DIR`.
    
    Follow-up to [49161].
    
    Props mikeyzm, SergeyBiryukov, hztyfoon,
    Fixes #58201.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56152 602fd350-edb4-49c9-b593-d223f7449a82

commit c49225f9be8fdbdb97fc16e10d20878089efd994
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Jul 6 12:52:59 2023 +0000

    Coding Standards: Add missing newline at the end of `wp-admin/user.php`.
    
    Follow-up to [56150].
    
    See #58194.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56151 602fd350-edb4-49c9-b593-d223f7449a82

commit b71668fc4038ba34aa4e5f774941c0db852d536c
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Jul 6 12:45:45 2023 +0000

    Users: Remove password reset links when the feature is not allowed for a specific user.
    
    This also introduces `wp_is_password_reset_allowed_for_user()` which returns `false` when password reset is not allowed for a specific user. This can be
    filtered by developers using the existing `allow_password_reset` hook.
    
    Props ocean90, cshark, robinwpdeveloper, tahmina1du, kraftbj.
    Fixes #58194.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56150 602fd350-edb4-49c9-b593-d223f7449a82

commit bc526d31e6ecaad344a4a9f4c9343c0f3071a879
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Jul 6 08:32:03 2023 +0000

    Twenty Seventeen: Reintroduce HTML5 Shiv.
    
    This reintroduces HTML5 Shiv script that was removed in [55980], to ensure backward compatibility for websites that opted-in to IE support. Also reintroduces
    HTML5 credits.
    
    Follow-up to [55980].
    
    Props sabernhardt.
    See #56699.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56149 602fd350-edb4-49c9-b593-d223f7449a82

commit 55ff58cf22773954c791026e0643db451c7ee600
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Jul 6 08:27:07 2023 +0000

    Twenty Thirteen: Reintroduce HTML5 Shiv.
    
    This reintroduces HTML5 Shiv script that was removed in [55982], to ensure backward compatibility for websites that opted-in to IE support.
    
    Follow-up to [55982].
    
    Props sabernhardt.
    See #56699.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56148 602fd350-edb4-49c9-b593-d223f7449a82

commit 682ea41abb169423c607bef8d1ff1469fa8e1b14
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Jul 6 08:16:38 2023 +0000

    Twenty Fifteen: Reintroduce HTML5 Shiv.
    
    This reintroduces HTML5 Shiv script that was removed in [55981], to ensure backward compatibility for websites that opted-in to IE support.
    
    Follow-up to [55981]
    
    Props audrasjb, sabernhardt.
    See #56699.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56147 602fd350-edb4-49c9-b593-d223f7449a82

commit 21c74f187020abfc852aba55f830e925e4fa1cc5
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Thu Jul 6 04:39:03 2023 +0000

    Editor: fix comment indentation.
    
    Fixes multiline comment indentation in `wp-includes/block-supports/settings.php`. Also fixes typo in the comment.
    
    Props mukesh27.
    See #58586.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56146 602fd350-edb4-49c9-b593-d223f7449a82

commit 9d141e5a5e41dd232eac9004daad1d445c49407b
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Thu Jul 6 03:02:57 2023 +0000

    Editor: update template titles in browse mode.
    
    Adds more meaningful titles to templates in the browse mode template list.
    
    Props ntsekouras, audrasjb.
    Fixes #58713.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56145 602fd350-edb4-49c9-b593-d223f7449a82

commit 06c1c4f0f71b2cefade6e7841ba792875bae5825
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Jul 6 00:14:34 2023 +0000

    Docs: Document the return value of `wp_check_php_version()` using hash notation.
    
    Follow-up to [42832].
    
    See #57840.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56144 602fd350-edb4-49c9-b593-d223f7449a82

commit ebd03692e64d63803ad3fed2676dfb3cd4631f26
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Wed Jul 5 21:36:23 2023 +0000

    Media: Ensure that large images before the main query loop are counted towards lazy-loading threshold.
    
    Following [55318], [55847], and [56142], certain images in the header of the page have received support for potentially receiving `fetchpriority="high"` and having the `loading="lazy"` attribute omitted. However, these images being present did not affect the "content media count" which counts the images towards a certain threshold so that the first ones are not lazy-loaded.
    
    This changeset also increases that count for such header images if they are larger than a certain threshold. The threshold is used to avoid e.g. a header with lots of small images such as icon graphics to skew the lazy-loading behavior.
    
    Props thekt12, spacedmonkey, flixos90.
    Fixes #58635.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56143 602fd350-edb4-49c9-b593-d223f7449a82

commit aee525ee6f2028ebcd9a3a8bd986be838d805c5b
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Wed Jul 5 19:28:02 2023 +0000

    Media: Ensure custom header image tag supports loading optimization attributes.
    
    This changeset is a follow up to [56037] and ensures that the `get_header_image_tag()` function receives the benefits of `wp_get_loading_optimization_attributes()` as well. Prior to `fetchpriority` support, this was not needed since the header image should never be lazy-loaded, but the image certainly is a `fetchpriority` candidate, so therefore it is crucial to have it supported.
    
    Props felipeelia, spacedmonkey, mukesh27, westonruter, flixos90.
    Fixes #58680.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56142 602fd350-edb4-49c9-b593-d223f7449a82

commit f7dbb2462ba35362be2ab632f466ba1a4d760282
Author: John Blackbourn <johnbillion@git.wordpress.org>
Date:   Wed Jul 5 17:39:55 2023 +0000

    General: Increase the minimum supported version of PHP to 7.0.0.
    
    This also removes the random compat library which is no longer necessary, and adjusts unit tests and CI workflows that no longer need to take PHP 5.6 into account.
    
    Thank you for your service, PHP 5. Onwards!
    
    Props SergeyBiryukov, mukesh27, dingo_d, audrasjb, jrf, costdev, azaozz, JavierCasares, hellofromTonya, samiamnot, spacedmonkey, masteradhoc, knutsp, garyjones, chanthaboune
    
    Fixes #57345
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56141 602fd350-edb4-49c9-b593-d223f7449a82

commit 28fa6d1a34394f4aa9e35710f8fdf72567f804d2
Author: David Baumwald <davidbaumwald@git.wordpress.org>
Date:   Wed Jul 5 16:19:39 2023 +0000

    Default Filters: Correct hook type for `wp_print_scripts` and `customize_controls_print_styles`.
    
    Props Cybr, bhi3315.
    Fixes #58665.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56140 602fd350-edb4-49c9-b593-d223f7449a82

commit 6e1f9dfbcd52c51fe6b4e44dda79209e9277146c
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Wed Jul 5 12:32:52 2023 +0000

    Editor: Fix font paths in iframed editor.
    
    By making font asset files URLs absolute instead of relative, this ensures each font asset file does properly relate to the actual location of the files.
    
    See https://github.com/WordPress/gutenberg/pull/50875.
    
    Props ironprogrammer, antonvlasenko, ndiego, shuvo247, robinwpdeveloper.
    Fixes #58672.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56139 602fd350-edb4-49c9-b593-d223f7449a82

commit 80494d2e8a1bb21a480115cd11e42c8ede978bdf
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Jul 5 11:13:26 2023 +0000

    General: Revert strict comparison in `WP_List_Util` for now.
    
    Casting the values to a string causes `Array to string conversion` PHP warnings, so using loose comparison restores the previous behavior for code relying on type juggling when using the `wp_list_filter()` function, e.g. comparing a numeric string to an integer.
    
    The unit test case added for this scenario in the previous commit remains.
    
    Follow-up to [55908], [56137].
    
    See #57839.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56138 602fd350-edb4-49c9-b593-d223f7449a82

commit c11f70878f2e36169b2dab159fcb31c9e5365faf
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Jul 5 10:44:20 2023 +0000

    General: Compare values as strings in `WP_List_Util::filter()` and `::sort_callback()`.
    
    This aims to preserve backward compatibility for code relying on type juggling when using the `wp_list_filter()` function, e.g. comparing a numeric string to an integer.
    
    Follow-up to [55908].
    
    Props azaozz, jeremyfelt, david.binda.
    See #57839.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56137 602fd350-edb4-49c9-b593-d223f7449a82

commit c3e17e4ccbdd73102e7eab844c79687f71233392
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Wed Jul 5 07:14:20 2023 +0000

    Editor: Normalize paths in `register_core_block_style_handles()`.
    
    Previously, this function did not normalize paths before using `glob()` or registering styles. This led to a mixture of forward-slashes and back-slashes in
    Windows environments.
    
    This change uses `wp_normalize_path()` to ensure Windows compatibility.
    
    Props wildworks, costdev, kafleg, mukesh27.
    Fixes #58711.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56136 602fd350-edb4-49c9-b593-d223f7449a82

commit f83f5100ed2d26a31de9e4a0769cc6d0bb163f57
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Wed Jul 5 07:06:10 2023 +0000

    Administration: CSS selector correction for list table checkboxes.
    
    This replaces `.check-column .label-covers-full-cell input` selector with `.check-column .label-covers-full-cell + input`.
    
    Follow-up to [55954].
    
    Props sabernhardt.
    Fixes #21516.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56135 602fd350-edb4-49c9-b593-d223f7449a82

commit 77c59ac4f13bc273281e938b23b95a461122457f
Author: John Blackbourn <johnbillion@git.wordpress.org>
Date:   Tue Jul 4 23:30:36 2023 +0000

    Administration: Adjust the "No private directive present in cache control when user not logged in" test so the assertions won't fail if the headers don't contain a `cache-control` key at all.
    
    Props joemcgill
    
    Fixes #21938
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56134 602fd350-edb4-49c9-b593-d223f7449a82

commit 56af1e4b944e08faf175f44e2e151473bd1d67f7
Author: Andrew Ozz <azaozz@git.wordpress.org>
Date:   Tue Jul 4 20:43:43 2023 +0000

    HTML API: Fix a fatal error when processing malformed document with unclosed attribute.
    
    Props: dlh, costdev, dmsnell.
    Fixes: #58637.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56133 602fd350-edb4-49c9-b593-d223f7449a82

commit e834fed6eb7f43a1aa3a89d592e1f4b857491c13
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Jul 4 13:40:55 2023 +0000

    Options, Meta APIs: Check if the `gmt_offset` value is numeric in `sanitize_option()`.
    
    When saving the settings via the admin UI, the default value for any options not passed in the current `$_POST` request is set to `null` in `wp-admin/options.php`. Some options, e.g. `blog_public`, then rely on `null` being passed to `update_option()` to determine whether the value was changed or not.
    
    This commit resolves a PHP 8.1 deprecation notice when saving the `gmt_offset` option without any changes:
    {{{
    Deprecated: preg_replace(): Passing null to parameter #3 ($subject) of type array|string is deprecated
    }}}
    
    Includes a similar fix for the `blog_charset` option.
    
    Follow-up to [4112], [4329], [5541], [21849].
    
    Props adi3890, dhrupo, hrdelwar, hasanmisbah, oglekler, mukesh27, SergeyBiryukov.
    Fixes #57728.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56132 602fd350-edb4-49c9-b593-d223f7449a82

commit 6ba1ca6ede8f1afad7094237f0e9ae6e6049ff7d
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Jul 4 13:38:56 2023 +0000

    Twenty Twenty-Three: Allow changing Site Title font size in Marigold and Whisper styles.
    
    This changeset moves font styling from link element to site title (or post title) block in Marigold and Whisper style variations, which allows to change Site
    Title block font size.
    
    Props ryelle, shuvoaftab, sabernhardt, alvitazwar052, shailu25, poena, audrasjb.
    Fixes #57971.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56131 602fd350-edb4-49c9-b593-d223f7449a82

commit 1815f4c76c9f51665f046d79284552d09849597b
Author: David Baumwald <davidbaumwald@git.wordpress.org>
Date:   Mon Jul 3 17:05:33 2023 +0000

    Post WordPress 6.3 Beta 3 version bump.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56130 602fd350-edb4-49c9-b593-d223f7449a82

commit 0b4b351eac0a988563d9b88dee6becfae53af285
Author: David Baumwald <davidbaumwald@git.wordpress.org>
Date:   Mon Jul 3 16:39:53 2023 +0000

    WordPress 6.3 Beta 3.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56129 602fd350-edb4-49c9-b593-d223f7449a82

commit 94aaa2d9bc26790f688740d8d70d6f3df0e6655f
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Jul 3 14:01:25 2023 +0000

    HTTP API: Declare a few default parameters in `WP_Http_Curl` and `WP_Http_Streams`.
    
    This resolves `Undefined array key` PHP warnings when trying to access any of these values in `WP_Http_Curl::request()` or `WP_Http_Streams::request()`:
    
    * `$parsed_args['decompress']`
    * `$parsed_args['stream']`
    * `$parsed_args['filename']`
    
    Follow-up to [10410], [11236], [13274], [17555], [37428], [42766], [44346].
    
    Props sjoerdlinders, hellofromTonya, jrf, oglekler, Clorith, SergeyBiryukov.
    Fixes #52622.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56128 602fd350-edb4-49c9-b593-d223f7449a82

commit d1f9292a14daae966f03809785af4566d3d773a6
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Mon Jul 3 09:11:14 2023 +0000

    Editor: update npm packages with bug fixes and blessed tasks.
    
    Includes miscellaneous bug fixes and enhancements to the Library task (#58579) and to the site vs content editing task (#58641)
    
    Fixes #58701.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56127 602fd350-edb4-49c9-b593-d223f7449a82

commit ab9d5e32183523b4466f5a386b6ceb09987aaae5
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Mon Jul 3 06:55:58 2023 +0000

    Editor: adds deprecation for deleted `block_core_navigation_submenu_build_css_colors` function.
    
    Adds the `block_core_navigation_submenu_build_css_colors` function to `wp-includes/deprecated.php`. Follow-up to #58623.
    
    Props ramonopoly, peterwilsoncc.
    See #58623.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56126 602fd350-edb4-49c9-b593-d223f7449a82

commit 6aaf01313a71fd8a1e35c4ef3ce187d40168b4ad
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Mon Jul 3 06:48:46 2023 +0000

    Editor: Enqueue commands package styles.
    
    Enqueues the stylesheet from the commands package which holds the CSS for the Command Palette feature.
    
    Props wildworks.
    Fixes #58667.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56125 602fd350-edb4-49c9-b593-d223f7449a82

commit 62b286f9b2ebc7bb609827a09fcf5136cac5fa01
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Jul 2 10:33:18 2023 +0000

    Upgrade/Install: Initialize the local `$checkout` variable in `WP_Automatic_Updater::is_vcs_checkout()`.
    
    This avoids an `Undefined variable $checkout` PHP warning if all of the directories checked for access are disallowed due to the PHP `open_basedir` restrictions.
    
    Follow-up to [55425].
    
    Props jqz, costdev, audrasjb.
    Fixes #58563.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56124 602fd350-edb4-49c9-b593-d223f7449a82

commit e635540d1c990fc9e49af92ad926a217e086418e
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Sun Jul 2 08:02:45 2023 +0000

    Quick/Bulk Edit: Ensure scheduled posts are published when using Bulk Edit.
    
    This changeset ensures scheduled posts are actually published when changing their status to "Published" using bulk edit. Also adds related unit tests.
    
    Props siobhan, Clorith, webcommsat, cadic, oglekler, audrasjb, pavanpatil1.
    Fixes #31635.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56123 602fd350-edb4-49c9-b593-d223f7449a82

commit 7f0eb0780fa18b0e84b02b90dbb75dc334b2c7b4
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Sat Jul 1 23:08:43 2023 +0000

    Docs: Fix `image_get_intermediate_size()` docblock.
    
    The description of returned values in array was incorrect for `image_get_intermediate_size()`:
    - `$file` returns the filename of image, no path information
    - `$path` returns path relative to the uploads directory, not absolute
    
    Props crstauf, sccr410.
    Fixes #58686.
    See #57840.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56122 602fd350-edb4-49c9-b593-d223f7449a82

commit c734f91a69ae31f899abbcd87b4256d44d3ce8fb
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Sat Jul 1 17:02:18 2023 +0000

    Twenty Seventeen: Various docblock fixes.
    
    Props sabernhardt, audrasjb.
    Fixes #58695.
    See #57840.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56121 602fd350-edb4-49c9-b593-d223f7449a82

commit 1d773d4174b845aa144d1f20d087394767245bd4
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Jul 1 10:02:05 2023 +0000

    Docs: Correct `@return` description for `wp_count_posts()`.
    
    Add a note that `wp_count_posts()` returns an empty object if the post type passed to the function does not exist.
    
    Follow-up to [6730], [6808], [8081], [24826], [29093], [51885].
    
    Props crstauf, Ov3rfly.
    Fixes #58685.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56120 602fd350-edb4-49c9-b593-d223f7449a82

commit 12b9023e2ade3496bbcf119fe9d0e89f75b31e5b
Author: Weston Ruter <westonruter@git.wordpress.org>
Date:   Fri Jun 30 20:49:57 2023 +0000

    Emoji: Give name to web worker in emoji loader and terminate when finished.
    
    See #58472.
    Follow-up to [56074], [56095].
    Props westonruter, joemcgill.
    Fixes #58691.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56119 602fd350-edb4-49c9-b593-d223f7449a82

commit aaebe106adec66a3819c94528069323c04fd88f5
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Fri Jun 30 12:52:05 2023 +0000

    Twenty Twenty-One: Improve various globals documentation, as per docblock standards.
    
    This changeset adds globals documentation, and also a couple Docblock standards improvements.
    
    Props upadalavipul, audrasjb.
    Fixes #58684.
    See #57840.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56118 602fd350-edb4-49c9-b593-d223f7449a82

commit 280e720059312fc04f4004e0cefe2cd39979fc84
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Jun 30 11:11:13 2023 +0000

    Site Health: Correct the label for `wp-content` directory check.
    
    This removes HTML tags from the label, which were not displayed as expected due to escaping. Including the directory name in the label is also redundant, as it is already mentioned in the check result description directly below.
    
    Includes:
    * Adjusting a few other labels for consistency.
    * Moving `wp-content` out of the translatable string in a similar message in `WP_Upgrader::generic_strings()`.
    
    Follow-up to [55720].
    
    Props dlh, mukesh27, audrasjb, SergeyBiryukov.
    See #58678.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56117 602fd350-edb4-49c9-b593-d223f7449a82

commit a1a31fc47348a6e6164df05f5dc37e307360f4a1
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Fri Jun 30 08:54:39 2023 +0000

    Twenty Fourteen: Fix text color issue on Button block hover.
    
    This fixes a text color issue when hovering Button blocks located on sidebars or widgets.
    
    Props shailu25, sabernhardt, mukesh27.
    Fixes #58509.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56116 602fd350-edb4-49c9-b593-d223f7449a82

commit be90d79cb594223f52a5f941253207525eaed053
Author: John Blackbourn <johnbillion@git.wordpress.org>
Date:   Thu Jun 29 23:25:38 2023 +0000

    General: Ignore invalid types for the '_wp_http_referer' URL query variable.
    
    It's expected that this query variable contains a string when it's set, but it's possible for its type to be something else such as an array. Ignoring non-string values prevents cascading errors when its value is passed through functions that expect a string.
    
    Props xknown, costdev, jrf, azaozz
    
    Fixes #57670
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56115 602fd350-edb4-49c9-b593-d223f7449a82

commit d48301e572668b080aa2e10668ac59161ad73935
Author: John Blackbourn <johnbillion@git.wordpress.org>
Date:   Thu Jun 29 23:09:47 2023 +0000

    Build/Test Tools: Improve the name of the e2e test jobs on GitHub Actions.
    
    Fixes #58661
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56114 602fd350-edb4-49c9-b593-d223f7449a82

commit 77ed29b8179bc79a042533ef2439435779649cba
Author: John Blackbourn <johnbillion@git.wordpress.org>
Date:   Thu Jun 29 23:01:48 2023 +0000

    Build/Test Tools: Run E2E tests with and without `SCRIPT_DEBUG` enabled.
    
    This adds a matrix to the e2e test runs on GitHub Actions so the tests run both with and without `SCRIPT_DEBUG` enabled. This allows us to catch scenarios where the minified and non-minified files may differ.
    
    Props Clorith, joemcgill
    
    Fixes #58661
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56113 602fd350-edb4-49c9-b593-d223f7449a82

commit 60b3fe7997d1299b83942c0162020df0483622a3
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Thu Jun 29 17:32:35 2023 +0000

    Media: Fix inconsistent docs for existing `wp_img_tag_add_loading_attr` filter and remove duplicate.
    
    Follow-up to [56037].
    
    Props thekt12.
    See #58235.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56112 602fd350-edb4-49c9-b593-d223f7449a82

commit c650864b9fb8ac2660380d7a6e8c2c102822f570
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Jun 29 17:03:19 2023 +0000

    Filesystem API: Define password as `null` if not set when using SSH2 with public/private keys.
    
    This resolves an `Undefined array key "password"` PHP warning in `WP_Filesystem_SSH2::connect()` when using public/private key authentication, in which case providing a password is optional.
    
    Follow-up to [8865].
    
    Props J-Dill, costdev, ehsanakhgari, dd32.
    Fixes #33196.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56111 602fd350-edb4-49c9-b593-d223f7449a82

commit e0aaa2ac9bb56ea26375084126e591e40a568256
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Thu Jun 29 15:31:49 2023 +0000

    General: Add missing parentheses to functions referenced in `_deprecated_function()` calls added in 6.3.
    
    See #58235, #58301, #58555.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56110 602fd350-edb4-49c9-b593-d223f7449a82

commit 8c9fffb5cc1ec10f47352b4731acf981dfff5b0a
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Jun 29 13:28:49 2023 +0000

    Editor: Allow Query Block to show posts from multiple selected authors.
    
    This changeset adds handler for multiple cases where author data can be passed to the Query Block:
    - array: array of author ids
    - string: comma separated author ids
    - integer: single author id
    
    Props adi3890, costdev, mayur8991, oglekler.
    Fixes #58426.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56109 602fd350-edb4-49c9-b593-d223f7449a82

commit 644d702a23f770c5bdc452d88ccc1e4de9b60945
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Jun 29 07:53:04 2023 +0000

    Twenty Twenty-Two: Adjust selector to apply bottom margin to top-level comments.
    
    This adds spacing between top-level comments, which improves the layout of the comment section.
    
    Props pitamdey, sabernhardt, mukesh27.
    Fixes #58653.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56108 602fd350-edb4-49c9-b593-d223f7449a82

commit b58eebb2a520493cd357affb00539e0b540170c4
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Jun 29 07:19:04 2023 +0000

    Upgrade/Install: Only show errors if there is nothing to update.
    
    Previously, when the `do-plugin-upgrade` or `do-theme-upgrade` actions were accessed directly on `update-core.php`, an error message stating "Select one or
    more (plugins|themes) to update" would be shown even if there was nothing to update.
    
    This ensures that the error message only appears when there is something to update.
    
    Props Presskopp, sabernhardt, pbiron, afragen, zunaid321, shuvoaftab, ugyensupport, costdev.
    Fixes #57999.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56107 602fd350-edb4-49c9-b593-d223f7449a82

commit 239484f71774707a4c824e576bfcc3624b073306
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Jun 29 06:57:54 2023 +0000

    Twenty Twenty: Fix Button block text color when located in footer widgets.
    
    This changeset ensures the Button block text color is consistent when this block is used in a footer widget.
    
    Props mayur8991, itpathsolutions, nithins53, sabernhardt, arafatjamil01, thakordarshil, pooja1210, mukesh27, shailu25, shwetabathani2312.
    Fixes #57087.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56106 602fd350-edb4-49c9-b593-d223f7449a82

commit 41277f1f1b9ea1f0a9418cfb7e57c1c12b21d5e7
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Thu Jun 29 06:47:43 2023 +0000

    REST API: updates test annotations for global styles revisions
    
    Adds `@covers` annotations to tests and fixes incorrect spacing.
    
    Props ramonopoly, mukesh27.
    See #58524.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56105 602fd350-edb4-49c9-b593-d223f7449a82

commit b830d5678ea69aee5d3ae26854720a45f742e8fe
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Jun 29 06:46:40 2023 +0000

    Themes: Fix layout issue on the Themes page background overlay.
    
    This changeset replaces the `780px` media query `max-width` value with `782px` for better consistency and to fix a responsive layout issue.
    
    Props zodiac1978, ironprogrammer, orestissam, audrasjb, monzuralam.
    Fixes #58164.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56104 602fd350-edb4-49c9-b593-d223f7449a82

commit 280f16209724d68d92eae9e5b61f64f3f907aa0d
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Thu Jun 29 06:34:25 2023 +0000

    Editor: delete test file from update duotone support.
    
    Deleting the test file that should have been removed in [56101].
    
    See #58555.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56103 602fd350-edb4-49c9-b593-d223f7449a82

commit 7fa7d39c0718a1757d9f76633a7349240dcb71be
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Jun 29 06:28:56 2023 +0000

    Twenty Sixteen: Replace deprecated `unbind` method with `off`.
    
    This fixes a `Deprecated jQuery.fn.unbind()` notice.
    
    Props Malae, dilipbheda, sabernhardt, audrasjb.
    Fixes #58225.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56102 602fd350-edb4-49c9-b593-d223f7449a82

commit d966798bfcf4481053d6206bba787b07e5030775
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Thu Jun 29 06:19:41 2023 +0000

    Editor: update duotone support.
    
    Updates duotone support after stabilisation of selectors API and adds a few small code quality and UI improvements.
    
    Props onemaggie, peterwilsoncc, ajlende, audrasjb, mikeschroder, ramonopoly.
    Fixes #58555.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56101 602fd350-edb4-49c9-b593-d223f7449a82

commit 91a95fe91c389555226fb2ef033d2982b04172c0
Author: David Baumwald <davidbaumwald@git.wordpress.org>
Date:   Wed Jun 28 23:26:16 2023 +0000

    Post WordPress 6.3 Beta 2 version bump.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56100 602fd350-edb4-49c9-b593-d223f7449a82

commit e1405a5b9c543e830f8a8e665a8028b7b1d9cfad
Author: David Baumwald <davidbaumwald@git.wordpress.org>
Date:   Wed Jun 28 22:59:40 2023 +0000

    WordPress 6.3 Beta 2.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56099 602fd350-edb4-49c9-b593-d223f7449a82

commit f39bf114c01f2699cb941c65711977d389aa0385
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Wed Jun 28 22:36:22 2023 +0000

    Editor: Update npm packages to fix gutenberg_ prefix
    
    Update `@wordpress/*` packages to the latest patch versions in
    order to replace calls to `gutenberg_apply_colors_support` with
    `wp_apply_colors_support` in order to avoid a fatal error.
    
    Props joemcgill, spacedmonkey, flixos90, ironprogrammer, sabernhardt.
    Fixes #58651.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56098 602fd350-edb4-49c9-b593-d223f7449a82

commit 260e97646db619c3c1bba0d400f1288b450ea701
Author: Joe McGill <joemcgill@git.wordpress.org>
Date:   Wed Jun 28 20:06:56 2023 +0000

    Build/Test Tools: Update terser-webpack-plugin.
    
    This bumps the `terser-webpack-plugin` dependency to version `5.3.9`, which fixes an error during the minification process of the `@wordpress/block-library` package during builds.
    
    Props clorith, azaozz, desrosj.
    Fixes #58660, See #57657.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56097 602fd350-edb4-49c9-b593-d223f7449a82

commit 68be569925ad2a88c97e1308b8a67a57bf17a14f
Author: K. Adam White <kadamwhite@git.wordpress.org>
Date:   Wed Jun 28 17:37:52 2023 +0000

    REST API: Expose current $request object to cors_header filters in WP_REST_SERVER->serve_request().
    
    Allows headers to be more easily set on a per-response basis when more or less security is needed on a specific route.
    
    Props bor0, rachelbaker, spacedmonkey, chaion07, oglekler, SergeyBiryukov.
    Fixes #57752.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56096 602fd350-edb4-49c9-b593-d223f7449a82

commit 9f9add35cb035cd9e0b6ced9c1bdc9685cd6877d
Author: Weston Ruter <westonruter@git.wordpress.org>
Date:   Wed Jun 28 17:24:36 2023 +0000

    Emoji: Pass functions as arguments in loader to account for minification and worker script.
    
    Amends [56074].
    Fixes #58472.
    Props joemcgill, westonruter, azaozz.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56095 602fd350-edb4-49c9-b593-d223f7449a82

commit eaab2c9092255a681231e85cb779f48269f2de65
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Wed Jun 28 17:12:46 2023 +0000

    Themes: Use improved support for child themes in `wp_theme_has_theme_json()`.
    
    Improve logic in `wp_theme_has_theme_json()`, to only check to see if theme.json exists in child theme, if the current theme is a child theme. Without this change, `file_exists` would be called twice on every request, which is wasteful.
    
    Follow up to [56085].
    
    Props spacedmonkey, SergeyBiryukov.
    Fixes #57629.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56094 602fd350-edb4-49c9-b593-d223f7449a82

commit 7faab129f56779d0576bed37d025ef16bcb95bf7
Author: K. Adam White <kadamwhite@git.wordpress.org>
Date:   Wed Jun 28 15:51:23 2023 +0000

    REST API: Cache schema in block pattern and menu item endpoints.
    
    Performance improvement to add schema caching to pattern and menu item REST endpoints, so identical schema object are not needlessly regenerated.
    
    Props spacedmonkey.
    Fixes #58657. See [45811].
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56093 602fd350-edb4-49c9-b593-d223f7449a82

commit 80e424ad55e0ef4d48959a9c91b226eae45b6a77
Author: Andrew Ozz <azaozz@git.wordpress.org>
Date:   Wed Jun 28 14:14:58 2023 +0000

    Script Loader: Fix unintended adding of `async` to scripts that are printed directly with `wp_print_scripts()` without enqueueing them beforehand.
    
    Props: joemcgill, westonruter, felixarntz, peterwilsoncc.
    See: #58648.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56092 602fd350-edb4-49c9-b593-d223f7449a82

commit a63be5a89018825d1ce56de7cfa65b90161c1bde
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Jun 28 13:17:49 2023 +0000

    Quick/Bulk Edit: Add an action hook to `bulk_edit_posts()` function.
    
    This changeset introduces the `bulk_edit_posts` action hook, triggered after processing the post data for bulk edit and before the function returns its results. For example, it allows developers to save additional data without having to perform any `.ajax()` calls.
    
    Follow-up to [8973].
    
    Props helgatheviking, helen, Mte90, afercia, mrasharirfan, desrosj, itowhid06, pento, mensmaximus, audrasjb, costdev, webcommsat, marybaum, oglekler, mukesh27, SergeyBiryukov.
    Fixes #28112.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56091 602fd350-edb4-49c9-b593-d223f7449a82

commit 7bc7fcff52d5dca61777a3fd26cee67ae7bd33d7
Author: Marius L. J <clorith@git.wordpress.org>
Date:   Wed Jun 28 10:57:48 2023 +0000

    Build/Test Tools: Switch frame container when testing block editor output.
    
    The initial commit added the frame lookup within the wrong test, this follow-up restores the previous test runner, and adds the container lookup to the correct test.
    
    Follow-up to [56089].
    
    See #58592.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56090 602fd350-edb4-49c9-b593-d223f7449a82

commit 5261ddb3edb651df1fda6bd28b77b94962c4e09e
Author: Marius L. J <clorith@git.wordpress.org>
Date:   Wed Jun 28 10:45:16 2023 +0000

    Build/Test Tools: Switch frame container when testing block editor output.
    
    When the block editor is rendered, the editor content is wrapped inside an iframe tag; The tool used to run End to End (E2E) tests, Puppeteer, puts all such frames into separate containers, but the initial test was checking if the parent page had a given selector, which was leading to timeout failures. By actively switching the container to the iframe wrapper,and setting it as the active context, it helps ensure the expected selectors can be found, and its content can be verrified.
    
    See #58592.
    Props joemcgill, SergeyBiryukov, talldanwp, oglekler, Clorith.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56089 602fd350-edb4-49c9-b593-d223f7449a82

commit 45363a59765611b8348c73e062fb8520c282cd7b
Author: Andrew Ozz <azaozz@git.wordpress.org>
Date:   Wed Jun 28 10:07:49 2023 +0000

    Revert use of `str_starts_with()` and `str_contains()` in `update-core.php`.
    
    Fixes updating WordPress from 5.7 and earlier versions. When updating this file runs first in the old version where the polifills may not be available.
    
    Props: ironprogrammer, SergeyBiryukov, dd32, azaozz.
    See: #58206.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56088 602fd350-edb4-49c9-b593-d223f7449a82

commit 44f9c35d7419e57bb44bb2bc9f45b793d2c74f74
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Wed Jun 28 07:58:12 2023 +0000

    Twenty Sixteen: Twenty Ten: Reflect Quote block text color on the entire block.
    
    This changeset fixes an issue where the selected text color for the Quote block was not reflected on all the elements of the block.
    
    Props nidhidhandhukiya, sabernhardt, audrasjb, shailu25, anilvaza.
    Fixes #57204.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56087 602fd350-edb4-49c9-b593-d223f7449a82

commit 01a8b01c98f548f8c05ac1f2e327c73cf2aa7ec5
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Wed Jun 28 07:01:10 2023 +0000

    Editor: update npm packages to latest patch versions.
    
    Updates the `@wordpress` npm packages to their latest patch versions, including generated PHP files.
    
    Props ramonopoly.
    Fixes #58654.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56086 602fd350-edb4-49c9-b593-d223f7449a82

commit e1c1dae6c4dbd75cf92c6655c36efeeb1073cbc3
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Wed Jun 28 05:55:04 2023 +0000

    Script Loader: Prevent fatal error in `load-styles.php`.
    
    Duplicates the code of `get_theme_file_path()` within `wp_theme_has_theme_json()`. This is to account for the `load-styles.php` context in which the former function is unavailable.
    
    Follow up to [56073].
    
    Props SergeyBiryukov, oglekler, spacedmonkey, joemcgill, dd32.
    Fixes #57629.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56085 602fd350-edb4-49c9-b593-d223f7449a82

commit 28c879ecc49e3e4abfe27bb5a4fa8d4dd6fd5951
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Wed Jun 28 03:56:48 2023 +0000

    Editor: update function name in test comment.
    
    Renames `gutenberg_apply_typography_support` to `wp_apply_typography_support` in typography test comment.
    
    Props kebbet, oglekler, ramonopoly.
    See #58522.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56084 602fd350-edb4-49c9-b593-d223f7449a82

commit 518a4fc53c6923058b5c8ff51ca06f5846483586
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Wed Jun 28 03:47:17 2023 +0000

    Editor: add Post Template fallback styles.
    
    Adds fallback styles necessary for classic themes to display the correct Post Template layout.
    
    Props mikeschroder, ramonopoly.
    Fixes #58570.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56083 602fd350-edb4-49c9-b593-d223f7449a82

commit c345180c29369eb11a53b9f55cbc9c19ae9e20f8
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Wed Jun 28 03:33:23 2023 +0000

    REST API: add revisions endpoint for global styles.
    
    Adds an endpoint that returns revisions to the global styles custom post.
    
    Props ramonopoly, peterwilsoncc, spacedmonkey, mukesh27, timothyblynjacobs.
    Fixes #58524.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56082 602fd350-edb4-49c9-b593-d223f7449a82

commit 36c819db7e1039ca1eaa84418523b7f82bf31100
Author: audrasjb <audrasjb@602fd350-edb4-49c9-b593-d223f7449a82>
Date:   Tue Jun 27 23:31:01 2023 +0000

    Twenty Ten: Prevent Block Inserter icon color override.
    
    This changeset prevents the likes of `body * { color: #000; }` in custom styles to override the Block Inserter icon styles.
    
    Props umesh84, kajalgohel, sabernhardt, pooja1210, amin7.
    Fixes #57414.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56081 602fd350-edb4-49c9-b593-d223f7449a82

commit 7d6af24cdf8d3aa21ee464f530e48e4970575308
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Jun 27 22:40:45 2023 +0000

    Twenty Ten: Reflect Heading block text color on front-end.
    
    This changeset fixes an issue where the selected text color of the Heading block was not reflected on front-end.
    
    Props umesh84, sabernhardt, audrasjb, pooja1210, darshitrajyaguru97.
    Fixes #56603.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56080 602fd350-edb4-49c9-b593-d223f7449a82

commit e527271f2c8d8f9ec07c3b3c707586c92f523bb8
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Tue Jun 27 22:01:22 2023 +0000

    Site Health: Include new `WP_DEVELOPMENT_MODE` in the list of constants.
    
    Follow-up to [56042].
    
    Props kebbet.
    Fixes #58646.
    See #57487.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56079 602fd350-edb4-49c9-b593-d223f7449a82

commit 21bc99303dbb778aacf5406c8ff34a624d1fc598
Author: David Baumwald <davidbaumwald@git.wordpress.org>
Date:   Tue Jun 27 20:32:26 2023 +0000

    Reverting trunk back to alpha status while issues prevented a final 6.3 Beta 1 release.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56078 602fd350-edb4-49c9-b593-d223f7449a82

commit d195a7150e6ddbcd4d870f6154bc020a51e2872d
Author: David Baumwald <davidbaumwald@git.wordpress.org>
Date:   Tue Jun 27 19:56:45 2023 +0000

    WordPress 6.3 Beta 1.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56077 602fd350-edb4-49c9-b593-d223f7449a82

commit 81bcd9d64e95d2bf77c80dfebcb4f1adaf35f431
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Tue Jun 27 18:25:20 2023 +0000

    Editor: Update npm WordPress npm packages.
    
    This fixes a fatal error in the Navigation block, which was due to a reference
    to `WP_Navigation_Fallback_Gutenberg` that isn’t present in Core under that name.
    
    Follow-up to [56065].
    Props ramonjd, isabel_brison, dmsnell.
    Fixes #58623.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56076 602fd350-edb4-49c9-b593-d223f7449a82

commit 507cab8d6f5d469c6b0131bb07a45eb6f0c6724e
Author: K. Adam White <kadamwhite@git.wordpress.org>
Date:   Tue Jun 27 17:24:44 2023 +0000

    REST API: Check post meta update authorization only when value is changed.
    
    Resolves a bug where a post save will be reported as failed if the post includes any meta keys the current user does not have authorization to update, even when those meta values are unchanged.
    Write authorization is now checked for a meta key only when the value of that key has changed, so that passing a REST response back unchanged will not cause failures.
    Authorization is only needed when data will be updated.
    
    Props ckoerner, TimothyBlynJacobs, spacedmonkey
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56075 602fd350-edb4-49c9-b593-d223f7449a82

commit f9eaba01e11c11e140f20331139a1d20e43a8982
Author: Weston Ruter <westonruter@git.wordpress.org>
Date:   Tue Jun 27 17:22:59 2023 +0000

    Emoji: Optimize emoji loader with `sessionStorage`, `willReadFrequently`, and `OffscreenCanvas`.
    
    * Use `sessionStorage` to remember the previous results of calls to `browserSupportsEmoji()` for 1 week.
    * Optimize reading from canvas by supplying the `willReadFrequently` option for the 2D context.
    * When `OffscreenCanvas` is available, offload `browserSupportsEmoji()` to a web worker to prevent blocking the main thread. This is of primary benefit to Safari which does not yet support `willReadFrequently`.
    * Remove obsolete support for IE11 since promises are now utilized. Nevertheless, ES3 syntax is maintained and IE11 will simply short-circuit.
    
    Props westonruter, dmsnell, peterwilsoncc, valterlorran, flixos90, spacedmonkey, joemcgill.
    Fixes #58472.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56074 602fd350-edb4-49c9-b593-d223f7449a82

commit a13f8969deedad2db04a576dee971a55584eb334
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Tue Jun 27 17:10:28 2023 +0000

    Themes: Use `get_theme_file_path()` in `wp_theme_has_theme_json()`.
    
    Ensure that all places where `theme.json` is included, use `get_theme_file_path` or `WP_Theme->get_file_path`, so that the path is run through `theme_file_path` filter. This change also means that the method `get_file_path_from_theme` can be deprecated, as it is no longer used in core.
    
    Props flixos90, spacedmonkey, costdev, johnbillion, oglekler, hellofromtonya, mukesh27, audrasjb, oandregal.
    Fixes #57629.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56073 602fd350-edb4-49c9-b593-d223f7449a82

commit 87a0ad45a51a0294b9056a06f7fcb15082b7ff3b
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Jun 27 16:26:15 2023 +0000

    Media: Only show “Copy” and “Download” actions when an attachment URL is available.
    
    Includes unit tests to verify the logic for displaying row actions in the Media Library in certain scenarios, e.g. with and without the “Trash” or “Unattached” filter.
    
    Follow-up to [55949].
    
    Props costdev, kebbet, mukesh27, oglekler.
    Fixes #57893.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56072 602fd350-edb4-49c9-b593-d223f7449a82

commit f070ec75f3d0cc94b63f9b30b081ae8ee294d0f8
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Jun 27 16:25:18 2023 +0000

    Users: Introduce the `wp_update_user` action.
    
    This changeset introduces the `wp_update_user` action hook, which fires after the user has been updated and emails have been sent.
    
    Props tanner-m, desrosj, lphoumpakka, oglekler, audrasjb, azzaoz.
    Fixes #57843.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56071 602fd350-edb4-49c9-b593-d223f7449a82

commit 7ce266f2b26d8200806a374af8188478d70c7942
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Jun 27 16:09:19 2023 +0000

    Coding Standards: Fix a PHPCS issue found in `wpPluginsListTable.php`.
    
    This fixes a previously existing issue, discovered after [56068].
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56070 602fd350-edb4-49c9-b593-d223f7449a82

commit 45b080dd5402b72e91c045b1244b773c1fde0573
Author: Mike Schroder <mikeschroder@git.wordpress.org>
Date:   Tue Jun 27 16:06:16 2023 +0000

    Filesystem API: Allow optional inclusion of hidden files in `list_files()`.
    
    Adds a new optional `$include_hidden` parameter to allow the inclusion of hidden (`.` prefixed) files.
    Defaults to false for backward compatibility.
    
    Props yani.iliev, sabernhardt, costdev, rutviksavsani, zunaid321, azaozz.
    Fixes #53659.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56069 602fd350-edb4-49c9-b593-d223f7449a82

commit 929c270cf9e5a7577da8712a2d57586c79611e5a
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Jun 27 16:00:00 2023 +0000

    Plugins: Introduce the `plugins_list` filter.
    
    This changeset adds the `plugins_list` hook, which can be use to filter the list of plugin displayed on WP Admin Plugins screen.
    
    Props nateallen, fischfood, mukesh27, peterwilsoncc, SergeyBiryukov, audrasjb, costdev, ecorica, zunaid321.
    Fixes #57278.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56068 602fd350-edb4-49c9-b593-d223f7449a82

commit b66fcb55e5d42b6e4d18a100dc3762e3d9b5ed6d
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Jun 27 15:25:00 2023 +0000

    Menus: Allow themes and plugins to pass HTML attributes to various Nav Walker outputs.
    
    This introduces a new set of hooks that can be used to filter various HTML elements of the Nav Walker, in order to output the desired HTML attributes:
    
    - List items: `nav_menu_item_attributes`
    - Submenu `<ul>` element: `nav_menu_submenu_attributes`
    
    Props davidwebca, danyk4, costdev, peterwilsoncc, audrasjb, oglekler.
    Fixes #57140.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56067 602fd350-edb4-49c9-b593-d223f7449a82

commit 1d543a59f61f32bfad709bf5cfe9947323b762bf
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Tue Jun 27 14:33:39 2023 +0000

    Database: Move the if statement outside of the loop.
    
    In the foreach loop of last results, move the if statement outside of the loop. There is no need to check every element in the array for the output type. Do this once outside of the loop. For large database queries with lots of rows returned, this should improve PHP performance.
    
    Props spacedmonkey, Cybr, johnbillion, costdev, joemcgill.
    Fixes #56541.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56066 602fd350-edb4-49c9-b593-d223f7449a82

commit a710b97e7c7463d663664f7266ce6d72eb95238c
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Tue Jun 27 14:20:18 2023 +0000

    Editor: update Wordpress npm packages.
    
    Updates the wordpress npm packages and their dependencies to the latest versions, as well as auto-updates to relevant core PHP files.
    
    Props youknowriad, joemcgill, spacedmonkey, ramonopoly, peterwilsoncc, bernhard-reiter, tyxla, dmsnell.
    Fixes #58623.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56065 602fd350-edb4-49c9-b593-d223f7449a82

commit 30d6172eed95667020e7de6c29f6997e1e50e2a3
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Tue Jun 27 11:26:12 2023 +0000

    Script Loader: Fix performance issues in `wp_common_block_scripts_and_styles`.
    
    In [52069] the function `wp_common_block_scripts_and_styles` was changed load individual theme stylesheets, if the current theme supports block styles and loading separate core block assets. To do this, the function calls many expensive file operation functions, such as `glob`, `file_exists` and `file_get_contents`. This is wasteful, as these functions are loaded on every page request, even request that do not include blocks, like REST API calls. In [56044] all core block styles are registered in a single place. In `register_core_block_style_handles` calls `glob` to get all css styles in block directories. While registering style and editor styles, also register block theme styles, under a new style handle. Example `wp-block-avatar-theme`. If the current theme supports block styles, also request the block to enqueue the theme style on the front end. As these new stylesheets have a path attribute set, the function `wp_maybe_inline_styles` will automatically inline the styles for you.
    
    Props spacedmonkey, flixos90, oandregal, costdev, audrasjb, mukesh27.
    Fixes #58560.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56064 602fd350-edb4-49c9-b593-d223f7449a82

commit c27f776a6af7b19b676e8dbdfd8c1b6c8467a229
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Tue Jun 27 11:11:02 2023 +0000

    Editor: allow filtering block patterns by source.
    
    Extends the REST API endpoint for block patterns to provide a source attribute that can be used to filter patterns.
    
    Props aaronrobertshaw, mukesh27, talldanwp, ramonopoly.
    Fixes 58622.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56063 602fd350-edb4-49c9-b593-d223f7449a82

commit 27cee0b0d1818b8d1dee27fa693264b8cf8105ae
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Jun 27 10:43:32 2023 +0000

    Twenty Nineteen: Always set background color and foreground color together.
    
    On the `<body>` element, as a best practice background color and text color should always be set together. This makes it easier to quickly understand the
    underlying color scheme.
    
    Follow-up to [55960], [55964].
    
    Props sabernhardt, audrasjb, kebbet.
    Fixes #45916.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56062 602fd350-edb4-49c9-b593-d223f7449a82

commit efc70bed11caad16b1e754676543e638b5f8b8f4
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Tue Jun 27 10:39:55 2023 +0000

    Options, Meta APIs: Prime network options in a single cache call using wp_cache_get_multiple.
    
    Tweak the `wp_load_core_site_options` function, to also prime network options using `wp_cache_get_multiple` if persistent object cache is present.
    
    Props mukesh27, oglekler, peterwilsoncc, costdev, jeremyfelt, spacedmonkey.
    Fixes #56913.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56061 602fd350-edb4-49c9-b593-d223f7449a82

commit 02ea2f1d75a77d014708fd0d38677e85065742e9
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Tue Jun 27 10:13:07 2023 +0000

    Themes: Block template is located twice in `get_query_template()`.
    
    When the function `_template_loader_filters` was ported to core from gutenberg, it retained the filter to load block templates. However, the function `locate_block_template` is called manually in `get_query_template`, so this filter is not needed. Calling `locate_block_template` twice, results in performance issue, as `locate_block_template` is a expensive function to run, as it does database and file lookups.
    
    
    Props dlh, mukesh27, flixos90, SergeyBiryukov, bernhard-reiter, spacedmonkey.
    Fixes #58299.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56060 602fd350-edb4-49c9-b593-d223f7449a82

commit 1ef856c8d6cfdc1c6bbf668f22d3497bf254e92d
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Tue Jun 27 09:34:34 2023 +0000

    General: add block theme previews.
    
    Adds a preview link to block themes in the themes screen, opening the previews in the site editor.
    
    Props onemaggie, andraganescu, audrasjb, flixos90, peterwilsoncc, spacedmonkey, scruffian.
    Fixes #58561.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56059 602fd350-edb4-49c9-b593-d223f7449a82

commit 8b9d8d8a9f96e7e810f30e94fba3040c3ebbf61a
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Tue Jun 27 08:46:45 2023 +0000

    Editor: refactor and stabilize selectors API.
    
    Restructures the block.json selectors API by moving `__experimentalSelector` props into their own config, stabilizing the selectors API, and enabling more flexible styling options.
    
    Props ramonopoly, spacedmonkey, aaronrobertshaw, onemaggie.
    Fixes #58586.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56058 602fd350-edb4-49c9-b593-d223f7449a82

commit 456ebf5adb2c12f91fc6d1c9efc91543af98d5c1
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Jun 27 08:09:29 2023 +0000

    Twenty Nineteen: Add fragment ID to paginated links.
    
    This changeset adds the `#content` fragment identifier to paginated links so the screen scrolls down to the content section when clicking on pagination links
    located on paginated pages.
    
    Props laurelfulford, mukesh27, joyously, poena, alvitazwar052, oglekler, audrasjb.
    Fixes #45920.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56057 602fd350-edb4-49c9-b593-d223f7449a82

commit f0f0be74f2f2590176e0f4856b74f91e712ee6c1
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Jun 27 08:02:46 2023 +0000

    Site Health: Add server time debug data.
    
    This changeset adds "Current time, "Current UTC time" and "Current Server time" under the "Server" section of Site Health debug infos. This provides the
    current time, the server time, and allow for comparison if there's some time-related issues.
    
    Props sebastienserre, Clorith, audrasjb, kebbet, robinwpdeveloper, hrrarya, mukesh27, hareesh-pillai, costdev.
    Fixes #56378.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56056 602fd350-edb4-49c9-b593-d223f7449a82

commit 7e9385e485ff18fbfbb5c287cd81ef9181a5b6c0
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Tue Jun 27 07:23:04 2023 +0000

    Editor: stabilise layout and refactor definitions.
    
    Marks the layout support stable and moves layout definitions from `theme.json` into `wp-includes/block-supports/layout.php`.
    
    Props andrewserong, poena, ramonopoly, peterwilsoncc.
    Fixes #58550.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56055 602fd350-edb4-49c9-b593-d223f7449a82

commit 14a30703e550e8477a07d59879e55905dff3bd7c
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Tue Jun 27 06:36:02 2023 +0000

    Editor: navigation post preloading.
    
    Adds a hook for preloading navigation posts in site editor.
    
    Props get_dave, spacedmonkey, audrasjb, ramonopoly.
    Fixes #58556.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56054 602fd350-edb4-49c9-b593-d223f7449a82

commit 7c4c4a8665a3633561780ac963f0bdec8a1e47c1
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Tue Jun 27 06:00:59 2023 +0000

    Editor: fix post edit navigation link.
    
    Adds a custom link for navigation post types.
    
    Props get_dave, spacedmonkey, ramonopoly.
    Fixes #58589.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56053 602fd350-edb4-49c9-b593-d223f7449a82

commit 3d551af3f27a70e581ce06ea5bc7a6e6dee4a3f8
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Tue Jun 27 05:52:06 2023 +0000

    Editor: add navigation fallback.
    
    Creates a fallback menu for the Navigation block including an API endpoint to retrieve it.
    
    Props get_dave, spacedmonkey, kebbet, flixos90, mikeschroder, ramonopoly, audrasjb.
    Fixes 58557.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56052 602fd350-edb4-49c9-b593-d223f7449a82

commit a44e46b914fca5c58f0ef8cbb7ecfc1169213363
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Tue Jun 27 05:34:12 2023 +0000

    REST API: ignore empty templates.
    
    Ignore empty templates when using the `/lookup` endpoint in the `WP_REST_Templates_Controller` class.
    
    Props ramonopoly, jorgefilipecosta, spacedmonkey, youknowriad, mukesh27.
    Fixes #58615.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56051 602fd350-edb4-49c9-b593-d223f7449a82

commit 44a71b595e455e7d3f6422968ee575cb8c02fdf1
Author: Dion Hulse <dd32@git.wordpress.org>
Date:   Tue Jun 27 05:09:52 2023 +0000

    Upgrade/Install: Pass the full database version string to WordPress.org for parsing.
    
    This aims to make the provided statistical data more complete, by correctly identifying the version for a wider selection of database types and servers.
    
    Props mukesh27, costdev, spacedmonkey, johnbillion.
    Fixes #58584.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56050 602fd350-edb4-49c9-b593-d223f7449a82

commit 12ed5ccb0a61cf684682a94e9b9c02dd11bb7d75
Author: Joe McGill <joemcgill@git.wordpress.org>
Date:   Tue Jun 27 01:27:14 2023 +0000

    Revert unnecessary changes to .jshintrc files.
    
    This reverts changes to the .jshintrc file that were included in r56033.
    
    Props TobiasBg.
    See #12009.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56049 602fd350-edb4-49c9-b593-d223f7449a82

commit 4aeb284d44ff29b3b67dc568b6f8f0472a0e62c8
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Tue Jun 27 00:43:42 2023 +0000

    Editor: Update block-serialization-default-parser package for WP 6.3 Beta 1.
    
    Update the `@wordpress/block-serialization-default-parser` to 4.35.1 for WordPress 6.3 Beta 1. These changes split the following classes in to their own files in order to match the WordPress PHP coding standards:
    
    * `WP_Block_Parser_Block`
    * `WP_Block_Parser_Frame`
    * `WP_Block_Parser`
    
    These classes were previously all included in the `src/wp-includes/class-wp-block-parser.php` file. In order to maintain backward compatibly for developers requiring the file directly, the relocated classes are replaced with `require_once` calls in the original file.
    
    In order to retain the commit history of the new files, they have been created using the `svn copy` command.
    
    Props aristath, rajanpanchal2028, jrf, SergeyBiryukov, costdev, manfcarlo, spacedmonkey, mukesh27, isabel_brison, dd32.
    Fixes #57832.
    See #58623.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56048 602fd350-edb4-49c9-b593-d223f7449a82

commit a7a32c378c3d41acb98f255aba1c908bafd17983
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Tue Jun 27 00:21:12 2023 +0000

    Editor: add iframe around post editor.
    
    Adds an iframe around the post editor only if all registered blocks are v3 or higher.
    
    Props ellatrix, mukesh27, costdev, oandregal, ramonopoly.
    Fixes #58626.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56047 602fd350-edb4-49c9-b593-d223f7449a82

commit e55e9c2f0c7925aea6594ec97ff539075362598b
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Mon Jun 26 23:42:16 2023 +0000

    Editor: add box shadow support to blocks.
    
    Adds the ability for blocks to declare support for CSS box-shadow and processing of necessary styles.
    
    Props madhudollu, sabernhardt, ramonopoly, spacedmonkey, mukesh27.
    Fixes #58590.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56046 602fd350-edb4-49c9-b593-d223f7449a82

commit 5b483bfe4f1bcf35642393f2375f7dad004fd3b1
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Mon Jun 26 21:31:30 2023 +0000

    Twenty Twenty: Remove various unused function parameters and variables.
    
    This removes the `$n` variable from `TwentyTwenty_Walker_Page` class `start_el()` function, removes an unused global and the last parameter from
    `twentytwenty_filter_wp_list_pages_item_classes()` and `twentytwenty_add_sub_toggles_to_main_menu()`.
    
    Props upadalavipul, sabernhardt, mukesh27.
    Fixes #57371.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56045 602fd350-edb4-49c9-b593-d223f7449a82

commit d8409a205a40a9c5a69d668a9aa2aa3123f4c3e5
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Mon Jun 26 21:15:21 2023 +0000

    Editor: Register core block styles in one place.
    
    Register all core blocks in a new function called `register_core_block_style_handles`. This mirrors the function `wp_default_styles` where all core styles are registered in one place. This improves block registration performance, as it avoids expensive file lookups, like realpath in `register_block_style_handle`. The new function `register_core_block_style_handles` uses `glob` to get all css files in the blocks directory. This glob is cached in a transient to save lookups on subsequent requests. The function `register_block_style_handle` now checks to see if the style handle is already registered before trying to register it again.
    
    Props mukesh27, westonruter, flixos90, joemcgill, spacedmonkey.
    Fixes #58528.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56044 602fd350-edb4-49c9-b593-d223f7449a82

commit c1a397536752d3636fcf43250a56bc40c5a0d9c1
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Mon Jun 26 20:55:04 2023 +0000

    Posts, Post Types: Add a `$previous_status` parameter to `wp_trash_post()` related hooks.
    
    This adds a `$previous_status` parameter to the `pre_trash_post`, `wp_trash_post`, and `trashed_post` hooks.
    
    Props mujuonly, mukesh27, nihar007, dhruvishah2203, SergeyBiryukov, costdev, hugod, audrasjb, oglekler.
    Fixes #58392.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56043 602fd350-edb4-49c9-b593-d223f7449a82

commit 4a16702090984caef24af5a07d598cc5afff2fdc
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Mon Jun 26 19:55:28 2023 +0000

    General: Introduce `WP_DEVELOPMENT_MODE` constant to signify context-specific development mode.
    
    In recent releases, WordPress core added several instances of cache usage around specific files. While those caches are safe to use in a production context, in development certain nuances apply for whether or not those caches make sense to use. Initially, `WP_DEBUG` was used as a temporary workaround, but it was clear that a more granular method to signify a specific development mode was required: For example, caches around `theme.json` should be disabled when working on a theme as otherwise it would disrupt the theme developer's workflow, but when working on a plugin or WordPress core, this consideration does not apply.
    
    This changeset introduces a `WP_DEVELOPMENT_MODE` constant which, for now, can be set to either "core", "plugin", "theme", or an empty string, the latter of which means no development mode, which is also the default. A new function `wp_get_development_mode()` is the recommended way to retrieve that configuration value.
    
    With the new function available, this changeset replaces all existing instances of the aforementioned `WP_DEBUG` workaround to use `wp_get_development_mode()` with a more specific check.
    
    Props azaozz, sergeybiryukov, peterwilsoncc, spacedmonkey.
    Fixes #57487.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56042 602fd350-edb4-49c9-b593-d223f7449a82

commit 88de9a9d8efe13a21ebdcdfbf6f87d78875c8f0e
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Mon Jun 26 18:13:04 2023 +0000

    Editor: Add a `description` key to `theme.json` style variations.
    
    This changeset adds `description` to `VALID_TOP_LEVEL_KEYS` in `class-wp-theme-json.php` to allow for accessibility improvements. The description is added to
    the ARIA label of the style variation container. If the style variation has no description, only the title is used. One purpose is to use the text description
    to improve the style variation preview in the WordPress.org theme directory.
    
    See https://github.com/WordPress/gutenberg/pull/45242.
    
    Props ramonopoly, poena.
    Fixes #58614.
    
     --Cette ligne, et les suivantes ci-dessous, seront ignorées--
    
    M    trunk/src/wp-includes/class-wp-theme-json.php
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56041 602fd350-edb4-49c9-b593-d223f7449a82

commit d638b012e8b71d1a3104f06bc6c64beabd49eb3b
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Mon Jun 26 17:27:55 2023 +0000

    Twenty Twenty: Revert [56034] pending further investigation.
    
    This changeset reverts [56034] as the Test Default Themes & Create ZIPs workflow is failing.
    
    Follow-up to [56034], [56039].
    
    See #58396.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56040 602fd350-edb4-49c9-b593-d223f7449a82

commit 902353c4a0669027ce268096571c196a3baea94c
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Mon Jun 26 16:58:43 2023 +0000

    Twenty Twenty: Fix an RTL style issue leading to failed Test Default Themes & Create ZIPs workflow.
    
    Follow-up to [56034].
    
    Props sabernhardt, davidbaumwald.
    Fixes #58396.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56039 602fd350-edb4-49c9-b593-d223f7449a82

commit c7597fa62f4705415ff0029593bf01f8757d2d0c
Author: Weston Ruter <westonruter@git.wordpress.org>
Date:   Mon Jun 26 16:58:38 2023 +0000

    Editor: Use static closures to avoid memory leaks.
    
    Backports Gutenberg changes from https://github.com/WordPress/gutenberg/pull/50723.
    
    Amends [55822].
    
    Fixes #58323.
    Props westonruter, spacedmonkey, flixos90.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56038 602fd350-edb4-49c9-b593-d223f7449a82

commit b6fde03ef7f9a1d89940984f37532d2076cb9e6e
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Mon Jun 26 16:15:12 2023 +0000

    Media: Automatically add `fetchpriority="high"` to hero image to improve load time performance.
    
    This changeset adds support for the `fetchpriority` attribute, which is typically added to a single image in each HTML response with a value of "high". This enhances load time performance (also Largest Contentful Paint, or LCP) by telling the browser to prioritize this image for downloading even before the layout of the page has been computed. In lab tests, this has shown to improve LCP performance by ~10% on average.
    
    Specifically, `fetchpriority="high"` is added to the first image that satisfies all of the following conditions:
    * The image is not lazy-loaded, i.e. does not have `loading="lazy"`.
    * The image does not already have a (conflicting) `fetchpriority` attribute.
    * The size of of the image (i.e. width * height) is greater than 50,000 squarepixels.
    
    While these heuristics are based on several field analyses, there will always be room for optimization. Sites can customize the squarepixel threshold using a new filter `wp_min_priority_img_pixels` which should return an integer for the value.
    
    Since the logic for adding `fetchpriority="high"` is heavily intertwined with the logic for adding `loading="lazy"`, yet the features should work decoupled from each other, the majority of code changes in this changeset is refactoring of the existing lazy-loading logic to be reusable. For this purpose, a new function `wp_get_loading_optimization_attributes()` has been introduced which returns an associative array of performance-relevant attributes for a given HTML element. This function replaces `wp_get_loading_attr_default()`, which has been deprecated. As another result of that change, a new function `wp_img_tag_add_loading_optimization_attrs()` replaces the more specific `wp_img_tag_add_loading_attr()`, which has been deprecated as well.
    
    See https://make.wordpress.org/core/2023/05/02/proposal-for-enhancing-lcp-image-performance-with-fetchpriority/ for the original proposal and additional context.
    
    Props thekt12, joemcgill, spacedmonkey, mukesh27, costdev, 10upsimon.
    Fixes #58235.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56037 602fd350-edb4-49c9-b593-d223f7449a82

commit fb9929cc267e746f6a3d3d2258904ef23cb76b96
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Mon Jun 26 15:48:23 2023 +0000

    Twenty Nineteen: Ensure Separator block supports theme colors in editor.
    
    This fixes a bug in the Editor, where the Separator block did not support background color selections other than white and light gray.
    
    Props nidhidhandhukiya, sabernhardt, shailu25, harshgajipara, mukesh27, costdev, zunaid321.
    Fixes #58558.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56036 602fd350-edb4-49c9-b593-d223f7449a82

commit fbc337d7b2fc4324768404a4076a04c734007bac
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Mon Jun 26 15:41:25 2023 +0000

    Tools: Fix unresolvable conflicts computation in package sync script.
    
    Computation of unresolvable version conflicts in the Gutenberg package
    sync script had a few issues that were causing it to fail, among them
    two type errors in the destructuring of function arguments.
    Furthermore, de-duplication of required package versions was missing,
    leading to false positives being reported, when multiple instances of
    the same package all required the same version.
    
    Props dmsnell.
    Fixes #58628.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56035 602fd350-edb4-49c9-b593-d223f7449a82

commit 7e6cd72166b1b1ade86ed5018470ce957f67f33e
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Mon Jun 26 15:04:22 2023 +0000

    Twenty Twenty: Fix left margin in Latest Posts & Latest Comments blocks.
    
    This fixes a bug where the `margin-left: auto` property was being overwritten to `margin-left: 0` causing an inconsistency in the alignment of these blocks.
    
    Props nkeller15, nadimcse, sabernhardt, tb1909, poena.
    Fixes #58396.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56034 602fd350-edb4-49c9-b593-d223f7449a82

commit 613b0e7dc91f9f94c640717df01b636d0cfea539
Author: Joe McGill <joemcgill@git.wordpress.org>
Date:   Mon Jun 26 13:40:31 2023 +0000

    Script Loader: Add support for HTML 5 "async" and "defer" attributes.
    
    This allows developers to register scripts with an intended loading strategy by changing the `$in_footer` parameter of `wp_register_script` and `wp_enqueue_script` to an array that accepts both an `in_footer` and `strategy` argument. If present, the loading strategy attribute will be added to the script tag when that script is printed to the page as long as it is not a dependency of any blocking scripts, including any inline scripts attached to the script or any of its dependents.
    
    Props 10upsimon, thekt12, westonruter, costdev, flixos90, spacedmonkey, adamsilverstein, azaozz, mukeshpanchal27, mor10, scep, wpnook, vanaf1979, Otto42.
    Fixes #12009.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56033 602fd350-edb4-49c9-b593-d223f7449a82

commit 4d6c6eefae74aa3d41a6ce80734a5f67b48f5f91
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Jun 26 10:42:54 2023 +0000

    Code Modernization: Use `str_contains()` in a few more places.
    
    `str_contains()` was introduced in PHP 8.0 to perform a case-sensitive check indicating if the string to search in (haystack) contains the given substring (needle).
    
    WordPress core includes a polyfill for `str_contains()` on PHP < 8.0 as of WordPress 5.9.
    
    This commit replaces `false !== strpos( ... )` with `str_contains()` in core files, making the code more readable and consistent, as well as better aligned with modern development practices.
    
    Follow-up to [55988], [56021], [56031].
    
    See #58206.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56032 602fd350-edb4-49c9-b593-d223f7449a82

commit 997abf4009994d10f1ea2cb971ab80dacfbf71e4
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Jun 26 10:15:04 2023 +0000

    Code Modernization: Use `str_contains()` in a few more places.
    
    `str_contains()` was introduced in PHP 8.0 to perform a case-sensitive check indicating if the string to search in (haystack) contains the given substring (needle).
    
    WordPress core includes a polyfill for `str_contains()` on PHP < 8.0 as of WordPress 5.9.
    
    This commit replaces `false !== strpos( ... )` with `str_contains()` in core files, making the code more readable and consistent, as well as better aligned with modern development practices.
    
    Follow-up to [55988], [56021].
    
    See #58206.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56031 602fd350-edb4-49c9-b593-d223f7449a82

commit b524268be4a154626b0d1a6885082793ebfc0b38
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Mon Jun 26 08:55:31 2023 +0000

    Editor: rename reusable blocks to patterns.
    
    Renames the Reusable blocks to Patterns and adds an option to convert a block or collection of blocks to a non-synced Pattern.
    
    Props glendaviesnz, ramonopoly, peterwilsoncc, timothyblynjacobs, flixos90.
    Fixes #58577.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56030 602fd350-edb4-49c9-b593-d223f7449a82

commit 9d4f4a9b9a0df573af1722ac34843092b0e3886f
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Mon Jun 26 04:46:39 2023 +0000

    Editor: fix site editor layout bug.
    
    Removes additional wrapper introduced in [56025], which interfered with the site editor flex layout.
    
    Props ramonopoly, kevin940726, joedolson.
    Fixes 56228.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56029 602fd350-edb4-49c9-b593-d223f7449a82

commit f571f4519b116c4e4dcccf4d4c461b010c6a29f0
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Mon Jun 26 01:13:56 2023 +0000

    Editor: add support for block-level link hover colors.
    
    Adds the ability to set link hover colors for individual blocks from the block inspector color panel.
    
    Props @youknowriad, @peterwilsoncc, @kebbet.
    Fixes #58575.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56028 602fd350-edb4-49c9-b593-d223f7449a82

commit 3381afd631001e48674cb38cdf8e99f6f07e580d
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Sun Jun 25 22:55:34 2023 +0000

    Upgrade/Install: Update 'show details' button change.
    
    Add a up/down arrow for visual affordance about the purpose of the button link; change button text from "Show details" to "More details".
    
    Props krupajnanda, subrataemfluence, audrasjb, afercia, nrqsnchz, joedolson.
    Fixes #44714.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56027 602fd350-edb4-49c9-b593-d223f7449a82

commit c5a7371545b019cb6ae6c73576c5c30a0aceca5f
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Sun Jun 25 21:11:51 2023 +0000

    Administration: Fix visual regression in media search input.
    
    Follow up to [r56023]. Improve handling of breakpoint between 782 and 1000px for media grid view & repair styles for media modal search input.
    
    Props kebbet, joedolson.
    Fixes #57949.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56026 602fd350-edb4-49c9-b593-d223f7449a82

commit aef1cb9847e9e513e0f4a7a4fe93c54ddabf6168
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Sun Jun 25 19:52:43 2023 +0000

    Editor: Add no-js fallback for site editor.
    
    Add a fallback condition with heading and error notice to handle a no JavaScript state for the site editor, comparable to what already exists in the post editor.
    
    Props afercia, joedolson, fencermonir, zebaafiashama, alexstine, rudlinkon.
    Fixes #56228.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56025 602fd350-edb4-49c9-b593-d223f7449a82

commit ba4ada5d0b01a05111c63b46ec4c65e99b5742e2
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Sun Jun 25 18:42:56 2023 +0000

    Upgrade/Install: Add aria-describedby for input descriptions.
    
    Accessibly associate field description text with relevant input fields. Add `aria-describedby` and target IDs for each description field. Update privacy text note to better reflect relevancy to specific fields.
    
    Props costdev, joedolson.
    Fixes #58613.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56024 602fd350-edb4-49c9-b593-d223f7449a82

commit ced07754fa79c2574a8edf61a5da11819b2a061d
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Sun Jun 25 17:20:01 2023 +0000

    Administration: Consistent positioning and size of search form.
    
    Move the visual positioning of the posts search form into it's DOM position. Fixes an accessibility bug where the keyboard focus sequence did not match the visual order. Change the media search form in list view to match the format of other post views. Give search forms a consistent layout on mobile.
    
    Props oglekler, sabernhardt, joedolson.
    Fixes #57949.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56023 602fd350-edb4-49c9-b593-d223f7449a82

commit ed54bb7444deef059a5bf0cad5592af7634398d9
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Sun Jun 25 15:18:12 2023 +0000

    Quick/Bulk Edit: Don't set publish date when editing drafts.
    
    Ensure that quick edit does not define a publish date if the post status is one of 'draft', 'pending', or 'auto-draft'.
    
    Props uxtremist, SergeyBiryukov, Denis-de-Bernardy, jane, rfischmann, mista-flo, rutviksavsani, oglekler, joedolson.
    Fixes #19907.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56022 602fd350-edb4-49c9-b593-d223f7449a82

commit 7a6bff44fcae987548e55542e2f4db3c726efe99
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Jun 25 10:48:28 2023 +0000

    Code Modernization: Use `str_contains()` in a few more places.
    
    `str_contains()` was introduced in PHP 8.0 to perform a case-sensitive check indicating if the string to search in (haystack) contains the given substring (needle).
    
    WordPress core includes a polyfill for `str_contains()` on PHP < 8.0 as of WordPress 5.9.
    
    This commit replaces `false !== strpos( ... )` with `str_contains()` in core files, making the code more readable and consistent, as well as better aligned with modern development practices.
    
    Follow-up to [55988].
    
    Props spacedmonkey.
    See #58220.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56021 602fd350-edb4-49c9-b593-d223f7449a82

commit 89676d88a2286b88a4e7a2d5d83299cb9052c392
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Jun 24 17:15:06 2023 +0000

    Code Modernization: Use `str_starts_with()` and `str_ends_with()` in a few more places.
    
    `str_starts_with()` and `str_ends_with()` were introduced in PHP 8.0 to perform a case-sensitive check indicating if the string to search in (haystack) begins or ends with the given substring (needle).
    
    WordPress core includes a polyfill for these functions on PHP < 8.0 as of WordPress 5.9.
    
    Follow-up to [55990], [56014], [56019].
    
    See #58220.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56020 602fd350-edb4-49c9-b593-d223f7449a82

commit c226fa18f0877b86dc33947a92d304d67d0fc406
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Jun 24 16:48:25 2023 +0000

    Code Modernization: Use `str_starts_with()` and `str_ends_with()` in a few more places.
    
    `str_starts_with()` and `str_ends_with()` were introduced in PHP 8.0 to perform a case-sensitive check indicating if the string to search in (haystack) begins or ends with the given substring (needle).
    
    WordPress core includes a polyfill for these functions on PHP < 8.0 as of WordPress 5.9.
    
    Follow-up to [55990], [56014].
    
    See #58220.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56019 602fd350-edb4-49c9-b593-d223f7449a82

commit d932659aba34e5fc38af663a346f42311a98408f
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Sat Jun 24 14:30:31 2023 +0000

    Editor: Improve accessibility of new custom field UI.
    
    Add labels; change Enter new/Cancel link to a button; move focus to input when creating new field; move Add Custom Field out of fields table.
    
    Props jane, batmoo, karmatosed, franrosa, sabernhardt, annashopina, oglekler, joedolson.
    Fixes #15631.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56018 602fd350-edb4-49c9-b593-d223f7449a82

commit ffc386bfbd2f7646304f5cf8675ee18f7091a2b4
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Jun 24 13:52:11 2023 +0000

    Coding Standards: Use Yoda condition in `str_ends_with()`.
    
    This resolves a WPCS error:
    {{{
    Use Yoda Condition checks, you must.
    }}}
    
    Follow-up to [56015], [56016].
    
    See #58220.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56017 602fd350-edb4-49c9-b593-d223f7449a82

commit 0fd9ee91ecba2d513bd8305a9ba47165316e1e3b
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Jun 24 13:38:44 2023 +0000

    General: Return early from `str_ends_with()` polyfill if both haystack and needle are empty.
    
    Prior to PHP 7.0, `substr( '', -0, 0 )` returns `false` instead of an empty string, so the strict comparison further in the function did not work as expected.
    
    This commit addresses a test failure on PHP < 7.0, making the function consistently return `true` if both haystack and needle are an empty string.
    
    Follow-up to [52040], [56014], [56015].
    
    See #58220.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56016 602fd350-edb4-49c9-b593-d223f7449a82

commit 0783feeeca2d6afb0c556a1fdc8150543038fbf6
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Jun 24 13:00:15 2023 +0000

    General: Replace `substr_compare()` usage in the `str_ends_with()` polyfill.
    
    This avoids a warning on PHP < 7.2.18 if haystack is an empty string:
    {{{
    Warning: substr_compare(): The start position cannot exceed initial string length
    }}}
    
    Follow-up to [52040], [55158], [55990], [56014].
    
    See #58220.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56015 602fd350-edb4-49c9-b593-d223f7449a82

commit b1ebb813bfcc87d465bfcdca02d5afba553cc81b
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Jun 24 09:50:34 2023 +0000

    Code Modernization: Use `str_ends_with()` in a few more places.
    
    `str_ends_with()` was introduced in PHP 8.0 to perform a case-sensitive check indicating if the string to search in (haystack) ends with the given substring (needle).
    
    WordPress core includes a polyfill for `str_ends_with()` on PHP < 8.0 as of WordPress 5.9.
    
    Follow-up to [55990].
    
    See #58220.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56014 602fd350-edb4-49c9-b593-d223f7449a82

commit e628c736c80b27fed5ce766fe534ebdee2882d13
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Sat Jun 24 05:28:15 2023 +0000

    Administration: Reduce translation calls after [55969].
    
    Follow-up to [55969].
    
    Props swissspidy, sabernhardt.
    Fixes #57675.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56013 602fd350-edb4-49c9-b593-d223f7449a82

commit ef6c0b7e4278a8383a45d49e847354cdf98f39ed
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Sat Jun 24 05:12:28 2023 +0000

    Twenty Seventeen: Make `twentyseventeen_is_static_front_page()` an alias of `twentyseventeen_is_frontpage()`.
    
    Since both functions return the exact same thing, this changeset makes `twentyseventeen_is_static_front_page()` an alias of `twentyseventeen_is_frontpage()`
    and updates the related docblocks and function callback.
    
    Props mukesh27, soulseekah, swissspidy, sabernhardt, audrasjb, SergeyBiryukov, hareesh-pillai.
    Fixes #43515.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56012 602fd350-edb4-49c9-b593-d223f7449a82

commit eb9f60f605d236d8c179ba28e253ef1b4d04bdc5
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Sat Jun 24 04:20:55 2023 +0000

    Coding Standards: Fix undeclared variable issue.
    
    Follow-up to [56009], [56010].
    
    See #40966.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56011 602fd350-edb4-49c9-b593-d223f7449a82

commit a259766796c0bdb97417eebcd7eed594bb8a875d
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Sat Jun 24 04:08:43 2023 +0000

    Coding Standards: Fix missing semicolon after [56009].
    
    See #40966.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56010 602fd350-edb4-49c9-b593-d223f7449a82

commit 37494b0a4fb721118c248c2819f948e750431646
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Sat Jun 24 03:58:37 2023 +0000

    Upgrade/Install: Prevent users from sending multiple bulk plugin updates.
    
    This changeset improves `update.js` by adding `is-enqueued` class to enqueued plugin updates to prevent users from asking for several updates for the same
    plugin at the same time, which previously resulted to …an interesting experience.
    
    Props bitnissen, swissspidy, MarcGuay, xkon, afercia, swissspidy, bookdude13, simonemanfre, vasilism, costdev, zunaid321.
    Fixes #40966.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56009 602fd350-edb4-49c9-b593-d223f7449a82

commit e97a67e7b8a6cbeb88b0d376b04fd15ff926d160
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Fri Jun 23 23:07:10 2023 +0000

    Upgrade/Install: Show/hide toggle on password fields.
    
    Add a show/hide toggle for new passwords in initial user creation and database access during install and setup process using the same model as on user profiles. Add a new password toggle script. Change setup config table to two columns, matching the install table layout.
    
    Props xmarcos, matt, markjaquith, nazgul, akbigdog, intoxination, rob1n, MichaelH, empireoflight, rmccue, markoheijnen, r0uter, amansurov, bi0xid, DrewAPicture, Narthur, wpnook, markparnell, costdev, clorith, ryokuhi, sabernhardt, bgoewert, ironprogrammer, adeltahri, joedolson, mukesh27, audrasjb, sergeybiryukov.
    Fixes #3534.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56008 602fd350-edb4-49c9-b593-d223f7449a82

commit e5be84482e0ab14f69727e8f3f38833d4b0ff5f5
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Jun 23 20:04:30 2023 +0000

    Bootstrap/Load: Require `wp-includes/compat.php` earlier in `wp-settings.php`.
    
    This allows for using polyfill functions in more files, including the `advanced-cache.php` drop-in.
    
    Follow-up to [6108], [46183], [55988], [55990], [56006].
    
    See #58206.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56007 602fd350-edb4-49c9-b593-d223f7449a82

commit 3fe8ea0c0c977db8525e2438204b6ef419c0345b
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Jun 23 19:52:31 2023 +0000

    Bootstrap/Load: Require `wp-includes/compat.php` in `wp-load.php`.
    
    This allows for using polyfill functions if the site is not installed yet.
    
    Follow-up to [28978], [55988].
    
    Props joedolson, dd32.
    See #58206.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56006 602fd350-edb4-49c9-b593-d223f7449a82

commit 915db312abc7e0469385cdc235f065d5799663d0
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Fri Jun 23 18:59:53 2023 +0000

    Editor: Fix block editor styles being registered with frontend stylesheets.
    
    This changeset fixes a bug where WordPress core's own block editor styles (`wp-block-{$block_name}-editor`) were referencing the same CSS files as their frontend equivalents (`wp-block-{$block_name}`). This would result in incorrect frontend styles potentially being loaded in the block editor.
    
    Tests for the related logic have been added.
    
    Props flixos90, joemcgill, mukesh27, spacedmonkey.
    Fixes #58605.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56005 602fd350-edb4-49c9-b593-d223f7449a82

commit 15a9bcad35ae79f5ee701ea047907f8197cd5232
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Fri Jun 23 17:47:34 2023 +0000

    Administration: Backwards compatibility for new sortable keys.
    
    Replace use of `list` to parse array keys into variables. `list` throws errors if the keys don't exist, and many extenders will not define the new array keys. The code path already falls back effectively for empty values.
    
    Also add translator comments to screen reader hidden text, fix a docblock, and fix an HTML error.
    
    Follow up to [r55971].
    
    Props kebbet, chouby, joedolson.
    Fixes #32170.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56004 602fd350-edb4-49c9-b593-d223f7449a82

commit 85e65181899263fcc52e9f012a2b4ec9fd3a854e
Author: Pascal Birchler <swissspidy@git.wordpress.org>
Date:   Fri Jun 23 16:01:08 2023 +0000

    I18N: Ensure `determine_locale()` does not potentially return an empty string.
    
    Call `get_locale()` as a last resort in case the sanitized locale is an empty string.
    
    Also swaps conditionals to cater for more typical use case and adds tests.
    
    Follow-up to [55862]
    
    Props Cybr, swissspidy.
    Fixes #58317.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56003 602fd350-edb4-49c9-b593-d223f7449a82

commit 44e89612d0e205e5ce2a5cf9b301115a414943dc
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Jun 23 15:43:31 2023 +0000

    Script Loader: Replace `str_contains()` usage in `wp-includes/script-loader.php`.
    
    This avoids fatal errors on PHP < 8.0 if the file is included via `wp-admin/load-scripts.php` or `wp-admin/load-styles.php`, in which case the polyfills from `wp-includes/compat.php` are not loaded.
    
    Follow-up to [55703], [55710], [55988].
    
    Props ryelle.
    See #58206.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56002 602fd350-edb4-49c9-b593-d223f7449a82

commit 3a340b69ca204a39d118fdba44c993cf0d2db583
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Fri Jun 23 15:01:28 2023 +0000

    Upgrade/Install: Move location of `$upgrade_notice` for better consistency.
    
    Since the `$auto_upgrade_notice` has been added to the `update-core.php` table listing if an `$upgrade_notice` is present by virtue of the `readme.txt`
    containing data in the `== Upgrade Notice ==` section, this text will appear in between the compatibility information and the auto update information.
    
    This changeset provides a more consistent appearance in the interface.
    
    Props afragen, costdev, zunaid321.
    Fixes #57939.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56001 602fd350-edb4-49c9-b593-d223f7449a82

commit d51e1e66d001ead38335410df4abb0646609b400
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Fri Jun 23 14:51:44 2023 +0000

    Twenty Twenty: Fix Letter Case implementation.
    
    This changeset fixes Letter Case control implementation on the Button block, on both front-end and in the Editor.
    
    Props thakordarshil, pateljaymin, sabernhardt, panchalhimani711, mukesh27.
    See #58526.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@56000 602fd350-edb4-49c9-b593-d223f7449a82

commit 92fc4b261c9cb71a52468d2e0910eb1be9f51478
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Fri Jun 23 14:43:14 2023 +0000

    Twenty Sixteen: Fix Letter Case implementation.
    
    This changeset fixes Letter Case control implementation on the Button block, on both front-end and in the Editor.
    
    Props thakordarshil, pateljaymin, sabernhardt, panchalhimani711, mukesh27.
    See #58526.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55999 602fd350-edb4-49c9-b593-d223f7449a82

commit 4a81e71627196a9390bbb5d3eaffa9c3e40999f1
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Fri Jun 23 14:40:31 2023 +0000

    Twenty Fifteen: Fix Letter Case implementation.
    
    This changeset fixes Letter Case control implementation on the Button block, on both front-end and in the Editor.
    
    Props thakordarshil, pateljaymin, sabernhardt, panchalhimani711, mukesh27.
    See #58526.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55998 602fd350-edb4-49c9-b593-d223f7449a82

commit 898a98b8a36e1a5160eab0b4ea97d6a6418eae76
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Fri Jun 23 14:38:19 2023 +0000

    Twenty Fourteen: Fix Letter Case implementation.
    
    This changeset fixes Letter Case control implementation on the Button block, on both front-end and in the Editor.
    
    Props thakordarshil, pateljaymin, sabernhardt, panchalhimani711, mukesh27.
    See #58526.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55997 602fd350-edb4-49c9-b593-d223f7449a82

commit 97be53bbce9b7ee7c2b74b7f3434440322cd1ff9
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Fri Jun 23 13:48:49 2023 +0000

    Themes: Allow non-block themes to add theme support for link color settings.
    
    This changeset themes without theme.json to opt-in to block link color tools via `add_theme_support( 'link-color' );`.
    
    Follow-up to [55067], [55273].
    
    Props poena, audrasjb.
    Fixes #58597.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55996 602fd350-edb4-49c9-b593-d223f7449a82

commit 43e382ba7ebb7ca92ed9c40124fb7f02a20606e5
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Fri Jun 23 13:35:32 2023 +0000

    Themes: Allow non-block themes to add theme support for border settings.
    
    This changeset allows themes without `theme.json` to opt-in to block border tools via `add_theme_support( 'border' );`.
    
    Follow-up to [55067], [55273].
    
    Props poena, audrasjb.
    Fixes #58598.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55995 602fd350-edb4-49c9-b593-d223f7449a82

commit 11df92738b07de35ae42fa6ee14c5ed506432241
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Jun 23 12:15:06 2023 +0000

    Database: Replace `str_contains()` and `str_ends_with()` usage in `wpdb` methods.
    
    This avoids fatal errors on PHP < 8.0 if the file is included directly outside of WordPress core, e.g. by HyperDB.
    
    While WordPress core does include polyfills for these functions, they are not directly loaded in the `wpdb` class.
    
    Follow-up to [54384], [55157], [55158], [55988], [55990].
    
    Props dd32, ryelle, joedolson.
    See #58206.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55994 602fd350-edb4-49c9-b593-d223f7449a82

commit d25a8d62f7c2186593ef5d53b496a1bfc5d7f317
Author: AndrÃ© <oandregal@git.wordpress.org>
Date:   Fri Jun 23 09:28:10 2023 +0000

    Fix block template utils test: use template part instead of template object.
    
    Note that the PHP unit tests didn't fail in the CI job because the date for both the template and template part was the same.
    
    Props ramonopoly.
    Fixes #58540.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55993 602fd350-edb4-49c9-b593-d223f7449a82

commit 09a7c6835b74a3e194814d625a36f8c9227bcf91
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Fri Jun 23 06:27:45 2023 +0000

    REST API: return post modified datetime for Templates.
    
    Adds a `modified` field to the template and template part objects in the rest response for `WP_REST_Templates_Controller`.
    
    Props ramonopoly, andrewserong, mukesh27, timothyblynjacobs.
    Fixes #58540.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55992 602fd350-edb4-49c9-b593-d223f7449a82

commit 151621661b263768ff2e9b2b69b7ce5f83866c57
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Thu Jun 22 22:35:44 2023 +0000

    Build/Test Tools: Store artefacts of failing E2E test runs.
    
    Modify the E2E workflow to store the screenshots and HTML files generated during failing tests as an artifact in the workflow.
    
    No artefact is stored for passing test runs.
    
    Props peterwilsoncc, isabel_brison.
    Fixes #58596.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55991 602fd350-edb4-49c9-b593-d223f7449a82

commit 66674fbfd9fd1f9948e7c94946cfe7959684707e
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Jun 22 14:55:47 2023 +0000

    Code Modernization: Replace usage of `substr()` with `str_starts_with()` and `str_ends_with()`.
    
    `str_starts_with()` and `str_ends_with()` were introduced in PHP 8.0 to perform a case-sensitive check indicating if the string to search in (haystack) begins or ends with the given substring (needle).
    
    WordPress core includes a polyfill for these functions on PHP < 8.0 as of WordPress 5.9.
    
    This commit uses `str_starts_with()` and `str_ends_with()` in core files where appropriate:
    * `$needle === substr( $string, 0, $length )`, where `$length` is the length of `$needle`, is replaced with `str_starts_with( $haystack, $needle )`.
    * `$needle === substr( $string, $offset )`, where `$offset` is negative and the absolute value of `$offset` is the length of `$needle`, is replaced with `str_ends_with( $haystack, $needle )`.
    
    This aims to make the code more readable and consistent, as well as better aligned with modern development practices.
    
    Follow-up to [52039], [52040], [52326], [55703], [55710], [55987], [55988].
    
    Props Soean, spacedmonkey, Clorith, ocean90, azaozz, sabernhardt, SergeyBiryukov.
    Fixes #58220.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55990 602fd350-edb4-49c9-b593-d223f7449a82

commit 38950d24c307f58ae588c4b9a270bf67d6ff00a4
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Thu Jun 22 14:35:23 2023 +0000

    Administration: Fix password layout for RTL and mobile.
    
    Adjust hide password field to be full width on mobile and remove 5rem left padding inside input.
    
    Props sabernhardt.
    Fixes #9883.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55989 602fd350-edb4-49c9-b593-d223f7449a82

commit 9e9887d8b8fa49685c484ee606748e1f0aca1bf9
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Jun 22 14:34:56 2023 +0000

    Code Modernization: Replace usage of `strpos()` with `str_contains()`.
    
    `str_contains()` was introduced in PHP 8.0 to perform a case-sensitive check indicating if the string to search in (haystack) contains the given substring (needle).
    
    WordPress core includes a polyfill for `str_contains()` on PHP < 8.0 as of WordPress 5.9.
    
    This commit replaces `false !== strpos( ... )` with `str_contains()` in core files, making the code more readable and consistent, as well as better aligned with modern development practices.
    
    Follow-up to [52039], [52040], [52326], [55703], [55710], [55987].
    
    Props Soean, spacedmonkey, costdev, dingo_d, azaozz, mikeschroder, flixos90, peterwilsoncc, SergeyBiryukov.
    Fixes #58206.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55988 602fd350-edb4-49c9-b593-d223f7449a82

commit fdbd29eaba67e30d13ac8a72fe550b2f8fc03e46
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Jun 22 14:12:09 2023 +0000

    Code Modernization: Use `str_starts_with()` in `WP_Theme_JSON` class methods.
    
    This aims to make the code more readable and consistent, as the function is already used extensively in core files.
    
    WordPress core includes a polyfill for `str_starts_with()` on PHP < 8.0 as of WordPress 5.9.
    
    Follow-up to [55703], [55959].
    
    Props spacedmonkey.
    Fixes #58012.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55987 602fd350-edb4-49c9-b593-d223f7449a82

commit fe3645519a83ea6f2843df7db8f8b13016bc022a
Author: AndrÃ© <oandregal@git.wordpress.org>
Date:   Thu Jun 22 08:42:42 2023 +0000

    `wp_get_global_styles`: allow transforming the CSS Custom Properties into the values they represent.
    
    Props samnajian, ramonopoly, isabel_brison.
    Fixes #58588.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55986 602fd350-edb4-49c9-b593-d223f7449a82

commit 9a9a672a83b9e852bf03bc642ec42ac0eae9fdec
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Thu Jun 22 08:16:05 2023 +0000

    Editor: add text columns to typography support.
    
    Adds a text columns feature to the typography block support that uses CSS `column-count` for multi-column text.
    
    Props ramonopoly, aaronrobertshaw.
    Fixes #58549.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55985 602fd350-edb4-49c9-b593-d223f7449a82

commit 3c365e55dc3cdd9789a129c42f76089f6aaac7ef
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Jun 22 07:52:24 2023 +0000

    Help/About: Improve Dashboard screen options behavior on small screens.
    
    This changeset improve Dashboard screen options by stacking them vertically on small screens.
    
    Props dhrumilk, prashantbhivsane, marybaum, dhruvishah2203, ababir, mukesh27, chiragrathod103, oglekler, tb1909, jahidcse, audrasjb.
    Fixes #57977.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55984 602fd350-edb4-49c9-b593-d223f7449a82

commit 2a233f71436a0023221a033d8c7db216f31fdf17
Author: AndrÃ© <oandregal@git.wordpress.org>
Date:   Thu Jun 22 07:14:46 2023 +0000

    Rename `wp_get_remote_patterns` to `wp_get_theme_directory_pattern_slugs`.
    
    Props dd32, ntsekouras.
    
    Fixes #58460.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55983 602fd350-edb4-49c9-b593-d223f7449a82

commit 23f73f843028671a75c623b55b929178cdc4de5b
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Jun 22 06:20:19 2023 +0000

    Twenty Thirteen: Remove IE specific resources.
    
    This changeset switches the `wp_enqueue_*` functions to `wp_register_*` for IE-related resources, which maintains handles, source references, etc., keeps all
    IE-specific files within the theme package to avoid errors, and requires site admins to opt in to loading them in the theme.
    
    It also replaces the content of `html5.js` shiv with a comment (to avoid 404s), and removes IE specific code from `header.php`.
    
    Props desrosj, sabernhardt, audrasjb, neychok, oglekler.
    See #56699.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55982 602fd350-edb4-49c9-b593-d223f7449a82

commit 0f1e555c916251a8ec63d2d936a68f4eb00f13fa
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Jun 22 06:09:37 2023 +0000

    Twenty Fifteen: Remove IE specific resources.
    
    This changeset switches the `wp_enqueue_*` functions to `wp_register_*` for IE-related resources, which maintains handles, source references, etc., keeps all
    IE-specific files within the theme package to avoid errors, and requires site admins to opt in to loading them in the theme.
    
    It also replaces the content of `html5.js` shiv with a comment (to avoid 404s), removes IE-specific code in general stylesheets, and removes IE specific code
    from Customizer, header.php and custom-header.php.
    
    Props desrosj, sabernhardt, audrasjb, neychok, oglekler.
    See #56699.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55981 602fd350-edb4-49c9-b593-d223f7449a82

commit e751bfb505ac5c3652f8d072a92fb396ae6e66de
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Jun 22 05:59:43 2023 +0000

    Twenty Seventeen: Remove IE specific resources.
    
    This changeset switches the `wp_enqueue_*` functions to `wp_register_*` for IE-related resources, which maintains handles, source references, etc., keeps all
    IE-specific files within the theme package to avoid errors, and requires site admins to opt in to loading them in the theme.
    
    It also replace the content of `html5.js` shiv with a comment (to avoid 404s) and removes IE-specific code in general stylesheets.
    
    Props desrosj, sabernhardt, audrasjb, neychok, oglekler.
    See #56699.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55980 602fd350-edb4-49c9-b593-d223f7449a82

commit d9d04982549e348a6284184a65abbdc337f6105c
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Jun 22 05:53:05 2023 +0000

    Tests: Update the test for `pre_wp_setup_nav_menu_item` filter.
    
    This ensures that not only is the filter applied in `wp_setup_nav_menu_item()`, but also the actual output is tested.
    
    Follow-up to [55867], [55868].
    
    Props azaozz, ugyensupport.
    Fixes #56577.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55979 602fd350-edb4-49c9-b593-d223f7449a82

commit c34aba767fc469d60d7f95eb6ff8f6df2be89723
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Jun 22 05:33:50 2023 +0000

    Twenty Ten: Improve Pullquote block line height for better readability.
    
    Props melchoyce, sabernhardt, ugyensupport, Heiko_Mamerow, pooja1210.
    Fixes #52546.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55978 602fd350-edb4-49c9-b593-d223f7449a82

commit 57ca656feaa787b2929e288b8c412c10f9825c85
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Jun 22 05:23:18 2023 +0000

    Administration: Replace contracted verb forms for better consistency.
    
    Previously: [52979], [52978].
    Props sabernhardt.
    See #30796.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55977 602fd350-edb4-49c9-b593-d223f7449a82

commit b638c200148411007b7eb7002e996d7705a25c06
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Thu Jun 22 04:19:59 2023 +0000

    Build/Test Tools: Update URL of theme unit test data.
    
    Update the performance tests to account for the relocation of the theme unit test data repository to the WordPress organisation on GitHub.
    
    Props costdev, kafleg, williampatton, dd32, otto42, poena, jrf, joemcgill, peterwilsoncc, mukesh27.
    Fixes #58569.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55976 602fd350-edb4-49c9-b593-d223f7449a82

commit 61885374274ea34415824fca007ff2088eaef26b
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Thu Jun 22 04:04:50 2023 +0000

    Editor: add grid layout type
    
    Add a new `grid` type to the layout block support.
    
    Props andrewserong, costdev, ramonopoly.
    Fixes #58554.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55975 602fd350-edb4-49c9-b593-d223f7449a82

commit 04aeddce8c6b8a8b04be6c7df1070fa04e58b539
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Thu Jun 22 00:30:41 2023 +0000

    Administration: Hide password in options/writing.
    
    Hide the password for the "Post via e-mail" settings in writing options. Use the same password hiding mechanisms in use elsewhere in core.
    
    Props mastrup, denis-de-bernardy, ryan, brookedot, wojtek.szkutnik, dd32, sabreuse, sergeybiryukov, costdev, peterwilsoncc, zgrkaralar, clorith, renyot, sabernhardt, boniu91, ironprogrammer, bgoewert.
    Fixes #9883.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55974 602fd350-edb4-49c9-b593-d223f7449a82

commit 64ef31dae716d51e7ac55c694f1bbad1425f066d
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Wed Jun 21 22:53:02 2023 +0000

    Twenty Thirteen: Remove an unnecessary border from Table block.
    
    This changeset removes an unwanted border showing up at the bottom of the Table block.
    
    Props nidhidhandhukiya, sabernhardt, maxcgparis, pooja1210, audrasjb.
    Fixes #56538.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55973 602fd350-edb4-49c9-b593-d223f7449a82

commit 4e33de0f088c35e6fd1ed96b5ccc6f7894cab639
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Wed Jun 21 21:52:46 2023 +0000

    Twenty Nineteen: Fix a JS coding standard issue found after [55970].
    
    Follow-up to [55970].
    
    See #46474.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55972 602fd350-edb4-49c9-b593-d223f7449a82

commit 09fb3ea03ec554fe2ede5fb65118ab64a751e1df
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Wed Jun 21 21:45:52 2023 +0000

    Administration: Set accessible state for list table headers.
    
    Implement `aria-sort` and change icon states to indicate current sort for list tables. Allow screen reader users to get context about the current sort and allow sighted users to know how the table is currently sorted.
    
    Props afercia, rianrietveld, joedolson, alexstine, johnjamesjacoby.
    Fixes #32170.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55971 602fd350-edb4-49c9-b593-d223f7449a82

commit 5e347c1c5218a86d3807bf631b0a2050adbd86c1
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Wed Jun 21 21:30:26 2023 +0000

    Twenty Nineteen: Prevent a console error related to the main navigation on Firefox.
    
    This changeset improves a JS conditional statement to fix a console error thrown by Firefox on `event.target.matches`.
    
    Props kjellr, laurelfulford, audrasjb, dimijazz, ianbelanger, pbiron, poena, McAlyster, janpaulkleijn, swissspidy, mukesh27, rehanali.
    Fixes #46474.
    See #45903 (fixes one of the two issues of this ticket).
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55970 602fd350-edb4-49c9-b593-d223f7449a82

commit ffcf68b2def87a8c5845a1c5bfb0d59f1f2c7235
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Wed Jun 21 20:48:31 2023 +0000

    Administration: Replace Tagline option placeholder with a description.
    
    As placeholders may introduce confusion about whether the example is the input's predefined value or not, this changeset moves the "Just another WordPress
    site" historic tagline as an example quoted in the field's description.
    
    Props Cybr, audrasjb, sabernhardt, pavanpatil1, tb1909.
    Fixes #57675.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55969 602fd350-edb4-49c9-b593-d223f7449a82

commit 8d702842ce2c7dbb457624b8d66fe0536e1a8b48
Author: John Blackbourn <johnbillion@git.wordpress.org>
Date:   Wed Jun 21 18:25:40 2023 +0000

    Administration: Add the `no-store` and `private` directives to the `Cache-Control` header when preventing caching for logged in users.
    
    The intention behind this change is to prevent sensitive data in responses for logged in users being cached and available to others, for example via the browser history after the user logs out.
    
    The `no-store` directive instructs caches in the browser or within proxies not to store the response in the cache. This is subtly different from the `no-cache` directive which means the response can be cached but must be revalidated before re-use. WordPress does not use ETag headers by default therefore this does not achieve the same result.
    
    The `private` directive complements the `no-store` directive by specifying that the response contains private information that should not be stored in a public cache. Som
    e proxy caches may ignore the `no-store` directive but respect the `private` directive, thus it is included.
    
    The existing `Cache-Control` header for users who are not logged in remains unchanged, and the existing cache prevention directives remain in place for backwards compatib
    ility.
    
    Props soulseekah, luehrsen, Dharm1025, markdoliner, rutviksavsani, ayeshrajans, paulkevan, clorith, andy786, johnbillion
    
    Fixes #21938, Fixes #57627
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55968 602fd350-edb4-49c9-b593-d223f7449a82

commit 881f566d4e492fa38a1eac69a54c9c14c0f4d3cd
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Wed Jun 21 17:44:40 2023 +0000

    Twenty Twenty: Inherit Quote block's paragraph custom letter spacing in the editor.
    
    Props nidhidhandhukiya, sabernhardt, pooja1210, ugyensupport, pouicpouic, poena.
    Fixes #58033.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55967 602fd350-edb4-49c9-b593-d223f7449a82

commit be0edc056073b394e9fd00395bf625fc7d095cf1
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Wed Jun 21 15:05:57 2023 +0000

    Twenty Sixteen: Fix List block padding in the editor.
    
    Props nidhidhandhukiya, sabernhardt, poena.
    Fixes #58409.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55966 602fd350-edb4-49c9-b593-d223f7449a82

commit ae118cc14b23efb43644526a26fb04edf5d2b874
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Jun 21 13:22:59 2023 +0000

    Twenty Twenty-Two: Add missing subject tags and feature tags.
    
    Follow-up to [52081], [54168].
    
    Props kafleg, mukesh27, ankit-k-gupta, poena, SergeyBiryukov.
    Fixes #58437.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55965 602fd350-edb4-49c9-b593-d223f7449a82

commit 04c8d778558b1662e659c97169fcef47a25ac8e9
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Wed Jun 21 12:02:22 2023 +0000

    Twenty Nineteen: Revert [55960].
    
    This reverts [55960] pending further investigation, since this changeset caused failures on the Test Default Themes & Create ZIPs workflow.
    
    Unprops audrasjb.
    See #45916.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55964 602fd350-edb4-49c9-b593-d223f7449a82

commit 97c1b44bce220d8e7084e4565ed107f3d775e113
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Wed Jun 21 11:49:14 2023 +0000

    Twenty Nineteen: Remove unused function parameters and variables.
    
    This changeset removes unused parameters and variables, fixes a typo, and improves some docblocks as per documentation standards.
    
    Props upadalavipul, mukesh27, costdev, sabernhardt, hellofromtonya, audrasjb.
    Fixes #57397.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55963 602fd350-edb4-49c9-b593-d223f7449a82

commit ec46470e2c0349b9e3e09ee986a46bfaf6de4ded
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Wed Jun 21 08:16:34 2023 +0000

    Docs: Add missing param description to `update_menu_item_cache` in `wp_get_nav_menu_items()`.
    
    Because `update_menu_item_cache` parameter doesn't have any description in this function, the `wp_get_nav_menu_items()` documentation page on DevHub fallbacks
    to `get_post()` params descriptions… which fallbacks to `parse_query()`.
    
    In parse_query(), the `update_menu_item_cache` param is set to `false` by default, so `wp_get_nav_menu_items()` ends up with a value of `false` by default,
    which is wrong since `wp_get_nav_menu_items()` overrides this parameter to set it to true by default.
    
    This changeset adds `update_menu_item_cache` parameter to `wp_get_nav_menu_items()` docblock, and indicates that it is set to `true` by default.
    
    Follow-up to [53504].
    
    Props audrasjb, matmoe.
    Fixes #58468.
    See #57840.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55962 602fd350-edb4-49c9-b593-d223f7449a82

commit d3a3f019d6691d22f374f0ecd1667520d232e946
Author: Pascal Birchler <swissspidy@git.wordpress.org>
Date:   Wed Jun 21 08:12:22 2023 +0000

    Embeds: Add Anghami as a trusted oEmbed provider.
    
    Props swissspidy, Boniu91, tb1909, monzuralam, azizantoun, audrasjb.
    Fixes #49850
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55961 602fd350-edb4-49c9-b593-d223f7449a82

commit 042aeb58a0b6f89c065cd7527b7ed890a550407d
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Wed Jun 21 07:56:06 2023 +0000

    Twenty Nineteen: Always set background color and foreground color together.
    
    On the `<body>` element, as a best practice background color and text color should always be set together. This makes it easier to quickly understand the
    underlying color scheme.
    
    Props allancole, joyously, samful, sabernhardt, oglekler, ronakganatra, tb1909, ugyensupport.
    Fixes #45916.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55960 602fd350-edb4-49c9-b593-d223f7449a82

commit 3b34f3a30e7c5ae467488c2383a21a8eb8263c0c
Author: AndrÃ© <oandregal@git.wordpress.org>
Date:   Wed Jun 21 07:54:01 2023 +0000

    `wp_get_global_styles`: return the standard format for CSS Custom Properties.
    
    Props samnajian, hellofromtonya, isabel_brison.
    Fixes #58467.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55959 602fd350-edb4-49c9-b593-d223f7449a82

commit bd76e7bf5c2af5d489196820eadf9976b8469926
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Wed Jun 21 06:56:18 2023 +0000

    Editor: revert add grid layout type
    
    Reverting the previous commit because it causes e2e to fail on trunk.
    
    See #58554.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55958 602fd350-edb4-49c9-b593-d223f7449a82

commit c95db6bf0ef58faa45dfea425d7f12c0c77ecd1f
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Wed Jun 21 05:54:27 2023 +0000

    Editor: add grid layout type
    
    Add a new `grid` type to the layout block support.
    
    Props andrewserong, costdev, ramonopoly.
    Fixes #58554.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55957 602fd350-edb4-49c9-b593-d223f7449a82

commit cfe8ab9b2048fdb26f13e3889953be9c8f380c9a
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Wed Jun 21 05:30:24 2023 +0000

    Editor: update layout classnames and specificity.
    
    Adds a compound layout classname and reduces layout spacing rule specificity.
    
    Props ramonopoly, andrewserong, poena.
    Fixes #58548.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55956 602fd350-edb4-49c9-b593-d223f7449a82

commit b35b1fcc869dc9c09ec184801ec9b498d16d9af6
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Wed Jun 21 04:21:04 2023 +0000

    Editor: add Post Content attributes to block editor settings.
    
    Adds a new block editor setting containing the Post Content block attributes, if they exist.
    
    Props audrasjb, spacedmonkey, jeremyfelt, mukesh27, flixos90, andrewserong.
    Fixes #58534.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55955 602fd350-edb4-49c9-b593-d223f7449a82

commit 0b6911113b42652ca6a1631448a0e0ae313d13e1
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Wed Jun 21 01:52:16 2023 +0000

    Administration: Make checkbox column clickable.
    
    Change the `label` for `.check-column` inside list tables to a block filling the entire cell. Improves accessibility by increasing the target area for the control.
    
    Props mitchoyoshitaka, lessbloat, sabernhardt, ogleker, tacoverdo, joostdevalk, karmatosed.
    
    Fixes #21516.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55954 602fd350-edb4-49c9-b593-d223f7449a82

commit c71fad7e48349137de766d9501358c67c53461f7
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Tue Jun 20 22:46:52 2023 +0000

    Login and Registration: Add `required` to Username/password inputs.
    
    Add the `required` attributes to username and password inputs for login.
    
    Props aznadesign, sanchothefat, alexstine, nant82, swissspidy, afercia, d-signed, joedolson.
    Fixes #32510.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55953 602fd350-edb4-49c9-b593-d223f7449a82

commit 962e8d1a3126500e5cf416ddb46de4c5b8c9a677
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Jun 20 22:40:27 2023 +0000

    Docs: `register_block_style()` docblock improvement.
    
    This changeset replaces `style` with `style_handle` in the description of `$style_properties` to better match `WP_Block_Styles_Registry::register()`.
    
    Follow-up to [46111], [48102].
    
    Props bacoords, dilipbheda, audrasjb.
    Fixes #58562.
    See #57840.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55952 602fd350-edb4-49c9-b593-d223f7449a82

commit 1e8b61bd4da9e1961aeaad10ae2ec9033199783c
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Jun 20 22:15:57 2023 +0000

    REST API: Indicate when a theme supports the Site editor in the Themes REST API response.
    
    This changeset adds a `is_block_theme` property to each theme in the `wp/v2/themes` API response, which uses `WP_Theme::is_block_theme` to determinate whether
    the theme is block theme or not.
    
    Props grantmkin, ironprogrammer, zunaid321, azaozz, spacedmonkey, audrasjb, costdev.
    Fixes #58123.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55951 602fd350-edb4-49c9-b593-d223f7449a82

commit 9bc6b0a0606f27afb47f6e2aee2961c80e5cde01
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Tue Jun 20 17:52:32 2023 +0000

    Editor: Introduce `WP_Theme_JSON::prepend_to_selector()` to improve code quality and performance.
    
    The `WP_Theme_JSON::append_to_selector()` method was previously used for both appending and prepending which violated the single responsibility principle. It resulted in additional conditionals which also came at a performance cost, particularly because the method is called over 1,000 times during a regular WordPress request.
    
    With the new `WP_Theme_JSON::prepend_to_selector()` method, there are now two distinct methods for the two distinct purposes. The now useless third parameter on `WP_Theme_JSON::append_to_selector()` has been removed (rather than deprecated), which is acceptable given that it is a protected method on a class that is not intended for extensions.
    
    Props bor0, costdev, flixos90, isabel_brison, oandregal, spacedmonkey.
    Fixes #58193.
    See #58457.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55950 602fd350-edb4-49c9-b593-d223f7449a82

commit b17064a082b82fc737b312d9fb2849f2cccf792e
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Jun 20 15:45:23 2023 +0000

    Media: Display the “Copy URL” and “Download file” row actions when the “Unattached” filter is applied.
    
    Due to partially duplicated logic for displaying row actions in the Media Library with and without the “Unattached” filter, the “Copy URL” and “Download file” row actions were unintentionally missing with the filter applied.
    
    This commit aims to simplify the logic and bring more consistency to the code.
    
    Includes displaying the “Download file” row action even when the “Trash” filter is applied, giving the user one more chance to download the media file before they delete it.
    
    Follow-up to [8901], [13100], [16227], [16229], [52842], [55198], [55221].
    
    Props kebbet, costdev, pbiron, oglekler, SergeyBiryukov.
    Fixes #57890, #57893.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55949 602fd350-edb4-49c9-b593-d223f7449a82

commit 76376fdbc3dc0b3261de377dffc350677345e7ba
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Jun 20 08:19:51 2023 +0000

    Coding Standards: Use strict comparison in `wp-includes/pomo/translations.php`.
    
    Follow-up to [10584], [12079].
    
    Props aristath, poena, afercia, SergeyBiryukov.
    See #57839.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55948 602fd350-edb4-49c9-b593-d223f7449a82

commit 787de79119c2da7d9037de3110b9822d20596255
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Tue Jun 20 07:58:03 2023 +0000

    Editor: use logarithmic scale for fluid typography.
    
    Introduces logarithmic scale factor to calculate a minimum font scale that tapers out as the font size increases.
    
    Props ramonopoly.
    Fixes #58523.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55947 602fd350-edb4-49c9-b593-d223f7449a82

commit c790ae481b0f1f578cd10c49ddf7193051a86b9e
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Tue Jun 20 05:26:47 2023 +0000

    Editor: use `layout.wideSize` as max viewport width.
    
    Use the value of `layout.wideSize` as the maximum viewport width for fluid font size calculations.
    
    Props ramonopoly. 
    Fixes #58522.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55946 602fd350-edb4-49c9-b593-d223f7449a82

commit da008c74a7117ea0ed46931b9cc8b632a09026cf
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Tue Jun 20 04:57:27 2023 +0000

    General: fix `overridden` typos.
    
    Fixes two typos in `class-wp-theme-json`.
    
    Props Aristath, nihar007, kapilpaul, oandregal, krupalpanchal.
    Fixes #58464.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55945 602fd350-edb4-49c9-b593-d223f7449a82

commit 2b7f8654171ba19188bb25b8226a93fcca9ed0c8
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Tue Jun 20 02:29:18 2023 +0000

    KSES: Add support for CSS `repeat()` function.
    
    Introduces support for the CSS `repeat()` function to support complex grid layouts.
    
    Props isabel_brison, azaozz.
    Fixes #58551.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55944 602fd350-edb4-49c9-b593-d223f7449a82

commit 6966e3193460a6ebd06916d6e188a02dbf31dde0
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Mon Jun 19 23:18:28 2023 +0000

    Media: Redirect deprecated `wp-admin/media.php` file.
    
    Redirect users visiting the `wp-admin/media.php` file to the media library, `wp-admin/upload.php`. An user facing warning is displayed when the media library is reached via a deprecated link.
    
    Follow up to [55647].
    
    Props jorbin, audrasjb, azaozz, NekoJonez, kebbet, costdev.
    Fixes #57612.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55943 602fd350-edb4-49c9-b593-d223f7449a82

commit 75d72087412221ae9f402d0afb126aa70caf0a77
Author: John Blackbourn <johnbillion@git.wordpress.org>
Date:   Mon Jun 19 18:26:01 2023 +0000

    General: Replace some instances of "blog" with "site" in documentation, translator comments, and user-facing text strings.
    
    This is not an exhaustive change, but it gets us closer to using "site" in place of "blog" in as many places as possible.
    
    Props NekoJonez, audrasjb, oglekler
    
    Fixes #58117
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55942 602fd350-edb4-49c9-b593-d223f7449a82

commit a14bc9b298b59c9d05f36038358e0a1ea5087c32
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Mon Jun 19 16:02:41 2023 +0000

    Themes: Change the order of path check in is_block_theme method.
    
    Change check to see if the current theme is a block theme, to check the path `/templates/index.html` first over the deprecated path `/block-templates/index.html`.
    As this path was deprecated in WP 5.9, it is more likely the block theme would use the current path. This saves a file_exists call which improves performance.
    
    Props nihar007, spacedmonkey.
    Fixes #58520.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55941 602fd350-edb4-49c9-b593-d223f7449a82

commit b2cb29aaf9f48d0636be8c34ae9b21b4fc5232f2
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Jun 19 11:42:46 2023 +0000

    Cache API: Remove unused `usermeta` global cache group.
    
    The `usermeta` group was introduced in WP 2.0, but was never actually used in WordPress core.
    
    The `user_meta` group is used instead.
    
    Follow-up to [3011], [15482], [16562], [53823], [53832], [54940].
    
    Props ignatggeorgiev, peterwilsoncc, oglekler, pamprn09, spacedmonkey, SergeyBiryukov.
    Fixes #58175.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55940 602fd350-edb4-49c9-b593-d223f7449a82

commit ea0a4881aeaa97c09bdab0ba7d3895dc29ea6247
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Mon Jun 19 10:31:45 2023 +0000

    Themes: Fix caching issue in get_post_templates method in `WP_Theme`.
    
    Fix an edge case caching issue, where if a developer use the  `wp_cache_themes_persistently` filter and is running the site in multisite configuration, it meant block template are incorrectly cached. Block templates are stored in the posts table. But in a multisite configuration, different sites on the multisite could have different block templates stored in there post table. As themes cache group is a global group, it resulted in incorrect values being cached.
    
    Props maniu, spacedmonkey, hellofromTonya, oglekler, mukesh27, joemcgill.
    Fixes #57886.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55939 602fd350-edb4-49c9-b593-d223f7449a82

commit 7cfc7a46f9d9182b3c99e985f5b28b36b284bb92
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Mon Jun 19 01:58:25 2023 +0000

    Filesystem API: Attempt to create directory in `copy_dir()`.
    
    Adds a check to the start of `copy_dir()` that the destination directory exists and attempts to create it if it does not.
    
    An error is returned if the directory can not be created, either due to a permissions error or the parent directory not existing.
    
    Props caraffande, costdev, zunaid321.
    Fixes #41855.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55938 602fd350-edb4-49c9-b593-d223f7449a82

commit 1e090291f0d9c4b80730cc4b05c2f84c33ac6835
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Sun Jun 18 16:39:05 2023 +0000

    Formatting: Support aria content attributes.
    
    Add `aria-controls`, `aria-expanded`, and `aria-current` to allowed attributes in KSES.
    
    Props crs1138, rsiddharth, mukesh27, SergeyBiryukov, joedolson, ryokuhi, peterwilsoncc, audrasjb, nataliat2004.
    Fixes #55370.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55937 602fd350-edb4-49c9-b593-d223f7449a82

commit c916ebde8a7d49251cf05616f0cf3e1088abdd2d
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Sun Jun 18 16:09:47 2023 +0000

    Media: Remove duplicate `div` containers.
    
    Follow-up to [55919]. Remove two hidden divs accidentally duplicated in patch refreshing.
    
    Props azaozz.
    Fixes #50523.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55936 602fd350-edb4-49c9-b593-d223f7449a82

commit bcb881c17ff736a898ed3c45a525a67e22e34f21
Author: Andrew Ozz <azaozz@git.wordpress.org>
Date:   Sun Jun 18 14:22:40 2023 +0000

    Media: Deprecate the 'edit_custom_thumbnail_sizes' filter and disable the "Apply changes to [Thumbnail|All|All except thumbnail]" UI in the image editor. Add a (boolean) filter to reenable that UI.
    
    Props peterwilsoncc, costdev, azaozz.
    See: #57685.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55935 602fd350-edb4-49c9-b593-d223f7449a82

commit be7dc7942792a3b5fbe01dd2b38528647b45b7d1
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Jun 18 12:53:47 2023 +0000

    Coding Standards: Use strict comparison in `wp-includes/pomo/streams.php`.
    
    Follow-up to [10584], [11626], [12174].
    
    Props aristath, poena, afercia, SergeyBiryukov.
    See #57839.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55934 602fd350-edb4-49c9-b593-d223f7449a82

commit ca6a093af2e966dd8f2b5c183a5699ff786bec8b
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Sat Jun 17 21:45:52 2023 +0000

    Upgrade/Install: Log in link should look like a link.
    
    Change the log in link that appears after completing installation so that it does not use the button styling. Links should look like links.
    
    Props xavortm, menakas, afercia, rianrietveld, johnbillion, drw158, joedolson.
    Fixes #40470.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55933 602fd350-edb4-49c9-b593-d223f7449a82

commit 96de776ed99bba62be3dad679cbb983a02cdf40e
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Sat Jun 17 21:35:25 2023 +0000

    Bundled Themes: Fix Twenty Fourteen button block line-height.
    
    Change the button block in Twenty Fourteen to use relative instead of fixed line-height. Prevent visual errors with larger font sizes on the front-end.
    
    Props nidhidhandhukiya, algorithmsunlocks, mayur8991, sabernhardt.
    Fixes #58444.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55932 602fd350-edb4-49c9-b593-d223f7449a82

commit fbef5030f67b6837119e9c890288bb0ace796940
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Jun 17 10:26:24 2023 +0000

    Coding Standards: Use strict comparison in `wp-includes/pomo/mo.php`.
    
    Follow-up to [10584], [12174].
    
    Props aristath, poena, afercia, SergeyBiryukov.
    See #57839.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55931 602fd350-edb4-49c9-b593-d223f7449a82

commit 3e2121c83de37335bcda944a09c2d1a8f11dab7b
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Fri Jun 16 13:26:34 2023 +0000

    Themes: Inline render blocking CSS `classic-themes.css'
    
    Since [54358], a new CSS file classic-themes.css is enqueued on all pages on the front end of themes without `theme.json`. This is a blocking http request, the impact on performance will be affected by network conditions. Inlining this style, stops this blocking request. By adding style data of path to the registered style, the function `wp_maybe_inline_styles` will automatically inline the style for us.
    
    Props spacedmonkey, adamsilverstein.
    Fixes #58480.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55930 602fd350-edb4-49c9-b593-d223f7449a82

commit 1d1a2e3dec64bca6b94abd0eaa871f3916bbc11b
Author: Pascal Birchler <swissspidy@git.wordpress.org>
Date:   Fri Jun 16 13:03:00 2023 +0000

    Bundled Themes: Remove `load_theme_textdomain()` calls from default themes.
    
    Since WordPress 4.6 introduced just-in-time translation loading, themes and plugins no longer need to manually call `load_theme_textdomain`/`load_plugin_textdomain`, unless they are on a version prior to 4.6.
    
    This change removes the `load_theme_textdomain()` call from Twenty Seventeen and up, since these themes all require at least WordPress 4.7.
    On older default themes, `load_theme_textdomain()` is called conditionally depending on the WordPress version.
    
    Props piyushtekwani.
    Fixes #58318.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55929 602fd350-edb4-49c9-b593-d223f7449a82

commit 6048eb34be4df5414641de439564608b23f83d93
Author: Pascal Birchler <swissspidy@git.wordpress.org>
Date:   Fri Jun 16 12:56:03 2023 +0000

    I18N: Allow to short-circuit `load_textdomain()`.
    
    Introduces a new `pre_load_textdomain` filter, which is useful for plugins to develop and test alternative loading/caching strategies for translations. This brings consistency with the existing `pre_load_script_translations` filter for JavaScript translations.
    
    Props ocean90, swissspidy.
    Fixes #58035.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55928 602fd350-edb4-49c9-b593-d223f7449a82

commit a1673dccae2efcbc4587f99144c0fd0662568613
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Jun 16 11:21:59 2023 +0000

    Coding Standards: Use strict comparison in `wp-includes/pomo/entry.php`.
    
    Follow-up to [18528].
    
    Props aristath, poena, afercia, SergeyBiryukov.
    See #57839.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55927 602fd350-edb4-49c9-b593-d223f7449a82

commit be395bf73aa4fb47ddc5563c0d0389dd7286aa7d
Author: AndrÃ© <oandregal@git.wordpress.org>
Date:   Fri Jun 16 08:06:30 2023 +0000

    Themes: add wp_get_remote_theme_patterns function.
    
    Adds a new public function, `wp_get_remote_theme_patterns` to query the `patterns` datum from `theme.json` and substitutes current usage of private APIs.
    
    Props ntsekouras, poena, audrasjb.
    Fixes #58460
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55926 602fd350-edb4-49c9-b593-d223f7449a82

commit 9fe8cdf1264c1ab87ef234219aa3633cd5e7d3b2
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Thu Jun 15 03:23:25 2023 +0000

    Tests/Build tools: Various term related test improvements.
    
    Modifies the tests for `get_tag_link()`, `get_term()` and `get_term_field()` to:
    
    - use shared fixtures as possible
    - improves variable names
    - add `@covers` annotation as required
    
    Props peterwilsoncc, costdev.
    See #57841.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55924 602fd350-edb4-49c9-b593-d223f7449a82

commit 8a5411bcbad43e4c33884266e7d1a2519c81a358
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Jun 15 01:37:09 2023 +0000

    Posts, Post Types: Introduce `item_trashed` post type label.
    
    This allows the block editor to announce the correct message when an entity is moved to the Trash.
    
    Original issue from Gutenberg repository:
    * [https://github.com/WordPress/gutenberg/issues/19144 #19144 Wrong notification message shown when an entity is moved to trash]
    
    Props james-roberts, ntsekouras, nrqsnchz, afercia, swissspidy, joedolson, talldanwp, SergeyBiryukov.
    Fixes #51387.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55923 602fd350-edb4-49c9-b593-d223f7449a82

commit 8e333975502429be38729468fc25f749a0edc5d6
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Thu Jun 15 00:00:47 2023 +0000

    Tests/Build tools: Add `@covers` annotation to `wp_set_object_terms()` tests.
    
    Props @costdev.
    See #57841.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55922 602fd350-edb4-49c9-b593-d223f7449a82

commit 6178829ab0594d3a541c406502ba31e05ddd82f3
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Wed Jun 14 23:49:36 2023 +0000

    Taxonomy: Prevent deprecation notices clearing terms.
    
    Prevents `wp_set_object_terms()` throwing a deprecation notice in PHP 8.1+ when passing an empty value as the second parameter to clear the terms.
    
    Props audrasjb, chouby, costdev, jrf, peterwilsoncc, prashantbhivsane, sergeybiryukov.
    Fixes #57923.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55921 602fd350-edb4-49c9-b593-d223f7449a82

commit a5db7658be460ddd8e5fcb146340de09477bf74e
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Wed Jun 14 20:44:53 2023 +0000

    Build/Test Tools: Revert accidental change to .env
    
    Follow-up to [55919] to restore .env state.
    
    Props joedolson.
    See #50523.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55920 602fd350-edb4-49c9-b593-d223f7449a82

commit 3a9893b7cc41fa8a195e5d22979ffec9f64b9dfa
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Wed Jun 14 20:40:42 2023 +0000

    Media: Update admin image editor design.
    
    Significant restructure of the admin image editor interface, but no new functionality. Reorganize editing buttons into a common region at the top of the editor. Move image rotation tools into a pop-out menu. Add 180 degree rotation option. Add scale button to control group. Move sidebar tools next to the editing canvas to improve visual proximity between action and result. Enlarge editing canvas and crop handles. Separate activating crop functions from applying crop. Add numeric inputs for crop & scale values.
    
    A long term goal is to move undo/redo and cancel/save into the modal title bar, but that is not feasible without significant updates to the modal framework.
    
    Props afercia, karmatosed, nrqsnchz, antpb, chaion07, costdev, peterwilsoncc, antpb, sabernhardt, prashantbhivsane, joedolson.
    Fixes #50523.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55919 602fd350-edb4-49c9-b593-d223f7449a82

commit 8b9691ab24628d8feab97ae534d128cd9c31e431
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Wed Jun 14 14:09:23 2023 +0000

    Docs: Use third-person singular verbs in various function descriptions, as per docblocks standards.
    
    Follow-up to [55911], [55916], [55917].
    
    Props costdev.
    See #57840.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55918 602fd350-edb4-49c9-b593-d223f7449a82

commit 6837a90e49e82192224472ac35fe2a9cc7a9e2ac
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Wed Jun 14 14:06:03 2023 +0000

    Docs: Use third-person singular verbs in various function descriptions, as per docblocks standards.
    
    Follow-up to [55911], [55916].
    
    Props costdev.
    See #57840.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55917 602fd350-edb4-49c9-b593-d223f7449a82

commit 1807432cd2134cd466de8cac471b2af75c8b4506
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Wed Jun 14 12:55:11 2023 +0000

    Docs: Use third-person singular verbs in various function descriptions, as per docblocks standards.
    
    Follow-up to [55911].
    
    Props costdev, audrasjb.
    See #57840.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55916 602fd350-edb4-49c9-b593-d223f7449a82

commit 5d544a5c69aa498bdd2e845f4b684550ab3b592b
Author: AndrÃ© <oandregal@git.wordpress.org>
Date:   Wed Jun 14 10:44:12 2023 +0000

    Fix lint issues in WP_Theme_JSON::sanitize method.
    
    Add @since tag and indent the parameter properly.
    
    Props mukesh27.
    Fixes #58462.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55915 602fd350-edb4-49c9-b593-d223f7449a82

commit 2888dafcabc299269845c4c62951b66548072f52
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Jun 14 10:33:37 2023 +0000

    Coding Standards: Use strict comparison in `wp-includes/class-wp-oembed.php`.
    
    Follow-up to [13996].
    
    Props aristath, poena, afercia, SergeyBiryukov.
    See #57839.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55914 602fd350-edb4-49c9-b593-d223f7449a82

commit 1ade93bb0641da6d740a30018fa984772dc87493
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Wed Jun 14 10:02:36 2023 +0000

    Twenty Seventeen: Improve Grid View variation rendering in the editor for the Post List block.
    
    This changeset updates Twenty Seventeen's block editor stylesheet to remove an unwanted `disc` list style on the "Grid" variation of the Post List block.
    
    Props nkeller15, sabernhardt.
    Fixes #58531.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55913 602fd350-edb4-49c9-b593-d223f7449a82

commit 3a4e746807d806b4c56fa1c94bbb2ed4a448c2f7
Author: AndrÃ© <oandregal@git.wordpress.org>
Date:   Wed Jun 14 07:40:50 2023 +0000

    Ignore unregistered block style variations from `theme.json`.
    
    This PR makes sure unregistered block style variations declared via `theme.json` are ignored. It fixes an issue by style variations don't work in the editor and CSS rules without a selector are output to the front-end.
    
    Props isabel_brison.
    Fixes #58462.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55912 602fd350-edb4-49c9-b593-d223f7449a82

commit f0caeb5d3cf7ae345e1a938f27223232ef9826f2
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Wed Jun 14 06:32:14 2023 +0000

    Docs: Use third-person singular verbs in various function descriptions, as per docblocks standards.
    
    Props costdev, audrasjb.
    See #57840.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55911 602fd350-edb4-49c9-b593-d223f7449a82

commit 0bfc842f807582906bc119eb62aff6bd1c1e8dea
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Tue Jun 13 11:44:14 2023 +0000

    Editor: Skip file_exist check for core blocks.
    
    In `register_block_type_from_metadata` function, skip calling `file_exists` on core blocks. Core blocks are part of the codebase and will never not exist. Not calling this function is better for performance, as the file lookup can be expensive.
    
    Props spacedmonkey, joemcgill.
    Fixes #58385.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55910 602fd350-edb4-49c9-b593-d223f7449a82

commit 559e6cecf49505ecc3a21fbff647fdc5c3f892a3
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Tue Jun 13 09:51:11 2023 +0000

    Script Loader: Add a check to see in style is registered in wp_maybe_inline_styles.
    
    Add a check in `wp_maybe_inline_styles` to check that style is registered before processing items in queue. It is possible that developers may have called `wp_deregister_style`, unregistering style but the style still be in the queue to be processed. Without this check, typing to access the `src` property would result in a notice error.
    
    Follow on from [55888].
    
    Props spacedmonkey, flixos90, dd32, kebbet.
    See #58394.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55909 602fd350-edb4-49c9-b593-d223f7449a82

commit 13f85b4365bf7b14c38785489ae4a50da80cc8a8
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Jun 13 04:44:40 2023 +0000

    Coding Standards: Use strict comparison in `wp-includes/class-wp-list-util.php`.
    
    Follow-up to [18606], [38928], [48413].
    
    Props aristath, poena, afercia, SergeyBiryukov.
    See #57839.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55908 602fd350-edb4-49c9-b593-d223f7449a82

commit 12f854cacdea75b244fbd4b5820a508a16c10578
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Mon Jun 12 11:20:58 2023 +0000

    Editor: Improve the append_to_selector method.
    
    Improve `append_to_selector` method in `WP_Theme_JSON` by checking to see if string contains a common before imploding / exploding string, which improves performance.
    
    Originally developed and tested in [WordPress/gutenberg#47833 Gutenberg PR 47833].
    
    Props spacedmonkey, flixos90, mukesh27, joemcgill, wildworks, oandregal, mamaduka.
    Fixes #58231.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55907 602fd350-edb4-49c9-b593-d223f7449a82

commit fdd428d67a9c40ab1a75cda9bc865b6ab0ebb290
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Jun 12 06:10:17 2023 +0000

    Coding Standards: Use strict comparison in `wp-includes/class-walker-page.php`.
    
    Follow-up to [3704], [9299], [9485], [16100], [44416].
    
    Props aristath, poena, afercia, SergeyBiryukov.
    See #57839.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55906 602fd350-edb4-49c9-b593-d223f7449a82

commit c5101f1101eabc0c637334b9445f8eb9be8fe257
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Jun 11 09:25:43 2023 +0000

    Coding Standards: Use strict comparison in `wp-includes/class-walker-page-dropdown.php`.
    
    Follow-up to [3704], [16100].
    
    Props aristath, poena, afercia, SergeyBiryukov.
    See #57839.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55905 602fd350-edb4-49c9-b593-d223f7449a82

commit 305816b232acced60f99aeb2b96eec55201c9605
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Jun 10 07:01:16 2023 +0000

    Coding Standards: Use strict comparison in `wp-admin/options-writing.php`.
    
    Follow-up to [4326], [19304].
    
    Props aristath, poena, afercia, SergeyBiryukov.
    See #57839.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55904 602fd350-edb4-49c9-b593-d223f7449a82

commit 8ddd94e6939aa027f09cb7e8b649836c5306e0bd
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Sat Jun 10 05:28:02 2023 +0000

    Plugins: Display Auto-updates filters when the current view is "Must Use" or "Drop-in".
    
    This changeset fixes a bug where the "Auto-updates Enabled/Disabled" filters were not showing when the current view is "Must Use" or "Drop-in".
    
    Props NekoJonez, pbiron, costdev, audrasjb.
    Fixes #54309.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55903 602fd350-edb4-49c9-b593-d223f7449a82

commit 855dd129a13fa9fbc0e6ed685faebedd814cebfc
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Fri Jun 9 15:06:17 2023 +0000

    Login and Registration: Grammar improvement on Sign-up user-facing strings.
    
    Props NekoJonez, audrasjb.
    Fixes #58115.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55902 602fd350-edb4-49c9-b593-d223f7449a82

commit 5068f4781bda7ecb55e89339ceca1ee8c9997f93
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Fri Jun 9 13:58:02 2023 +0000

    XML-RPC: Update RSD specification URL in XMLRPC library.
    
    This changeset updates the RSD specification URL to avoid extra redirection.
    
    Props utsav72640.
    Fixes #58503.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55901 602fd350-edb4-49c9-b593-d223f7449a82

commit ec5788c3872ab572bcbb2171c1afdde8b242b3cc
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Jun 9 05:47:23 2023 +0000

    External Libraries: Update jQuery Migrate to version 3.4.1.
    
    Reference:
    * [https://github.com/jquery/jquery-migrate/compare/3.4.0...3.4.1 Full list of changes in jQuery Migrate 3.4.1]
    
    Follow-up to [49101], [49338], [49615], [49649], [55237].
    
    Props sstoqnov, hareesh-pillai, mgol.
    Fixes #58451.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55900 602fd350-edb4-49c9-b593-d223f7449a82

commit ba9a2f8b83211fbdee1621fd4f39dcb11908b817
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Jun 8 14:16:48 2023 +0000

    Upgrade/Install: Improve WP_Upgrader strings rendering on small screens.
    
    This changeset adds a `pre` class to "Downloading update from…" user facing strings located in `Core_Upgrader`, `Language_Pack_Upgrader`, `Plugin_Upgrader` and
    `Theme_Upgrader` classes.
    
    Follow-up to [11295].
    
    Props sumitsingh, costdev.
    Fixes #58477.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55899 602fd350-edb4-49c9-b593-d223f7449a82

commit ec9085966673fe3b1617e43b01faa8f0a1ce07e1
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Jun 8 13:58:47 2023 +0000

    Twenty Twenty-Three: Remove redundant `px` unit in a few inline styles.
    
    Follow-up to [54312], [54629].
    
    Props ankitmaru.
    Fixes #58485.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55898 602fd350-edb4-49c9-b593-d223f7449a82

commit e2a747662ee018262a86ddfbc38cd7292bc911bb
Author: Pascal Birchler <swissspidy@git.wordpress.org>
Date:   Thu Jun 8 13:26:48 2023 +0000

    Embeds: Add support for TikTok creator profiles.
    
    Follow-up to initial support in [47216] / #49083.
    
    Props mukesh27, anveshika, Ankit K Gupta.
    Fixes #55784.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55897 602fd350-edb4-49c9-b593-d223f7449a82

commit 37a2c8d540107cc3f6fe85d2074aa183c19ec548
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Thu Jun 8 11:14:21 2023 +0000

    Media: Fix CSS layout issues in Replace media dialog.
    
    Make focus outline fully visible at all media query breakpoints, prevent the date filter from becoming hidden, and match the heading styles to other screens.
    
    Props sabernhardt, hareesh-pillai, alvitazwar052.
    Fixes #54395.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55896 602fd350-edb4-49c9-b593-d223f7449a82

commit 7d503a499f39dba9afe9d65f67213e66144722bd
Author: Dominik Schilling <ocean90@git.wordpress.org>
Date:   Thu Jun 8 10:00:07 2023 +0000

    Query: Allow queries by `wp_dashboard_recent_posts()` to be cached.
    
    Set the `cache_results` argument to `true` for `WP_Query` to ensure the posts queries on the dashboard can also be cached.
    
    Props benjgrolleau.
    Fixes #57055.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55895 602fd350-edb4-49c9-b593-d223f7449a82

commit 624a6c499017247334e8d812fdbeac61f621db77
Author: Aaron Jorbin <jorbin@git.wordpress.org>
Date:   Thu Jun 8 09:05:08 2023 +0000

    Multisite: Require a site title when a site is created
    
    The UI for adding a site says that title is required, however the actual code wasn't requiring it.
    
    Props ideag.
    Fixes #54012.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55894 602fd350-edb4-49c9-b593-d223f7449a82

commit 9d0e658902fe72ec74c0054af84742d8894987ae
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Jun 8 07:52:58 2023 +0000

    Docs: Mark `apply_filters()` third parameter `$args` as optional.
    
    The `$args` parameter of `apply_filters()` is optional. This changeset updates the related Docblock description accordingly so the parameter is not marked as
    `required` on DevHub.
    
    Props gaeldenysiak, audrasjb, gilles66.
    Fixes #58481.
    See #57840.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55893 602fd350-edb4-49c9-b593-d223f7449a82

commit e8846318cf9a4c8d012ae32b4de9a51655237a24
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Wed Jun 7 21:23:08 2023 +0000

    Users: Use `type="hidden"` for hidden input on User edit administration panel.
    
    This hidden field added in [24552] to fix an issue with Chrome that was ignoring `autocomplete="off"` in `<input>`, by using a hidden, non-named, non-empty
    input right before the password field. However this input was only hidden via CSS and didn't have any label, which is considered as an accessibility issue.
    This changeset replaces `class="hidden"` with `type="hidden"` to properly indicate to user agents that it is an hidden field.
    
    Follow-up to [24552].
    
    Props smit08, audrasjb, sabernhardt, ryokuhi, tushar284, ashikurwp, siddhantwadhwani, pavanpatil1.
    Fixes #56776.
     --Cette ligne, et les suivantes
    ci-dessous, seront ignorées--
    
    M    trunk/src/wp-admin/user-edit.php
    M    trunk/src/wp-admin/user-new.php
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55892 602fd350-edb4-49c9-b593-d223f7449a82

commit 3fb4889b1fffd307b04d00c404e61a9316d7d32d
Author: Daniel Bachhuber <danielbachhuber@git.wordpress.org>
Date:   Wed Jun 7 20:27:17 2023 +0000

    Bootstrap/Load: Revert [55890].
    
    As it turns out, WP-CLI *also* doesn't `define( 'WP_USE_THEMES', true );`, which means an active theme's `functions.php` isn't loaded by default and causes a backwards compatibility break.
    
    See #57928.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55891 602fd350-edb4-49c9-b593-d223f7449a82

commit 8fe92ac1371faed0e963b5c258c9cdf1d0455682
Author: Daniel Bachhuber <danielbachhuber@git.wordpress.org>
Date:   Wed Jun 7 20:08:00 2023 +0000

    Load: Avoid loading a theme's `functions.php` when `! wp_using_themes()`.
    
    Updates `wp_get_active_and_valid_themes()` to return early when `wp_using_themes()` returns `false`. This prevents a theme's `functions.php` from being loaded erroneously when the site isn't using themes.
    
    Also adds `define( 'WP_USE_THEMES', true );` to the test suite bootstrap. Some tests randomly break without it because they were dependent on the previous buggy behavior.
    
    Props bpayton, costdev, danielbachhuber, hellofromtonya, sergeybiryukov, spacedmonkey.
    Fixes #57928.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55890 602fd350-edb4-49c9-b593-d223f7449a82

commit 53b1e27f94750f79182e4a0981cf4ced93b93b15
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Wed Jun 7 07:07:20 2023 +0000

    Administration: Improve alignment in the Activity dashboard widget.
    
    This changeset sets column layout to posts listed in the Activity dashboard widget to prevent alignement issues on line breaks.
    
    Props sumitsingh, dhrumilk, chiragrathod103, kebbet, audrasjb, pooja1210.
    Fixes #58114.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55889 602fd350-edb4-49c9-b593-d223f7449a82

commit 582ddb82f4524c15c675d32bd173215769a59728
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Wed Jun 7 06:54:18 2023 +0000

    Script Loader: Improve performance of wp_maybe_inline_styles function.
    
    The `wp_maybe_inline_styles` function is called twice on the average page load. On it's second run however, it did not check to see if the style had already been processed on the first run. This resulted in calling `filesize` and `get_file_contents` unnecessarily, which was bad for performance. Now, the loop around the queued styles, checks to see if the source is set to false, meaning it has already been processed. This change also replaces calls to `filesize` with the core function `wp_filesize`, which improves extensibility.
    
    Props spacedmonkey, flixos90, peterwilsoncc, joemcgill.
    Fixes #58394.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55888 602fd350-edb4-49c9-b593-d223f7449a82

commit 8710458d66609459efa460c868e434c523ae206a
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Wed Jun 7 06:51:53 2023 +0000

    Docs: Improve various docblock in `WP_Query` class, as per docblock standards.
    
    See #57840.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55887 602fd350-edb4-49c9-b593-d223f7449a82

commit 2967c438910a853d3189c85f2c4820cfe3968f25
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Jun 7 06:38:10 2023 +0000

    Coding Standards: Use strict comparison in `wp-includes/class-wp-http-streams.php`.
    
    Follow-up to [12424], [25224], [25303], [29852], [45667], [47808], [51825].
    
    Props aristath, poena, afercia, SergeyBiryukov.
    See #57839.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55886 602fd350-edb4-49c9-b593-d223f7449a82

commit 10bf8bb558bb8e8bb90500307f151a26e84151e1
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Tue Jun 6 16:17:02 2023 +0000

    Themes: Replace file_exists checks with call to is_block_theme method in WP_Theme class.
    
    In `WP_Theme` class, replace two calls to `file_exists` with a call to the method `is_block_theme`. This method `is_block_theme` does the same file exists check, but it then caches the result for improved performance.
    
    Props nihar007, spacedmonkey, mukesh27, costdev, juzar.
    Fixes #58405.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55885 602fd350-edb4-49c9-b593-d223f7449a82

commit 3df744228ee8396d4699c6b2652eb70c71dcb8b6
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Jun 6 15:07:32 2023 +0000

    Docs: Fix a few more typos in Docblocks.
    
    Follow-up to [6779], [10565], [12023], [25224], [27533], [32806], [34777], [45262], [46594], [55823], [55824], [55827].
    
    Props nazmulhudadev, mukesh27.
    Fixes #58338.
    See #57840.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55884 602fd350-edb4-49c9-b593-d223f7449a82

commit 2da269e4d2aa92fb6b88c72ca18af187001605ec
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Jun 6 00:28:54 2023 +0000

    Coding Standards: Use strict comparison in `wp-includes/class-walker-category.php`.
    
    Follow-up to [3033], [3704], [4576], [4580], [5530], [15847], [36008].
    
    Props aristath, poena, afercia, SergeyBiryukov.
    See #57839.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55883 602fd350-edb4-49c9-b593-d223f7449a82

commit 96452a0e08cdbeb6290f6cd3ff7bd3f652725755
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Mon Jun 5 21:33:49 2023 +0000

    Docs: Various docblock improvements in Custom Header Image related functions, as per docblocks standards.
    
    See #57840.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55882 602fd350-edb4-49c9-b593-d223f7449a82

commit baa9ae328ef52e770b8a1932803d5c3ab9de99a3
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Mon Jun 5 21:03:38 2023 +0000

    I18N: Provide `gettext` context to disambiguate various translation strings.
    
    This changeset adds context to various strings:
    - `'Background'` string when referring to Custom Background appearance screens
    - `'Header'` string when referring to Custom Header appearance screens
    - `'General'`, `'Header'` and `'Footer'` strings when referring to template part areas
    
    Props gonzomir, SergeyBiryukov, mukesh27, costdev, ankitmaru.
    Fixes #58424.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55881 602fd350-edb4-49c9-b593-d223f7449a82

commit aaf778c6a17954fa8a7e9be18009d39e7e606d39
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Jun 5 11:14:53 2023 +0000

    Coding Standards: Use strict comparison in `wp-includes/category.php`.
    
    Follow-up to [3511], [4173], [5525].
    
    Props aristath, poena, afercia, SergeyBiryukov.
    See #57839.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55880 602fd350-edb4-49c9-b593-d223f7449a82

commit 537eb2145a356b471f474927ab8458ddef6802c1
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Mon Jun 5 09:29:53 2023 +0000

    Editor: Use register_block_type_from_metadata in register_core_block_types_from_metadata.
    
    Use `register_block_type_from_metadata` in `register_core_block_types_from_metadata` function instead of `register_block_type`. This saves an unnecessary call to `file_exists` in `register_block_type` as core block files will always exist.
    
    Props nihar007, spacedmonkey, mukesh27, gziolo, sudipatel007.
    Fixes #58342.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55879 602fd350-edb4-49c9-b593-d223f7449a82

commit 522a80a8fc0266f0157f4f557ff930ff7a15ea45
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Jun 4 02:33:32 2023 +0000

    Coding Standards: Use strict comparison in `wp-admin/users.php`.
    
    Includes minor code layout fixes for better readability.
    
    Follow-up to [3061], [31941], [47848], [55622], [55623].
    
    Props aristath, poena, afercia, SergeyBiryukov.
    See #57839.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55878 602fd350-edb4-49c9-b593-d223f7449a82

commit 933537c35a9ebaba561562652d76a1ff2e988731
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Jun 3 16:16:55 2023 +0000

    Coding Standards: Use strict comparison in `wp-admin/network/users.php`.
    
    Follow-up to [12603], [18562].
    
    Props aristath, poena, afercia, SergeyBiryukov.
    See #57839.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55877 602fd350-edb4-49c9-b593-d223f7449a82

commit a5da7e1573187972429eefc870aea007ed826639
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Jun 2 12:38:21 2023 +0000

    Coding Standards: Use strict comparison in `wp-admin/network/sites.php`.
    
    Follow-up to [12603], [18562], [55676].
    
    Props aristath, poena, afercia, SergeyBiryukov.
    See #57839.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55876 602fd350-edb4-49c9-b593-d223f7449a82

commit 530fd02fbe66789a121d641625f32a02e7211ac0
Author: Weston Ruter <westonruter@git.wordpress.org>
Date:   Thu Jun 1 18:07:19 2023 +0000

    Emoji: Remove extraneous `sprintf()` from `_print_emoji_detection_script()`.
    
    The `sprintf()` is not being passed any values, and there is no placeholder to replace.
    This originated in r52132 in which I erroneously included this `sprintf()` in
    two places. I fixed one of the cases in r52151 but I missed the other.
    
    Follow-up to [52132], [52151].
    
    Fixes #58436.
    See #44632.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55875 602fd350-edb4-49c9-b593-d223f7449a82

commit 4658c4435837329389bafd731d25e5bea01830b5
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Jun 1 15:12:16 2023 +0000

    Coding Standards: Use strict comparison in `wp-admin/includes/update.php`.
    
    Includes minor code layout fixes for better readability.
    
    Follow-up to [9441], [25540].
    
    Props aristath, poena, afercia, SergeyBiryukov.
    See #57839.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55874 602fd350-edb4-49c9-b593-d223f7449a82

commit 413f59caeea4a29b8b8a89d8970c9e3bd2c8578b
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed May 31 14:51:22 2023 +0000

    Coding Standards: Use strict comparison in `wp-admin/includes/menu.php`.
    
    Includes minor code layout fixes for better readability.
    
    Follow-up to [3536], [4093], [9578], [11092], [18034].
    
    Props aristath, poena, afercia, SergeyBiryukov.
    See #57839.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55873 602fd350-edb4-49c9-b593-d223f7449a82

commit 4dbb202e29b6509e4660c38649657bdbd08188b3
Author: John Blackbourn <johnbillion@git.wordpress.org>
Date:   Tue May 30 19:44:56 2023 +0000

    Media: Correct the fallback value passed to the `$mimes` parameter of `wp_check_filetype_and_ext()` from `_wp_handle_upload()`, and update corresponding documentation.
    
    Previously when the `mimes` element was not specified in the overrides array passed to `_wp_handle_upload()` it resulted in boolean false being passed to this parameter, which is incorrect. The fallback value should be `null`.
    
    Props platonkristinin, pkbhatt
    
    Fixes #58349
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55872 602fd350-edb4-49c9-b593-d223f7449a82

commit 240f914e4f4bc28bba0d0705ade7d08a45487350
Author: John Blackbourn <johnbillion@git.wordpress.org>
Date:   Tue May 30 18:46:58 2023 +0000

    Cron API: Attempt to raise the PHP memory limit for cron event processing.
    
    Since cron events often consume extra memory by nature, it makes sense to give them the full amount available by default. In practice this means the memory will be increased to `WP_MAX_MEMORY_LIMIT` (which is 256MB by default) during cron event processing if the default memory limit is lower than this value.
    
    The new `cron_memory_limit` filter can be used to adjust this value if necessary.
    
    Note that this change will not by default affect external means of processing cron events, such as the `wp cron` command in WP-CLI, server-level crontab events, or any other cron event processing mechanism that bypasses `wp-cron.php`.
    
    Props iandunn, thakkarhardik
    
    Fixes #56628
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55871 602fd350-edb4-49c9-b593-d223f7449a82

commit c9f3a682812c4df3fde221969619acfdf529ec72
Author: John Blackbourn <johnbillion@git.wordpress.org>
Date:   Tue May 30 17:43:27 2023 +0000

    Docs: Miscellaneous corrections and improvements to docblocks.
    
    See #57840
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55870 602fd350-edb4-49c9-b593-d223f7449a82

commit 5dcb2e928c8e9643c5a5c919f0b63df7bb17c5e3
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue May 30 14:32:25 2023 +0000

    Upgrade/Install: Avoid an extra database query in `populate_network()`.
    
    This moves the query for user ID of the new network's administrator closer to where the value is actually used.
    
    Includes removing unnecessary `get_userdata()` call, as user ID is the only data needed here.
    
    Follow-up to [12756], [35575], [43628].
    
    Props nihar007, sakibmd, mukesh27, costdev, SergeyBiryukov.
    Fixes #58423.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55869 602fd350-edb4-49c9-b593-d223f7449a82

commit 7b97d8c74e93f37b66827d3117499b94356ddb6a
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue May 30 14:11:46 2023 +0000

    Docs: Add a `@since` tag for the `pre_wp_setup_nav_menu_item` filter.
    
    Includes moving the unit test next to the other `wp_setup_nav_menu_item()` tests and using the `MockAction` class to confirm that the filter runs.
    
    Follow-up to [55867].
    
    Props TobiasBg.
    Fixes #56577.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55868 602fd350-edb4-49c9-b593-d223f7449a82

commit 28eaeaed408703fd5f86907778d28de12ae07f73
Author: Andrew Ozz <azaozz@git.wordpress.org>
Date:   Tue May 30 11:19:41 2023 +0000

    Menus: Add a short-circuit filter to `wp_setup_nav_menu_item()`.
    
    Props: davidbinda, ironprogrammer, andizer.
    Fixes: #56577.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55867 602fd350-edb4-49c9-b593-d223f7449a82

commit e82251df5bd59fb4327d0b0aa7a57ade20fe97c2
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon May 29 16:24:43 2023 +0000

    Coding Standards: Use strict comparison in `wp-admin/includes/schema.php`.
    
    Follow-up to [12756], [12862], [12880], [13070], [14485], [17928], [18899], [41348], [43628].
    
    Props faisalahammad, aristath, poena, afercia, SergeyBiryukov.
    Fixes #58042, #58047. See #57839.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55866 602fd350-edb4-49c9-b593-d223f7449a82

commit bf38bd326c90fbe0a46ecc2253ee8ad00a8d7b52
Author: Pascal Birchler <swissspidy@git.wordpress.org>
Date:   Mon May 29 08:34:43 2023 +0000

    I18N: Improve `_load_textdomain_just_in_time()` logic when there are no translation files.
    
    Fixes a performance issue where the JIT logic is invoked for every translation call if the there are no translations in the current locale. With this change, the information is cached by adding `Noop_Translations` instances to the global `$l10n` array. This way, `get_translations_for_domain()` returns earlier, thus avoiding subsequent `_load_textdomain_just_in_time()` calls.
    
    Props swissspidy, johnbillion, ocean90.
    Fixes #58321.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55865 602fd350-edb4-49c9-b593-d223f7449a82

commit 7a89d0a2652d97894cebc6edf5221f0ce76f0714
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun May 28 11:44:24 2023 +0000

    Users: Make sure bulk actions are only executed with the Apply button, not Change.
    
    The Change button is supposed to perform the “Change role to...” action only, but could unintentionally be used for other bulk actions if the role was not selected.
    
    This commit removes an extra check and ensures the correct error message is displayed in that case:
    
     Sorry, you are not allowed to give users that role.
    
    Follow-up to [6990], [8691], [9028], [15576], [15642], [34636], [49944].
    
    Props haritpanchal, costdev, ankit-k-gupta, SergeyBiryukov.
    Fixes #57952.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55864 602fd350-edb4-49c9-b593-d223f7449a82

commit 3d0b0bb884596aabf6b1aedb9658bcbf7594be5b
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat May 27 09:51:23 2023 +0000

    Themes: Use correct escaping function for `aria-label` in `_navigation_markup()`.
    
    Follow-up to [46236].
    
    Props sabernhardt, costdev, mukesh27.
    Fixes #58387.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55863 602fd350-edb4-49c9-b593-d223f7449a82

commit 66d85f381e88dd4dac2106ba73a36464859d76d4
Author: Pascal Birchler <swissspidy@git.wordpress.org>
Date:   Fri May 26 17:55:40 2023 +0000

    I18N: Refactor `determine_locale()` for performance and readability.
    
    Refactors the function to avoid unnecessary `get_locale()` calls and slightly improve performance, while keeping it readable.
    
    Adds tests.
    
    Props Cybr, spacedmonkey, swissspidy.
    Fixes #58317.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55862 602fd350-edb4-49c9-b593-d223f7449a82

commit 404fd63386493dd96dd0af8a494ee30fb76362de
Author: Weston Ruter <westonruter@git.wordpress.org>
Date:   Fri May 26 17:23:49 2023 +0000

    Bundled Themes: Remove/disable obsolete IE-specific skip-link-focus-fix.
    
    * Removes script from the `wp_print_footer_scripts` action in Twenty Nineteen, Twenty Twenty, and Twenty Twenty-One.
    * Switches enqueue functions to just register the scripts in Twenty Fifteen, Twenty Sixteen, and Twenty Seventeen.
    * Rearranges Twenty Seventeen's scripts to connect `twentyseventeenScreenReaderText` with the global script instead of the unused skip link fix.
    * Updates scripts in Twenty Fifteen and Twenty Sixteen with code from Twenty Seventeen _to run on Internet Explorer only_. Twenty Sixteen needed to keep an adjustment that offsets the toolbar and border.
    * Removes the script from JS files in Twenty Thirteen and Twenty Fourteen and edits their modified dates.
    
    Props sabernhardt, westonruter, joedolson, flixos90, mukesh27.
    Fixes #54421.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55861 602fd350-edb4-49c9-b593-d223f7449a82

commit d46c47f0fdd43ad67743fb390187c4e32876d8a3
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri May 26 11:31:14 2023 +0000

    External Libraries: Update jQuery to version 3.7.0.
    
    This release includes bug fixes, a new `.uniqueSort()` method, and a performance improvement for some use cases when using manipulation methods like `.append()`.
    
    References:
    * [https://blog.jquery.com/2023/05/11/jquery-3-7-0-released-staying-in-order/ jQuery 3.7.0 release notes]
    * [https://github.com/jquery/jquery/compare/3.6.4...3.7.0 Full list of changes in jQuery 3.7.0]
    
    Follow-up to [49101], [50445], [50520], [54202], [55012], [55491].
    
    Props mgol, jorbin, hbhalodia, desrosj, TobiasBg, audrasjb, mukesh27, naeemhaque, nuhel, SergeyBiryukov.
    Fixes #58083.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55860 602fd350-edb4-49c9-b593-d223f7449a82

commit 6eda6f0825a38f4bf1498abd24e492d0a80cfa0f
Author: Anthony Burchell <antpb@git.wordpress.org>
Date:   Thu May 25 15:15:45 2023 +0000

    Media: Prevent scaling up of images in the Image Editor.
    
    Previously, when scaling an image larger than the source size in the image edit states the image would silently fail the scaling action. This patch provides an error when someone attempts to scale an image larger than the source size while also disabling the button to initiate the action.
    
    Props brookedot, joedolson, markoheijnen, mikeschroder, desrosj, Mista-Flo, costdev.
    Fixes #26381.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55859 602fd350-edb4-49c9-b593-d223f7449a82

commit ad57ef6314ec3fd4e50d2caedc1d1d103f4f7db5
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu May 25 13:12:55 2023 +0000

    Formatting: Add support for schwa in remove_accents().
    
    This changeset adds support for schwa character. Ə (U+018F) and ə (U+0259) are part of Latin Extended-B and used in
    several languages like Azerbaijani or also in gender neutral Italian.
    
    Props suleymankenar, audrasjb, przemekhernik.
    Fixes #57609.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55858 602fd350-edb4-49c9-b593-d223f7449a82

commit febce4a4823c2c62b65138aaaee3f2bb73463fc9
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu May 25 12:53:24 2023 +0000

    Coding Standards: Improve formatting of some SQL queries for better readability.
    
    This corrects the placement of double quotes around the query and makes sure the alignment is consistent.
    
    Props umeshmcakadi, mukesh27, krupalpanchal, dhrumilk, SergeyBiryukov.
    Fixes #58372.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55857 602fd350-edb4-49c9-b593-d223f7449a82

commit 69718b2612b6ae64b733d197ea9526a82e48ea27
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Thu May 25 10:53:52 2023 +0000

    Comments: Move wp_queue_comments_for_comment_meta_lazyload function to the correct file.
    
    As of [55855] wp_queue_comments_for_comment_meta_lazyload was deprecated. But deprecate to wp-admin/deprecated.php and not wp-includes/deprecated.php.This is incorrect, as this is a public function and not an admin function.
    
    Props SergeyBiryukov, spacedmonkey.
    See #58301.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55856 602fd350-edb4-49c9-b593-d223f7449a82

commit 48683a21fe444a1e85f193eefa4f15db3a0f8719
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Thu May 25 10:29:39 2023 +0000

    Comments: Deprecate wp_queue_comments_for_comment_meta_lazyload function.
    
    As of [55749] wp_queue_comments_for_comment_meta_lazyload is no longer used in core. This commit, deprecates this function. Update docs and tests accordingly.
    
    Props sh4lin, spacedmonkey, costdev, peterwilsoncc.
    Fixes #58301.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55855 602fd350-edb4-49c9-b593-d223f7449a82

commit 52f05444bab8659076a3cd6b5282ea44af44da86
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Wed May 24 17:33:26 2023 +0000

    Options, Meta APIs: Change the option can_compress_scripts to be autoloaded.
    
    Ensure that the option `can_compress_scripts` is autoloaded on single sites, as this option is used in all requests. This change saves one database query per page request.
    
    Props RavanH, spacedmonkey, costdev, azaozz, flixos90.
    Fixes #55270.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55854 602fd350-edb4-49c9-b593-d223f7449a82

commit d51ee6ce097fb288aca9da1f95899fc3d77c0fa4
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed May 24 10:13:49 2023 +0000

    Help/About: Reverse the order of conditionals for displaying the "Go to Updates" link.
    
    `isset()` is faster than `current_user_can()`, so should be checked first.
    
    Includes updating code layout for better readability.
    
    Follow-up to [19442], [19524], [28477], [33466], [55848].
    
    See #57839.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55853 602fd350-edb4-49c9-b593-d223f7449a82

commit e1b51684dc38083582b122d97f22d738c44223ce
Author: AndrÃ© <oandregal@git.wordpress.org>
Date:   Wed May 24 09:22:55 2023 +0000

    Loading assets for the editor: Revert [55695].
    
    The changeset [55695] introduced a regression in the order of styles for the editor, causing the styles registered for the block (both editor and front) to be loaded after any other styles enqueued using the `enqueue_block_editor_assets` hook.
    
    Since the original behavior was introduced in WordPress 5.0 changing it breaks the expectations of the ecosystem.
    
    Props ellatrix.
    Fixes #58208.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55852 602fd350-edb4-49c9-b593-d223f7449a82

commit 129843e1497cb21ea241eafd3df9b65c9394f66e
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue May 23 21:58:56 2023 +0000

    General: Improve performance of the `_wp_array_get()` function.
    
    When using a block theme, `_wp_array_get()` is the most called function on the front end of a site.
    
    This commit makes a few minor performance optimizations, which add up to a noticeable improvement.
    
    Follow-up to [49135], [49143], [49580].
    
    Props aristath, jrf, afercia, costdev, swissspidy, flixos90, spacedmonkey, mukesh27, samiamnot, SergeyBiryukov.
    Fixes #58376.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55851 602fd350-edb4-49c9-b593-d223f7449a82

commit 6ff355e87deb837b3da62abecf3509ae0a594991
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Tue May 23 18:23:59 2023 +0000

    Media: Fix lazy-loading bug by avoiding to modify content images when creating an excerpt.
    
    The `wp_filter_content_tags()` function, which modifies image tags for example to optimize performance, is hooked into the `the_content` filter by default. When rendering an excerpt for a post that doesn't have a manually provided excerpt, the post content is used to generate the excerpt, handled by the `wp_trim_excerpt()` function.
    
    Prior to this changeset, this led to `wp_filter_content_tags()` being called on the content when generating the excerpt, which is wasteful as all tags are stripped from the excerpt, and it furthermore could result in a lazy-loading bug when the post content contained images, as those images were being counted even though they would never be rendered as part of the excerpt.
    
    This changeset fixes the bug and slightly improves performance for generating an excerpt by temporarily unhooking the `wp_filter_content_tags()` function from the `the_content` filter when using it to generate the excerpt.
    
    Props costdev, flixos90, joemcgill, mukesh27, salvoaranzulla, spacedmonkey, thekt12, westonruter.
    Fixes #56588.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55850 602fd350-edb4-49c9-b593-d223f7449a82

commit 472c9f242ba6d9141bdb4d239aa9c725abb53214
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue May 23 15:23:15 2023 +0000

    Coding Standards: Use strict comparison in `wp-includes/theme-compat/comments.php`.
    
    Follow-up to [31941], [41285], [55420].
    
    Props sarequl.
    See #57839.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55849 602fd350-edb4-49c9-b593-d223f7449a82

commit 00f5110d9f71cb1b992d9d29af3d8d76ffc161f2
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Mon May 22 20:02:35 2023 +0000

    Help/About: Remove unwanted space in a link located on `about.php`.
    
    This fixes a small interface glitch in the `Go to Updates` link located on
    the the About screen.
    
    Props NekoJonez, mukesh27, sumitbagthariya16, ahsannayem.
    Fixes #58373.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55848 602fd350-edb4-49c9-b593-d223f7449a82

commit 71140f327fa316178d72a13cf27c183a5d9fb4f8
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Mon May 22 19:11:36 2023 +0000

    Media: Conditionally skip lazy-loading on images before the loop to improve LCP performance.
    
    When the logic to exclude images that likely appear above the fold from being lazy-loaded was introduced in WordPress 5.9, initially only images that appear within the main query loop were being considered. However, there is a good chance that images above the fold are rendered before the loop starts, for example in the header template part.
    
    It is particularly common for a theme to display the featured image for a single post in the header. Based on HTTP Archive data from February 2023, the majority of LCP images that are still being lazy-loaded on WordPress sites use the `wp-post-image` class, i.e. are featured images.
    
    This changeset enhances the logic in `wp_get_loading_attr_default()` to not lazy-load images that appear within or after the header template part and before the query loop, using a new `WP_Query::$before_loop` property.
    
    For block themes, this was for the most part already addressed in [55318], however this enhancement implements the solution in a more generally applicable way that brings the improvement to classic themes as well.
    
    Props thekt12, flixos90, spacedmonkey, costdev, zunaid321, mukesh27.
    Fixes #58211.
    See #53675, #56930.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55847 602fd350-edb4-49c9-b593-d223f7449a82

commit 3c6184d81cb09767a476652ce9f5c8111ea2478f
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon May 22 14:14:10 2023 +0000

    Administration: Add missing escaping for CSS classes on the body tag in the admin.
    
    Follow-up to [5892], [10823], [10868], [18882], [21014], [22000], [48060].
    
    Propos rafiem, costdev, dd32, audrasjb, westonruter, SergeyBiryukov.
    Fixes #58336.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55846 602fd350-edb4-49c9-b593-d223f7449a82

commit 1825c75f886f2b1ab4d2bbb3cae74ce6eb18df3e
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Mon May 22 10:01:07 2023 +0000

    Posts, Post Types: Add a new filter for query arguments in `get_pages`.
    
    In [55569] `get_pages` was converted to use `WP_Query` internally. But for plugins that were extending the `get_pages` filters and filter `WP_Query` query arguments, this could result in a conflict. Add a filter `get_pages_query_args` to allow developers to change arguments passed to `WP_Query` but also have the context of the original arguments passed to the `get_pages` function.
    
    This change also expands test coverage of `get_pages` to ensure no breakages in the future.
    
    Props spacedmonkey, westonruter, costdev, flixos90, kenwins, marianne38.
    See #12821.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55845 602fd350-edb4-49c9-b593-d223f7449a82

commit 2748b613220d320bb911f8b1d3db903f076dfc3a
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun May 21 10:39:52 2023 +0000

    Docs: Improve a few DocBlocks in `wp-includes/formatting.php`.
    
    This addresses missing hyphens, typos and unnecessarily complex language.
    
    Follow-up to [8540], [8743], [11615], [11907], [28670], [42056].
    
    Props apermo.
    Fixes #58316.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55844 602fd350-edb4-49c9-b593-d223f7449a82

commit 036d161e7fe069c79f6bcff43f3cd4e51a0798ca
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat May 20 10:17:57 2023 +0000

    Docs: Fix a few more typos in DocBlocks.
    
    Follow-up to [39493], [41726], [55823], [55824], [55827].
    
    See #57840.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55843 602fd350-edb4-49c9-b593-d223f7449a82

commit c25e29ce9bcc03b1c3fc66a7b870f2ddbf37708b
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Sat May 20 03:56:54 2023 +0000

    Editor: Restore shortcode support for block templates.
    
    Follow up to [55761].
    
    Props youknowriad, Clorith, desrosj, antpb, Otto42, johnbillion, jorbin, rmccue, timothyblynjacobs, mikeschroder, peterwilsoncc, audrasjb, matveb, noisysocks, xknown, ehtis, isabel_brison, talldanwp, gziolo, chriscct7, davidbaumwald.
    Fixes #58333.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55828 602fd350-edb4-49c9-b593-d223f7449a82

commit faee35ab0d872b4b2d53b6d50664e68588b84a78
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri May 19 13:25:49 2023 +0000

    Docs: Fix a few more typos in DocBlocks and inline comments.
    
    Follow-up to [6779], [10565], [12023], [25224], [27533], [32806], [34777], [45262], [46594], [55823], [55824].
    
    Props Presskopp.
    See #57840.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55827 602fd350-edb4-49c9-b593-d223f7449a82

commit 7d96c1d5f0922d0ece3615fadb4092ee6b8643b2
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Fri May 19 12:44:54 2023 +0000

    Networks and Sites: Load `WP_Metadata_Lazyloader` class file if class in meta.php.
    
    In [55818] did a check to see if `WP_Metadata_Lazyloader` class existed and the loaded in the class file if it did not. However, require in wp-settings.php was not removed and resulted in the class being loaded twice. To be safe, only include the class file in meta.php and remove from wp-settings.php file.
    
    Props spacedmonkey, ryelle.
    See #58185.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55826 602fd350-edb4-49c9-b593-d223f7449a82

commit 23b007b126fa73211b7db56a38e78e601e4abbc6
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Thu May 18 19:53:37 2023 +0000

    Media: Prevent special images within post content to skew image counts and cause lazy-loading bugs.
    
    In order to skip lazy-loading the first few images on a page, as of WordPress 5.9 there has been logic to count images that are eligible based on certain criteria. One of those groups are images that appear within the content of a post.
    
    This changeset fixes a bug where images created via `get_the_post_thumbnail()` or `wp_get_attachment_image()` that are injected into the post content would skew the count and therefore result in all images to be lazy-loaded, potentially hurting load time performance. This is relevant for example when those functions are called in server-side rendered blocks, or any other filter callbacks hooked into `the_content`.
    
    Props flixos90, antpb, joedolson, spacedmonkey, mukesh27, thekt12, costdev, jrf.
    Fixes #58089.
    See #53675.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55825 602fd350-edb4-49c9-b593-d223f7449a82

commit a10e2bcf05309b814d7aba32281d24fe30eaf65b
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu May 18 12:34:22 2023 +0000

    Docs: Fix a few more typos in inline comments.
    
    Follow-up to [9117], [11005], [12097], [18632], [26192], [55823].
    
    Props Presskopp.
    See #58334, #57840.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55824 602fd350-edb4-49c9-b593-d223f7449a82

commit bd53a88137d6a5cd83b243af38bbf10957e39ae1
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu May 18 11:35:21 2023 +0000

    Docs: Fix typo in a comment in `Bulk_Upgrader_Skin::header()` and `::footer()`.
    
    Follow-up to [13602].
    
    Props kamplugins, costdev, mukesh27, afragen.
    Fixes #58334.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55823 602fd350-edb4-49c9-b593-d223f7449a82

commit d5792c7a8861330d53adc05dacfdfdccb822b1d4
Author: Weston Ruter <westonruter@git.wordpress.org>
Date:   Wed May 17 22:44:21 2023 +0000

    General: Use `static` on closures whenever `$this` is not used to avoid memory leaks.
    
    Props westonruter, jrf, spacedmonkey.
    Fixes #58323.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55822 602fd350-edb4-49c9-b593-d223f7449a82

commit 5db31259ec8553a41655dc61daccc669bc77897a
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Wed May 17 18:29:41 2023 +0000

    Media: Introduce `wp_get_attachment_image_context` filter.
    
    Since WordPress 5.9, a "context" value of "wp_get_attachment_image" has been used in the `wp_get_attachment_image()` function to provide context to underlying functions where that is relevant, e.g. `wp_get_loading_attr_default()`. Since that value used to be not customizable, it required a workaround in `get_the_post_thumbnail()` to avoid calling those functions in `wp_get_attachment_image()`, which resulted in unnecessary complexity and was prone to errors.
    
    This changeset introduces a `wp_get_attachment_image_context` filter and leverages it with private filter callback functions that are leveraged by default when `get_the_post_thumbnail()` is called. This avoids the need for the previous workaround and furthermore provides flexibility for other callers of `wp_get_attachment_image()` to provide their own contexts.
    
    Props flixos90, costdev, thekt12, westonruter, spacedmonkey.
    Fixes #58212.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55821 602fd350-edb4-49c9-b593-d223f7449a82

commit 261ab3fa5de7b1972dd52e938cdb4abd8d9014df
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed May 17 12:04:38 2023 +0000

    Docs: Correct default value for the `$optimize` option in Style Engine.
    
    The default value is set to `true` in `WP_Style_Engine_Processor::get_css()`, but was previously documented as `false` in various DocBlocks.
    
    Follow-up to [54156], [55719], [55733], [55819].
    
    See #57840.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55820 602fd350-edb4-49c9-b593-d223f7449a82

commit 80f34c8aaae758d6083ec01a8bb368c6c8773caa
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed May 17 11:56:47 2023 +0000

    Docs: Improve Style Engine DocBlocks per the documentation standards.
    
    Follow-up to [54156], [55719], [55733].
    
    See #57840.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55819 602fd350-edb4-49c9-b593-d223f7449a82

commit ac87b8701f5c97afe59ac559479436d9a03035ac
Author: spacedmonkey <spacedmonkey@602fd350-edb4-49c9-b593-d223f7449a82>
Date:   Wed May 17 09:42:02 2023 +0000

    Networks and Sites: Load `WP_Metadata_Lazyloader` class file if class does not exist.
    
    Follow on from [55747].
    
    As `get_sites` can be called very early in the bootstrap process, like in the sunrise.php file, it means that the `WP_Metadata_Lazyloader` may not have been loaded yet in the wp-settings.php file. Add a simple check to see if the class exists and if it does not exist then load the class file in.
    
    Props spacedmonkey, peterwilsoncc, dd32.
    See #58185.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55818 602fd350-edb4-49c9-b593-d223f7449a82

commit e4e3bb397e4c92907dc7a9878fef57a5a9ccd4cc
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Wed May 17 09:21:09 2023 +0000

    Editor: Disable lazy loading term meta in `get_block_templates`.
    
    Pass false to the `lazy_load_term_meta` parameter given to the `WP_Query` found in `get_block_templates`. Template post types only ever have one term assigned to them. So priming term meta, does not help performance as lazy loading term meta is only useful if loading multiple terms. As `get_block_templates` is run multiple times on a block theme request, this saves processing time.
    
    Props spacedmonkey, andraganescu, ntsekouras, oandregal, westonruter.
    Fixes #58230.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55817 602fd350-edb4-49c9-b593-d223f7449a82

commit a56a83fc6cd839c2ee3440f61590958c14244443
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Tue May 16 18:50:11 2023 +0000

    Media: Increase default for `wp_omit_loading_attr_threshold` to 3.
    
    The previous default threshold for how many content images to skip lazy-loading on (which was just 1) has proven to be too strict: HTTP Archive data shows that >70% of sites have up to 3 equal-sized images in the initial viewport, each of which could be the LCP image and therefore should not be lazy-loaded. Lazy-loading too many images has adverse effects on load time performance, while increasing the default threshold will not negatively affect load time performance even for sites where a threshold of 1 would be the perfect choice.
    
    The change of default value in this changeset will improve performance for more WordPress sites out of the box. The `wp_omit_loading_attr_threshold` filter can still be used to customize and fine tune the value where needed.
    
    Props thekt12, spacedmonkey, westonruter, flixos90.
    Fixes #58213.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55816 602fd350-edb4-49c9-b593-d223f7449a82

commit 35c0ab3c7463c3c9bd1d3ea35a5a5d63f5cfda8a
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue May 16 14:26:01 2023 +0000

    Media: Prevent CSRF setting attachment thumbnails.
    
    Props martinkrcho, paulkevan, peterwilsoncc, xknown, peterwilsoncc.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55764 602fd350-edb4-49c9-b593-d223f7449a82

commit a6f0f3ea2917b4db686fbed5b300e806e3d7bea5
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue May 16 14:23:10 2023 +0000

    Embeds: Add protocol validation for WordPress Embed code.
    
    Validate that links within auto-discovered embeds are using the `http` or `https` protocols before following links.
    
    Props xknown, dd32, peterwilsoncc.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55763 602fd350-edb4-49c9-b593-d223f7449a82

commit b64aa36aa3a8033fe8d1b89fba1a5c62c72b081f
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue May 16 14:21:35 2023 +0000

    Editor: Ensure block comments are of a valid form.
    
    Ensures that the block delimiter comments are of a valid form: opening with `<!--` and closing with `-->`.
    
    Props xknown, isabel_brison, peterwilsoncc.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55762 602fd350-edb4-49c9-b593-d223f7449a82

commit 1cbfa03510f8dfd37a8d050b2640aa7ae1fb2ce6
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue May 16 14:19:06 2023 +0000

    Editor: Remove shortcode support from block templates.
    
    Props youknowriad, xknown, timothyblynjacobs, matveb.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55761 602fd350-edb4-49c9-b593-d223f7449a82

commit abbf859d531d99e1babbf7e63a089a6bc038c0eb
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue May 16 14:16:39 2023 +0000

    I18N: Introduce sanitization function for locale.
    
    Introduce the `sanitize_locale_name()` for sanitizing user input of locales.
    
    Props xknown, timothyblynjacobs, ocean90, peterwilsoncc.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55760 602fd350-edb4-49c9-b593-d223f7449a82

commit 4313210c8232cd7961f9da9660636623319070e8
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Tue May 16 12:29:34 2023 +0000

    Taxonomy: Do not prime term meta in `wp_get_object_terms`.
    
    Passing `update_term_meta_cache` argument value false by default resulting in `get_terms` to not prime the term meta cache in `wp_get_object_terms`. Priming of term meta is not needed in this context.
    
    Props spacedmonkey, rutviksavsani.
    Fixes #57701.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55759 602fd350-edb4-49c9-b593-d223f7449a82

commit 0b10d2fc06d1a73f22c4ff506ed8d2f1827a8cb6
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue May 16 05:23:55 2023 +0000

    Docs: Clarify `@param` types on `get_sample_permalink_html` filter.
    
    `$new_title` and `$new_slug` can be null if `get_sample_permalink_html()`
    was called with default parameters, and they are documented as
    `string|null` in the function DocBlock.
    
    Follow-up to [34347].
    
    Props Enchiridion, audrasjb, SergeyBiryukov.
    Fixes #58322.
    See #33927. --Cette ligne, et les
    suivantes
    ci-dessous, seront ignorées--
    
    M    trunk/src/wp-admin/includes/post.php
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55758 602fd350-edb4-49c9-b593-d223f7449a82

commit f375b68447d392ca7c189ebfadb6b908931d3812
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon May 15 10:26:54 2023 +0000

    General: Remove a few `is_object()` checks followed by `instanceof` operator.
    
    This is a minor performance enhancement:
    
    * If an object is passed, the call to `is_object()` will be redundant.
    * If a non-object is passed, the `instanceof` operator (a variant of `is_a()`) will first [https://github.com/php/php-src/blob/f42992f/Zend/zend_builtin_functions.c#L630-L631 check if it is an object] before doing any further processing.
    
    Therefore, no additional processing cycles should be wasted in both cases.
    
    Follow-up to [6779], [48798], [48905], [49194], [55748].
    
    Props Presskopp, costdev.
    Fixes #58309.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55757 602fd350-edb4-49c9-b593-d223f7449a82

commit 002a3e38dd9e2bfa4a8dae9e27ce873c50541508
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun May 14 18:43:46 2023 +0000

    Tests: Remove expectation of a deprecation notice from `WP_Posts_List_Table` tests.
    
    With `get_the_author()` returning an empty string instead of `null` if called before `$authordata` is set, and no longer causing a PHP 8.1 "null to non-nullable" deprecation notice, there is no need for these tests to ignore the notice.
    
    Follow-up to [51968], [55755].
    
    See #58157.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55756 602fd350-edb4-49c9-b593-d223f7449a82

commit fdd333fa471ec096cc4bcee71af67018b3ed765a
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun May 14 17:56:26 2023 +0000

    Code Modernization: Correct fallback return value in `get_the_author()`.
    
    If the `$authordata` global is not set, `get_the_author()` returned `null`, causing a PHP 8.1 "null to non-nullable" deprecation notice in `ent2ncr()` hooked via `the_author` filter:
    {{{
    str_replace(): Passing null to parameter #3 ($subject) of type array|string is deprecated
    }}}
    
    This commit updates `get_the_author()` to return an empty string if called before `$authordata` is set, bringing consistency with a few other similar functions which also return an empty string in this case:
    
    * `get_the_author_meta()`
    * `get_the_author_posts_link()`
    * `get_the_modified_author()`
    
    Follow-up to [695/tests], [2858], [11138], [12284], [20575], [34677], [44616], [53187].
    
    Props Soean, jrf, sabernhardt, salvoaranzulla, antpb, ebai4, sajjad67, tijmensmit, SergeyBiryukov.
    Fixes #58157.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55755 602fd350-edb4-49c9-b593-d223f7449a82

commit 02d89bc44d19ec72a036427a46804a52440f493b
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat May 13 13:33:33 2023 +0000

    Tests: Split the tests from `user/author.php` into individual test classes.
    
    This aims to make `get_the_author_*()` tests more discoverable and easier to expand.
    
    Follow-up to [691/tests], [692/tests], [695/tests], [28362], [31098], [34687], [53147], [54717], [54726], [55591].
    
    See #57841.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55754 602fd350-edb4-49c9-b593-d223f7449a82

commit 2310db697f95bea5777485e5ec43d569d9a55d7a
Author: John Blackbourn <johnbillion@git.wordpress.org>
Date:   Fri May 12 21:33:08 2023 +0000

    Docs: Various corrections and improvements to inline docs and docblocks.
    
    See #57840
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55753 602fd350-edb4-49c9-b593-d223f7449a82

commit 0746cc7324b4b025d1ad3f2afeeb2aadd7d1d19f
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri May 12 08:49:13 2023 +0000

    Code Modernization: Explicitly declare all properties in `Text_Diff_Engine_native`.
    
    Dynamic (non-explicitly declared) properties are deprecated as of PHP 8.2 and are expected to become a fatal error in PHP 9.0.
    
    There are a number of ways to mitigate this:
    * If it is an accidental typo for a declared property: fix the typo.
    * For known properties: declare them on the class.
    * For unknown properties: add the magic `__get()`, `__set()`, et al. methods to the class or let the class extend `stdClass` which has highly optimized versions of these magic methods built in.
    * For unknown ''use'' of dynamic properties, the `#[AllowDynamicProperties]` attribute can be added to the class. The attribute will automatically be inherited by child classes.
    
    In this case, the properties, as used in the class methods, fall in the “known property” category.
    
    Reference: [https://wiki.php.net/rfc/deprecate_dynamic_properties PHP RFC: Deprecate dynamic properties].
    
    Follow-up to [53942], [53948], [53949], [53952], [53953], [53954], [53957], [54037].
    
    Props jrf, thomask.
    See #58298.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55752 602fd350-edb4-49c9-b593-d223f7449a82

commit d913a47f4e90abfe738e62b423ab3fb5af482ad2
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu May 11 15:03:59 2023 +0000

    Coding Standards: Use `esc_url()` to escape link URL value in `wp-admin/edit-link-form.php`.
    
    Props dilipbheda, mukesh27.
    Fixes #58282.
    See #57839.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55751 602fd350-edb4-49c9-b593-d223f7449a82

commit de4bdd2850740f9ea8aecd18e89de884095827e3
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu May 11 14:48:55 2023 +0000

    I18N: Replace "Roll back" with "Restore" in user facing strings.
    
    The terms "roll back" and "rolled back" are used in user facing strings since [55720]. These termes are not that clear for novice users and may be difficult to translate in some locales. This changeset replaces "roll back" with "restore" and "rolled back" with "restored" or "not applied" depending of the context of the screen.
    
    Follow-up to [55720].
    
    Props kebbet, costdev, NekoJonez, audrasjb, SergeyBiryukov, davidbaumwald.
    Fixes #58282.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55750 602fd350-edb4-49c9-b593-d223f7449a82

commit 3114eda235d6740f82fc9f2b4bdf0735e43560ed
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Thu May 11 12:25:51 2023 +0000

    Comments: Always lazily load comment meta.
    
    In [34270] introduced lazy loading of comment meta. However, this was only in the context of `WP_Query`. Other parts of the codebase, like `WP_Comment_Query` did not lazily load comment meta. In this change, calls to `update_meta_cache` are now replaced with `wp_lazyload_comment_meta`, that instead of priming comment meta caches, just adds them to the queue to be primed it ever called. This results in far less database queries, as there a number of places where comment meta is being primed unnecessarily and never used. Adding everything to the comment meta queue, also means that if comment meta is used, that is all loaded in a single database / cache call.
    
    Follow on from [55671], [55747].
    
    Props spacedmonkey, peterwilsoncc, flixos90, mukesh27.
    Fixes #57801.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55749 602fd350-edb4-49c9-b593-d223f7449a82

commit 1534d1206701466f7d4a206661a4d78ed699970e
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu May 11 11:42:00 2023 +0000

    Plugins: Remove `is_object()` check in `WP_Hook:build_preinitialized_hooks()`.
    
    This is a minor performance enhancement:
    
    * If an object is passed, the call to `is_object()` will be redundant.
    * If a non-object is passed, the `instanceof` operator (a variant of `is_a()`) will first [https://github.com/php/php-src/blob/f42992f/Zend/zend_builtin_functions.c#L630-L631 check if it is an object] before doing any further processing.
    
    Therefore, no additional processing cycles should be wasted in both cases.
    
    Follow-up to [38571].
    
    Props bor0, johnbillion, davidbaumwald.
    Fixes #58290.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55748 602fd350-edb4-49c9-b593-d223f7449a82

commit 1a5b52a17e0bfa1ca2d9133466b5ead098e3a1ba
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Thu May 11 11:13:10 2023 +0000

    Networks and Sites: Lazy load site meta.
    
    In [36566] a framework to lazily load metadata was introduced. This supported term and comment meta by default. In this commit, extends support for site ( blog ) meta. Site meta is not heavily used by core and is used by developers to extend multisite. In this change, `_prime_site_caches` and `WP_Site_Query` now call the new function `wp_lazyload_site_meta`. The function `wp_lazyload_site_meta` accepts an array of ids and adds them to the queue of metadata to be lazily loaded. The function `get_blogs_of_user` was updated to now lazily load site meta.
    
    Follow on from [55671].
    
    Props spacedmonkey, johnjamesjacoby, peterwilsoncc, mukesh27.
    Fixes #58185.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55747 602fd350-edb4-49c9-b593-d223f7449a82

commit bd92ca233db12bbde27e15dd0317154bc10f7373
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Thu May 11 10:31:29 2023 +0000

    Tests: Partial revert of r55745
    
    Revert package-lock.json changes committed by mistake in [55745].
    
    Props mukesh27.
    See #57841.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55746 602fd350-edb4-49c9-b593-d223f7449a82

commit 07fc459e7ab28c04169fdb154cafcc648743af9d
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Thu May 11 10:05:51 2023 +0000

    Tests: Use the function `get_num_queries` across all unit tests.
    
    Replace use of `$wpdb->num_queries` with a function call to `get_num_queries`. This improves readability and consistency between tests.
    
    Props SergeyBiryukov, peterwilsoncc, spacedmonkey.
    See #57841.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55745 602fd350-edb4-49c9-b593-d223f7449a82

commit 55ee499f4eb02f80765096bff85251a010555d12
Author: AndrÃ© <oandregal@git.wordpress.org>
Date:   Thu May 11 09:01:55 2023 +0000

    Docs: describe return type of `_get_block_template_file()`.
    
    Props: desrosj, mukesh27, costdev, johnbillion.
    Fixes #57756.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55744 602fd350-edb4-49c9-b593-d223f7449a82

commit c40e0c6f816ed27ba8b75462632498a36f624181
Author: David Baumwald <davidbaumwald@git.wordpress.org>
Date:   Wed May 10 17:34:13 2023 +0000

    Revisions: Add edit link functionality for the `wp_template` and `wp_template_part` post types.
    
    In preparation for viewing revisions of templates and template parts in the editor, this set changes adds the `_edit_link` argument when registering the `wp_template` and `wp_template_part` post types.  This commit also updates `get_edit_post_link` to account for the unique edit URLs for these post types.
    
    Finally, this commit also adds new unit tests for the `get_edit_post_link` function, including tests for the `post`, `wp_template`, and `wp_template_part` post types.
    
    Fixes #57709.
    Props andraganescu, spacedmonkey, antonvlasenko, youknowriad, ramonopoly, ironprogrammer, annezazu.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55743 602fd350-edb4-49c9-b593-d223f7449a82

commit 16ffd36f5dd91490962c9e3f433081defb1816d6
Author: SergeyBiryukov <SergeyBiryukov@602fd350-edb4-49c9-b593-d223f7449a82>
Date:   Wed May 10 14:00:01 2023 +0000

    Tests: Move `wp_cache_flush_runtime()` next to `wp_cache_flush()`.
    
    This matches the function's placement in `wp-includes/cache.php` and brings more consistency.
    
    Follow-up to [52772], [55741].
    
    See #57841.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55742 602fd350-edb4-49c9-b593-d223f7449a82

commit c204a6aa273dc899a677f16aced5941526878c60
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Wed May 10 09:09:06 2023 +0000

    Build/Test Tools: Call `wp_cache_flush_runtime` in WP_UnitTestCase.
    
    In `WP_UnitTestCase::flush_cache` method, the properties of the global `$wp_object_cache` object were manaully being reset to flush the cache. The function `wp_cache_flush_runtime` was added in [52772] and is designed to reset any class properties to default values. Using `wp_cache_flush_runtime` improve compatibility with third party object caches, as it allows developers to define their own `wp_cache_flush_runtime` function.
    
    Props rmccue, johnbillion, wonderboymusic, boonebgorges, voldemortensen, dd32, DrewAPicture, tillkruess, spacedmonkey.
    Fixes #31463.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55741 602fd350-edb4-49c9-b593-d223f7449a82

commit 860d506a8d88713621b7431180a69c546bc58516
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue May 9 14:10:02 2023 +0000

    Editor: Update block editor packages to the latest patch releases.
    
    This updates the block editor related npm dependencies to their latest patch versions ahead of WordPress 6.2.1 RC1.
    
    Updated packages:
     - @wordpress/annotations@2.26.4
     - @wordpress/block-directory@4.3.12
     - @wordpress/block-editor@11.3.10
     - @wordpress/block-library@8.3.12
     - @wordpress/components@23.3.7
     - @wordpress/customize-widgets@4.3.12
     - @wordpress/edit-post@7.3.12
     - @wordpress/edit-site@5.3.12
     - @wordpress/edit-widgets@5.3.12
     - @wordpress/editor@13.3.10
     - @wordpress/format-library@4.3.10
     - @wordpress/interface@5.3.8
     - @wordpress/list-reusable-blocks@4.3.7
     - @wordpress/preferences@3.3.7
     - @wordpress/reusable-blocks@4.3.10
     - @wordpress/rich-text@6.3.4
     - @wordpress/server-side-render@4.3.7
     - @wordpress/widgets@3.3.10
    
    This changeset includes the following fixes:
    - i18n: Add context to labels related to CSS position properties gutenberg#49135
    - Comments: Fix 'sprintf requires more than 1 params' error gutenberg#49054
    - Fix the site editor loading in multi-site installs gutenberg#49861
    - Fix quick inserter going off-screen in some situations gutenberg#49881
    - Site Editor: Decode the site title properly gutenberg#49685
    - Firefox: fix input rules (React async state issue) gutenberg#48210
    - Only show alignment info when parent layout is constrained. gutenberg#49703
    - [Inserter]: Fix onHover error on patterns tab in mobile gutenberg#49450
    - Fix site editor redirection after creating new template or template part gutenberg#49364
    
    Props mamaduka, audrasjb, wildworks, ocean90, aristath, costdev, hellofromtonya, youknowriad, mdxfr, oandregal, mattwiebe, bph, ndiego, talldanwp, joen, ellatrix, kevin940726, isabel_brison, andrewserong, ntsekouras, welcher.
    Fixes #58274.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55737 602fd350-edb4-49c9-b593-d223f7449a82

commit bf1100536664ed8a4476626cf88a88fcf4bd86ca
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue May 9 11:17:14 2023 +0000

    Docs: Improve HTML API file and class headers per the documentation standards.
    
    Follow-up to [55203], [55304], [55718], [55724], [55727].
    
    See #57840.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55734 602fd350-edb4-49c9-b593-d223f7449a82

commit 74adacb801580ef58b8b40d286aa2d129df5c971
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue May 9 10:35:06 2023 +0000

    Docs: Improve Style Engine file and class headers per the documentation standards.
    
    Follow-up to [54156], [55719].
    
    See #57840.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55733 602fd350-edb4-49c9-b593-d223f7449a82

commit 4a0598ebb8d5a04a3b47111faea627dd9b221053
Author: John Blackbourn <johnbillion@git.wordpress.org>
Date:   Mon May 8 22:35:38 2023 +0000

    Docs: A host of corrections and improvements to inline documentation.
    
    See #57840
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55732 602fd350-edb4-49c9-b593-d223f7449a82

commit 8acd96b9bcc5289af65e03433365bd72b662c2db
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon May 8 17:30:41 2023 +0000

    Docs: Update code examples formatting in `WP_HTML_Tag_Processor` documentation.
    
    Per the [https://developer.wordpress.org/coding-standards/inline-documentation-standards/php/#description documentation standards], code samples should be created by indenting every line of the code by 4 spaces, with a blank line before and after. This matches the format used by the rest of core.
    
    Follow-up to [55203], [55304], [55718], [55724].
    
    Props juanmaguitar, coffee2code, azaozz, costdev, dmsnell, johnbillion, SergeyBiryukov.
    Fixes #58028.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55727 602fd350-edb4-49c9-b593-d223f7449a82

commit d62f8581899be84fd59b987571b6c7b5d42db12e
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun May 7 11:42:18 2023 +0000

    Coding Standards: Bring more consistency to PHP 8.0 string function polyfills.
    
    This adjusts `str_contains()` code layout to have an early exit for an empty `$needle`, matching similar fragments in `str_starts_with()` and `str_ends_with()` for better readability.
    
    Follow-up to [52039], [52040].
    
    See #57839.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55726 602fd350-edb4-49c9-b593-d223f7449a82

commit 24c4d56d517adca38a51ef8ea03bd9886cf6f2d6
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat May 6 11:38:17 2023 +0000

    Docs: Remove `@return void` from various DocBlocks.
    
    Per the documentation standards, it should not be used outside of the default bundled themes.
    
    Follow-up to [52049], [52051], [53331], [54156], [54214], [55203], [55719].
    
    See #57840.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55725 602fd350-edb4-49c9-b593-d223f7449a82

commit d744c4d39729e2f1df76d93d99560d791ece3043
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri May 5 12:41:29 2023 +0000

    Docs: Correct the placement of `@see` tags in `WP_HTML_Tag_Processor` class.
    
    This moves a reference link in `::get_attribute_names_with_prefix()` below the code example, so that it is correctly displayed in the Developer Resources.
    
    Includes updating some other `@see` tags for consistency as per the documentation standards.
    
    Additionally, the example code for `WP_HTML_Tag_Processor::get_tag()` is updated to show lowercase tag names in the input HTML, so that it does not convey the wrong impression that the uppercase output from `::get_tag()` depends on the case of the input HTML.
    
    Follow-up to [55203].
    
    Props dmsnell, johnbillion, audrasjb, SergeyBiryukov.
    Fixes #58254.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55724 602fd350-edb4-49c9-b593-d223f7449a82

commit 17ff7ac2a3d717b4212305314d9d9d8636262aaf
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Fri May 5 10:56:24 2023 +0000

    HTML API: Restore mistakenly-removed content in documentation.
    
    In [55718] the Unicode replacement character was mistakenly removed. The purpose of including the character was to communicate what it looks like and why the Tag Processor won't insert it into the document.
    
    This changeset brings the character back and adds a small clue to fix the confusion that may lead to its removal.
    
    Follow-up to [55718].
    
    Props dmsnell.
    Fixes #58256
    See #57840.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55723 602fd350-edb4-49c9-b593-d223f7449a82

commit a5f3087f6b5d9c52dbe67ed247165dc32427c57d
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Thu May 4 08:41:01 2023 +0000

    HTML API: Adjust coding style to pass Gutenberg linter.
    
    This patch adjusts some minor neutral whitespace that the Gutenberg linting rejects.
    There are no code changes otherwise.
    
    Props dmsnell.
    Fixes #58250.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55721 602fd350-edb4-49c9-b593-d223f7449a82

commit 3a6d1fb02a2112e8bb1bcb1f05e16633d3d48bb4
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu May 4 02:34:58 2023 +0000

    Upgrade/Install: Create a temporary backup of plugins and themes before updating.
    
    This aims to make the update process more reliable and ensures that if a plugin or theme update fails, the previous version can be safely restored.
    
    * When updating a plugin or theme, the old version is moved to a temporary backup directory:
     * `wp-content/upgrade-temp-backup/plugins/[plugin-slug]` for plugins
     * `wp-content/upgrade-temp-backup/themes/[theme-slug]` for themes.
    
    * If the update fails, then the backup kept in the temporary backup directory is restored to its original location.
    * If the update succeeds, the temporary backup is deleted.
    
    To further help troubleshoot plugin and theme updates, two new checks were added to the Site Health screen:
    * A check to make sure that the `upgrade-temp-backup` directory is writable.
    * A check that there is enough disk space available to safely perform updates.
    
    To avoid confusion: The temporary backup directory will NOT be used to “roll back” a plugin to a previous version after a completed update. This directory will simply contain a transient backup of the previous version of a plugin or theme being updated, and as soon as the update process finishes, the directory will be empty.
    
    Follow-up to [55204], [55220].
    
    Props afragen, costdev, pbiron, azaozz, hellofromTonya, aristath, peterwilsoncc, TJNowell, bronsonquick, Clorith, dd32, poena, TimothyBlynJacobs, audrasjb, mikeschroder, a2hosting, KZeni, galbaras, richards1052, Boniu91, mai21, francina, TobiasBg, desrosj, noisysocks, johnbillion, dlh, chaion07, davidbaumwald, jrf, thisisyeasin, ignatggeorgiev, SergeyBiryukov.
    Fixes #51857.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55720 602fd350-edb4-49c9-b593-d223f7449a82

commit eb248dc65bd3fc533d892a5bf538f7e229fbf56b
Author: John Blackbourn <johnbillion@git.wordpress.org>
Date:   Wed May 3 23:55:50 2023 +0000

    Docs: Correct and improve inline docs relating to the style engine.
    
    See #57840
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55719 602fd350-edb4-49c9-b593-d223f7449a82

commit a3ed152c54c117d39d32a72a3d22f082dd5ffa7f
Author: John Blackbourn <johnbillion@git.wordpress.org>
Date:   Wed May 3 23:53:19 2023 +0000

    Docs: Improve formatting of markup in the docs for `WP_HTML_Tag_Processor`.
    
    Code blocks wrapped inside backtacks don't need to be indented.
    
    See #57840
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55718 602fd350-edb4-49c9-b593-d223f7449a82

commit b54303cd82006bb63398cc0f0f953ddd65716d75
Author: John Blackbourn <johnbillion@git.wordpress.org>
Date:   Wed May 3 23:20:40 2023 +0000

    Build/Test Tools: Fix the permissions that are granted to the Slack notifications workflow.
    
    Follow-up to [55715].
    
    See #57865
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55717 602fd350-edb4-49c9-b593-d223f7449a82

commit a67f9a048300f83a61c63224fbb7f53a2b02c6f5
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Wed May 3 22:30:51 2023 +0000

    Help/About: Left-align 6.2 about page subheading.
    
    This changeset removes the `aligncenter` class from `h2` and `is-subheading` items in the WordPress 6.2 About Page, for more consistent alignment. Also, future minor releases will add more left-aligned paragraphs under the "Maintenance Releases" section.
    
    Props shagors, sabernhardt, mukesh27, amin7, costdev, pavanpatil1, audrasjb.
    Fixes #57387.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55716 602fd350-edb4-49c9-b593-d223f7449a82

commit 3bfc6611add9aca2257ac3c062150468da440c3d
Author: John Blackbourn <johnbillion@git.wordpress.org>
Date:   Wed May 3 22:15:27 2023 +0000

    Build/Test Tools: Restrict the permissions granted to jobs on GitHub Actions
    
    The `permissions` key in a job declares the GitHub permissions that are granted to the token that's used by the job. Restricting the permissions reduces the impact that a vulnerability in the CI system can have.
    
    Props desrosj, johnbillion
    
    See #57865
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55715 602fd350-edb4-49c9-b593-d223f7449a82

commit eb409e4cacb25c14a5ceae541d44eda67d82fc4a
Author: John Blackbourn <johnbillion@git.wordpress.org>
Date:   Wed May 3 21:28:11 2023 +0000

    Filesystem API: Correct and improve the return type documentation for the `dirlist()` method in `WP_Filesystem_Base` and its extending classes.
    
    Props mat-lipe, szepeviktor, costdev, audrasjb, johnbillion
    
    Fixes #58229
    See #57840
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55714 602fd350-edb4-49c9-b593-d223f7449a82

commit d73323e96944a9dbd16ef8edc9c055b1cbc7b735
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Wed May 3 21:25:40 2023 +0000

    Script Loader: Update jQuery version to 3.6.4 to match the current version.
    
    This changeset updates the jQuery version to 3.6.4 in `script-loader.php` to correcly match the current version used in WordPress.
    
    This was accidentally missed in [55491].
    
    Props nickpap, TobiasBg, dhrumilk.
    Fixes #58203.
    See #57324.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55713 602fd350-edb4-49c9-b593-d223f7449a82

commit 9db82aa219c57cf5613059248f66a94264e6072c
Author: John Blackbourn <johnbillion@git.wordpress.org>
Date:   Wed May 3 19:44:49 2023 +0000

    Docs: Miscellaneous formatting corrections to inline docs and whitespace.
    
    See #57840
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55712 602fd350-edb4-49c9-b593-d223f7449a82

commit 90fb45dfddf20da9ff324eec0ae8e0d8ae0cc795
Author: John Blackbourn <johnbillion@git.wordpress.org>
Date:   Wed May 3 18:46:44 2023 +0000

    Docs: Corrections and improvements to docblocks for global styles, global settings, theme.json parsing, and shortcodes.
    
    See #57840
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55711 602fd350-edb4-49c9-b593-d223f7449a82

commit 8a074052c51a1604da82716d5cdb15ee710a6b04
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed May 3 15:44:39 2023 +0000

    General: Restore `strpos()` check in `wp-admin/load-styles.php`.
    
    This resolves a fatal error on PHP < 8.0, as `wp-includes/compat.php` is not loaded in this file, so `str_starts_with()` may not be available.
    
    Follow-up to [55703].
    
    Props dd32, flixos90, DigTek.
    Fixes #58244. See #58012.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55710 602fd350-edb4-49c9-b593-d223f7449a82

commit 252570e437a57348317c062709f0709089e61b19
Author: Andrea Fercia <afercia@git.wordpress.org>
Date:   Wed May 3 14:06:10 2023 +0000

    Post Types: Add the view_items label to the wp_block post type.
    
    The `view_items` post type label is used in the Editor, for the `aria-label` of the link to go back to the Posts list. When editing a Reusable block, it fallbacks to 'View Posts'. It should be 'View Reusable blocks'.
    
    Fixes #58209.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55709 602fd350-edb4-49c9-b593-d223f7449a82

commit e3d345800d3403f3902dc7b18c1ddb07158b0bd3
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Wed May 3 11:29:42 2023 +0000

    HTML API: Accumulate shift for internal parsing pointer.
    
    A bug was discovered where where the parser wasn't returning to the
    start of the affected tag after making some updates.
    
    In few words, the Tag Processor has not been treating its own internal
    pointer `bytes_already_parsed` the same way it treats its bookmarks.
    That is, when updates are applied to the input document and then
    `get_updated_html()` is called, the internal pointer transfers to
    the newly-updated content as if no updates had been applied since
    the previous call to `get_updated_html()`.
    
    In this patch we're creating a new "shift accumulator" to account for
    all of the updates that accrue before calling `get_updated_html()`.
    This accumulated shift will be applied when swapping the input document
    with the output buffer, which should result in the pointer pointing to
    the same logical spot in the document it did before the udpate.
    
    In effect this patch adds a single workaround for treating the
    internal pointer like a bookmark, plus a temporary pointer which points
    to the beginning of the current tag when calling `get_updated_html()`.
    This will preserve the assumption that updating a document doesn't
    move that pointer, or shift which tag is currently matched.
    
    Props dmsnell, zieladam.
    Fixes #58179.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55706 602fd350-edb4-49c9-b593-d223f7449a82

commit e84858100845ab52a228f31ace90f40462a70fd6
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Wed May 3 10:01:52 2023 +0000

    Docs: Various improvements in Bookmark Administration API function descriptions, as per docblocks standards.
    
    Follow-up to [55704].
    
    See #57840.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55705 602fd350-edb4-49c9-b593-d223f7449a82

commit 137cf0d4610e6e29594ea468d7f21e0d4c25f051
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Wed May 3 09:56:32 2023 +0000

    Coding Standards: Remove unnecessary variable escapement in Bookmark Administration API.
    
    This changeset removes an unnecessary `esc_html()` escapement for `link_url`, as `esc_url()` already does the job.
    
    Follow-up to [11383].
    
    Props utsav72640, audrasjb.
    Fixes #58239.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55704 602fd350-edb4-49c9-b593-d223f7449a82

commit 4cb3e1582a022e2d59ba3c4bf8dcb5c60c45eefc
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue May 2 15:43:03 2023 +0000

    Code Modernization: Replace usage of `strpos()` with `str_starts_with()`.
    
    `str_starts_with()` was introduced in PHP 8.0 to perform a case-sensitive check indicating if the string to search in (haystack) begins with the given substring (needle).
    
    WordPress core includes a polyfill for `str_starts_with()` on PHP < 8.0 as of WordPress 5.9.
    
    This commit replaces `0 === strpos( ... )` with `str_starts_with()` in core files, making the code more readable and consistent, as well as improving performance.
    
    While `strpos()` is slightly faster than the polyfill on PHP < 8.0, `str_starts_with()` is noticeably faster on PHP 8.0+, as it is optimized to avoid unnecessarily searching along the whole haystack if it does not find the needle.
    
    Follow-up to [52039], [52040], [52326].
    
    Props spacedmonkey, costdev, sabernhardt, mukesh27, desrosj, jorbin, TobiasBg, ayeshrajans, lgadzhev, SergeyBiryukov.
    Fixes #58012.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55703 602fd350-edb4-49c9-b593-d223f7449a82

commit 73dbbe53723651bc78dec24b0a075c63e28322a5
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Tue May 2 11:24:52 2023 +0000

    Cache API: Add helper function `wp_cache_set_last_changed`.
    
    Add a helper function called `wp_cache_set_last_changed` to set the last changed value for cache groups. This function has a new action called `wp_cache_set_last_changed`, allowing for developers to cache invalidate when last changed value is changed.
    
    Props tillkruess, spacedmonkey, peterwilsoncc, mukesh27, johnjamesjacoby.
    Fixes #57905.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55702 602fd350-edb4-49c9-b593-d223f7449a82

commit 9ef194bc4b9bfaf359f1208dfe927b6688c299f0
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Tue May 2 10:55:57 2023 +0000

    Taxonomy: Remove redundant call to `get_term` in `wp_queue_posts_for_term_meta_lazyload`.
    
    In [55252] the function `wp_queue_posts_for_term_meta_lazyload` was refactored to use `wp_cache_get_multiple`. This refactor included a call to `get_term`. However, calling get_term calls `sanitize_term`, which sanitizes all fields in a term. The full term object is not needed in this context as term meta only needs to the term id, which is already in the function. Saving calls to `sanitize_term` will improve performance of this function.
    
    Props spacedmonkey, joemcgill, mukesh27.
    Fixes #57966.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55701 602fd350-edb4-49c9-b593-d223f7449a82

commit 1bd815adbbbb48d486a5519ed2a3d34eefe6a407
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon May 1 11:04:12 2023 +0000

    External Libraries: Update license URL in Text_Diff library.
    
    The former URL used to refer to LGPL 2.1 at the time, but does not redirect to its current location.
    
    Includes updating the `Algorithm::Diff` Perl module URL.
    
    Props jigar-bhanushali, utsav72640.
    Fixes #58217.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55700 602fd350-edb4-49c9-b593-d223f7449a82

commit 3895f70db0f4a51173ae6966d813fa5c6e8eb9ac
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Apr 30 14:06:51 2023 +0000

    Upgrade/Install: Update sodium_compat to v1.20.0.
    
    The latest version of sodium_compat includes a fix for the Poly1305 implementation.
    
    References:
    * [https://github.com/paragonie/sodium_compat/releases/tag/v1.20.0 sodium_compat 1.20.0 release notes]
    * [https://github.com/paragonie/sodium_compat/compare/v1.19.0...v1.20.0 Full list of changes in sodium_compat 1.20.0]
    
    Follow-up to [49741], [51002], [51591], [52988], [54150], [54310].
    
    Props jrf, costdev, paragoninitiativeenterprises, mukesh27.
    Fixes #58224.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55699 602fd350-edb4-49c9-b593-d223f7449a82

commit 9eb82c24586c3942a60a448d14d9edde127e0851
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Apr 29 18:28:37 2023 +0000

    Coding Standards: Break out of the inner loop in `make_site_theme_from_default()`.
    
    This more closely matches the previous behavior with multiple `if`/`elseif` statements.
    
    Follow-up to [55688].
    
    See #56982.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55698 602fd350-edb4-49c9-b593-d223f7449a82

commit 8a5daa6b446e8c70ba22d64820f6963f18d36e92
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Apr 28 15:04:19 2023 +0000

    Coding Standards: Bring some consistency to REST API revisions initialization.
    
    The autosaves and revisions controllers used to set the same class properties in a slightly different order.
    
    This commit makes the `::__construct()` methods of both classes more consistent to simplify future maintenance.
    
    Follow-up to [46272], [51962].
    
    See #57839.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55697 602fd350-edb4-49c9-b593-d223f7449a82

commit 5e4d1bc2d65fa3efa4585c6620c12a55d52d57b3
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Apr 28 10:03:12 2023 +0000

    REST API: Remove unused variable from the permissions check for deleting a revision.
    
    `WP_REST_Revisions_Controller::delete_item_permissions_check()` no longer uses the value of the `$parent_post_type` variable anywhere.
    
    Follow-up to [45812], [47547], [47850].
    
    Props Soean, mukesh27.
    Fixes #58218.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55696 602fd350-edb4-49c9-b593-d223f7449a82

commit 5c247f75f37dce1ef2b416ef19ccdca1c69faf70
Author: oandregal <oandregal@602fd350-edb4-49c9-b593-d223f7449a82>
Date:   Fri Apr 28 08:49:02 2023 +0000

    Enqueue registered assets once.
    
    This PR removes the `wp_enqueue_registered_block_scripts_and_styles` callback from the `enqueue_block_editor_assets` action.
    
    There are two actions to enqueue block assets: `enqueue_block_editor_assets` and `enqueue_block_assets`. The former enqueues the assets to the editor and the later enqueues them to the front-end and the editor. Given `wp_enqueue_registered_block_scripts_and_styles` is already bound to the `enqueue_block_assets` (front-end and editor), it is unnecessary to bind it to `enqueue_block_editor_assets` (editor) as well.
    
    This was originally introduced at [44157] and hasn't been modified since.
    
    Props ellatrix, costdev.
    Fixes #58208.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55695 602fd350-edb4-49c9-b593-d223f7449a82

commit 991fa6bff23590fe71e9f2807cfcdb218d661c95
Author: John Blackbourn <johnbillion@git.wordpress.org>
Date:   Thu Apr 27 23:13:36 2023 +0000

    Docs: All sorts of improvements and corrections to function and hook docs.
    
    See #57840
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55694 602fd350-edb4-49c9-b593-d223f7449a82

commit 65d27e4485f9a1e19fe4abc613d3743b804b6040
Author: John Blackbourn <johnbillion@git.wordpress.org>
Date:   Thu Apr 27 22:27:51 2023 +0000

    Docs: Correct and improve various documented types for properties, functions, and hooks.
    
    See #57840
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55693 602fd350-edb4-49c9-b593-d223f7449a82

commit 350a1a871fa322f0b409ce7c36cce34b2316f353
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Apr 27 22:23:15 2023 +0000

    Docs: Typo fix in `WP_REST_Block_Pattern_Categories_Controller` docblock.
    
    Props Soean.
    Fixes #58204.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55692 602fd350-edb4-49c9-b593-d223f7449a82

commit f6e523329b3db67efd824a633f738e59920b3513
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Apr 27 13:12:11 2023 +0000

    Coding Standards: Use `__DIR__` magic constant in `wp-admin/options-privacy.php`.
    
    This replaces the only remaining instance of `dirname( __FILE__ )` in core to avoid the performance overhead of a function call.
    
    Follow-up to [47198], [50161], [50631].
    
    Props hztyfoon, rudlinkon.
    Fixes #58207.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55691 602fd350-edb4-49c9-b593-d223f7449a82

commit 250250d35ede7402cf474a0f439d7f6c992dd7d7
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Wed Apr 26 22:26:36 2023 +0000

    Text Changes: Typo fix in `README.md`.
    
    Follow-up to [47752].
    
    Props neychok.
    Fixes #58177.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55690 602fd350-edb4-49c9-b593-d223f7449a82

commit 7a0cf1888021d42ede871a7c78ac4065a590a15e
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Wed Apr 26 21:36:43 2023 +0000

    Editor: Improve the tag field loading spinner alignment.
    
    This changeset improves the loading spinner alignment of the Classic Editor's tag field.
    
    Follow-up to [19897], [31611].
    
    Props Presskopp, SergeyBiryukov, audrasjb.
    Fixes #58136.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55689 602fd350-edb4-49c9-b593-d223f7449a82

commit 6d4fc50edc0f0a57b53577d421dcaca5d943a227
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Apr 26 15:08:35 2023 +0000

    Coding Standards: Remove an empty `else` statement in `dbDelta()`.
    
    Use `continue` to help separate each case for better readability, instead of having a wall of `if`/`elseif`.
    
    Includes simplifying a similar fragment in `make_site_theme_from_default()`.
    
    Follow-up to [1575], [2037], [2040], [2044], [2346], [7999], [14080], [14485].
    
    Props costdev, krunal265, hellofromTonya, brookedot, SergeyBiryukov.
    Fixes #56982.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55688 602fd350-edb4-49c9-b593-d223f7449a82

commit 9836f186144affae3ffd6c40cd1e81f4e8211fa1
Author: AndrÃ© <oandregal@git.wordpress.org>
Date:   Wed Apr 26 14:38:43 2023 +0000

    Themes: improve performance of `get_block_templates()`.
    
    `get_block_templates()` is responsible for finding block templates that match a given search. The function receives a query parameter with the relevant metadata (slugs of the templates, areas of the template parts, etc) to find the user templates (database) and theme templates (file directory).
    
    This function can be made more performant by changing how it works. Before this change, it processed all the block templates and discarded the ones that didn't match the query after it occurred. This commit makes it so it discards the templates that don't match the query before processing them. As a result, it only has to process the subset of templates that will be used, instead of all of them.
    
    This change impacts any theme with block templates. TwentyTwentyThree reports a 15% improvement in Time To First Byte.
    
    Props spacedmonkey, jorgefilipecosta, youknowriad, flixos90, mukesh27.
    Fixes #57756.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55687 602fd350-edb4-49c9-b593-d223f7449a82

commit 3c112a6e1bfb65274c432e8cc874d5f2c6514fd8
Author: AndrÃ© <oandregal@git.wordpress.org>
Date:   Wed Apr 26 14:25:19 2023 +0000

    Themes: remove unused parameter in query for `get_block_templates()`.
    
    Remove the `theme` parameter from the query passed to `get_block_templates()`. It is not used or documented. This removal doesn't have any effect in the code, as the data is ignored anyway.
    
    Props draganescu, audrasjb, davidbaumwald, hellofromTonya.
    Fixes #57736.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55686 602fd350-edb4-49c9-b593-d223f7449a82

commit ed83c6aae8a19169198249e9c4ad7de40fe9c806
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Apr 25 14:55:28 2023 +0000

    General: Don't pass `$action` to `wp_get_session_token()` in `wp_create_nonce()`.
    
    The parameter appears to have been passed by accident, as the function does not accept any parameters.
    
    Follow-up to [54218].
    
    Props malavvasita, hztyfoon, dd32.
    Fixes #58181.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55685 602fd350-edb4-49c9-b593-d223f7449a82

commit 26e3948fca904db17a588d3736b3db59f8007daa
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Mon Apr 24 21:26:12 2023 +0000

    I18N: Use correct translation function in `wp-admin/includes/media.php`.
    
    This changeset replaces `echo __()` with the appropriate `_e()` function. It also ensures the punctuation is included in the translation string.
    
    Props mujuonly, audrasjb, vladytimy, krupalpanchal, mukesh27.
    Fixes #58138.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55684 602fd350-edb4-49c9-b593-d223f7449a82

commit bfdb1adc6aa492a326005af1bb44f1a55c8e9a9f
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Apr 24 16:55:40 2023 +0000

    Coding Standards: Update code layout in `default_password_nag()` for readability.
    
    This aims to better match similar fragments in other core functions.
    
    Follow-up to [11162], [13844], [14170], [55682].
    
    See #57839.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55683 602fd350-edb4-49c9-b593-d223f7449a82

commit c2bd49c91ffdab62fa533f759c33f8912422a779
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Mon Apr 24 16:42:19 2023 +0000

    Coding Standards: Escape edit profile URL in `default_password_nag()`.
    
    Props utsav72640, mukesh27.
    Fixes #58182.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55682 602fd350-edb4-49c9-b593-d223f7449a82

commit 16f9d4d2f90473fa7e7a489fc2db38c5462072fb
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Mon Apr 24 16:35:17 2023 +0000

    Docs: Use third-person singular verbs in various function descriptions, as per docblocks standards.
    
    Props laurentmagnin, pouicpouic, jbcouton, audrasjb.
    See #57840.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55681 602fd350-edb4-49c9-b593-d223f7449a82

commit 201a30d3870c3499a13b3549be065d0140c47374
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Mon Apr 24 13:51:15 2023 +0000

    Users: Change cache group from `users-queries` to `user-queries`.
    
    The cache group `users-queries` was added in [55657]. This global cache group, was named to be inline with cache groups added in [55526]. However, the naming of the group does not match, as other cache groups, do not end with s at the end. This change fix this naming.
    
    Props spacedmonkey, SergeyBiryukov, peterwilsoncc.
    See #40613.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55680 602fd350-edb4-49c9-b593-d223f7449a82

commit 588d9a85ff7921b815932e795de36db6f0480f57
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Apr 23 04:00:26 2023 +0000

    Coding Standards: Use strict comparison in `wp-admin/includes/class-wp-site-icon.php`.
    
    Follow-up to [32994], [35299].
    
    Props aristath, poena, afercia, SergeyBiryukov.
    See #57839.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55678 602fd350-edb4-49c9-b593-d223f7449a82

commit c2f262971c766b804fdf5650f9b86e7359e89f0d
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Apr 22 15:17:47 2023 +0000

    Coding Standards: Use strict comparison where `strtolower()` is involved.
    
    Follow-up to [649], [7736], [18821], [19444], [20886], [20893], [23303], [55642], [55652], [55653], [55654].
    
    Props aristath, poena, afercia, SergeyBiryukov.
    See #57839.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55677 602fd350-edb4-49c9-b593-d223f7449a82

commit b55b935ccb412ecd93c6bf650c8ae59a0664f0e6
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Apr 21 13:31:20 2023 +0000

    Coding Standards: Remove unused `$key` variable in `wp-admin/network/sites.php`.
    
    Rename `$val` to `$site_id` for clarity.
    
    Follow-up to [12603], [18562], [30020].
    
    See #57839.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55676 602fd350-edb4-49c9-b593-d223f7449a82

commit 87154ab87db079f7edfa8272f986c5181e4b5631
Author: zieladam <zieladam@git.wordpress.org>
Date:   Fri Apr 21 13:30:11 2023 +0000

    HTML API: Fix a case where updates are overlooked when seeking to earlier locations.
    
    This retains the WP_HTML_Tag_Processor attribute updates applied before calling seek() – they were erroneously erased in some cases.
    
    Props dmsnell.
    Fixes #58160.
    
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55675 602fd350-edb4-49c9-b593-d223f7449a82

commit fea66becf567d3cdcaa40d6edbec6e0d20df362e
Author: zieladam <zieladam@git.wordpress.org>
Date:   Fri Apr 21 12:31:29 2023 +0000

    HTML API: Update code style so it passes when backported into Gutenberg.
    
    This changes the indentation of a variable in class-wp-html-tag-processor.php
    to satisfy both WordPress and Gutenberg linters.
    
    Props dmsnell, ntsekouras.
    Fixes #58170.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55674 602fd350-edb4-49c9-b593-d223f7449a82

commit f047b94d71e780cbd7595047f28a644955d35fff
Author: Greg ZiÃ³Å‚kowski <gziolo@git.wordpress.org>
Date:   Fri Apr 21 10:41:58 2023 +0000

    Editor: Add selectors field to block type definition
    
    Adds support for the new selectors property for block types. It adds it to the allowed metadata when registering a block type, makes the WP_Block_Type class aware of it, exposes it through the block types REST API, and the get_block_editor_server_block_settings function.
    
    Corresponding work in the Gutenberg plugin: https://github.com/WordPress/gutenberg/pull/46496.
    
    Fixes #57585.
    Props aaronrobertshaw, hellofromTonya.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55673 602fd350-edb4-49c9-b593-d223f7449a82

commit fa92c3fcf21f3c7aa95e31c82481917d3db95cd2
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Apr 21 09:48:41 2023 +0000

    Networks and Sites: Use `is_main_site()` in a few more places.
    
    This updates some more instances of comparing site IDs on Sites and Users screens in network admin to use `is_main_site()` for clarity.
    
    Follow-up to [12603], [13918], [22064], [38814], [41131], [55666].
    
    See #58150.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55672 602fd350-edb4-49c9-b593-d223f7449a82

commit 2c6bf77a9e7532c6ac3a03502b44d108cae86179
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Fri Apr 21 09:22:04 2023 +0000

    Taxonomy: Always lazily load term meta.
    
    In [34529] introduced lazy loading of term meta. However, this was only in the context of `WP_Query`. Other parts of the codebase, like `WP_Term_Query` did not lazily load term meta. In this change, calls to `update_termmeta_cache` are now replaced with `wp_lazyload_term_meta`, that instead of priming term meta caches, just adds them to the queue to be primed it ever called. This results in far less database queries, as there a number of places where term meta is being primed unnecessarily and never used. Adding everything to the term meta queue, also means that if term meta is used, that is all loaded in a single database / cache call.
    
    Props spacedmonkey, mukesh27, peterwilsoncc.
    Fixes #57645.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55671 602fd350-edb4-49c9-b593-d223f7449a82

commit 70054b77afd75d17d5602d4cd445bdfb9e3ee62d
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Fri Apr 21 03:17:29 2023 +0000

    Security: Update GitHub security policy to refer to H1.
    
    Update the security policy displayed on GitHub, `SECURITY.md`, to refer visitors to the [https://hackerone.com/wordpress HackerOne WordPress program] for the full policy.
    
    This allows the project to maintain a single source of truth and avoid the potential for conflicting information across the two sites.
    
    Props desrosj, hellofromTonya, costdev.
    Fixes #57937.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55670 602fd350-edb4-49c9-b593-d223f7449a82

commit 4ff67caa58d34c2e719913b45f512a877a1b6020
Author: Andrew Ozz <azaozz@git.wordpress.org>
Date:   Fri Apr 21 03:11:46 2023 +0000

    Script Loader: Improve code style and readability in `_wp_normalize_relative_css_links()`.
    
    Props: westonruter.
    See: 58069.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55669 602fd350-edb4-49c9-b593-d223f7449a82

commit bbe7290f29ca3a651457cd4407d3aea82e6310e7
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Thu Apr 20 17:08:47 2023 +0000

    HTML API: Add support for a few invalid HTML comment forms.
    
     - Comments created by means of a tag closer with an invalid tag name, e.g. `</3>`.
     - Comments closed with the invalid `--!>` closer. (Comments should be closed by `-->` but if the `!` appears it will also close it, in error.)
     - Empty tag name elements, which are technically skipped over and aren't comments, e.g. `</>`.
    
    Props dmsnell, costdev.
    Fixes #58007.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55667 602fd350-edb4-49c9-b593-d223f7449a82

commit 0f28f4cf1a38291664c238b6143fe68931787997
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Apr 20 14:28:50 2023 +0000

    Networks and Sites: Simplify the check for main site on Network Admin → Sites screen.
    
    This replaces a site ID comparison when displaying action links in `WP_MS_Sites_List_Table::handle_row_actions()` with a dedicated function call, `is_main_site()`, for clarity.
    
    Follow-up to [13918], [25125], [26120], [32644], [38814].
    
    Props ecorica, spacedmonkey, SergeyBiryukov.
    Fixes #58150.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55666 602fd350-edb4-49c9-b593-d223f7449a82

commit 39f4a27610c5557ba236ede2f8aabf570cf04f75
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Apr 20 13:52:46 2023 +0000

    Site Health: Bump the recommended MariaDB version to 10.4.
    
    MariaDB 10.3 reaches EOL (“End of Life”) in May 2023. The recommended minimum is bumped to 10.4 for now.
    
    References:
    * [https://mariadb.org/about/#maintenance-policy MariaDB Maintenance policy]
    * [https://make.wordpress.org/hosting/handbook/server-environment/#database Hosting team handbook: Server Environment: Database]
    
    Follow-up to [52420], [53435], [54069], [54076].
    
    Props JavierCasares.
    See #58158.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55665 602fd350-edb4-49c9-b593-d223f7449a82

commit 23c430610a71fcfef8b845ba7e5838589b0f0b63
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Apr 20 10:39:05 2023 +0000

    Docs: Use third-person singular verbs for `WP_Importer` related function descriptions, as per docblocks standards.
    
    Props pouicpouic.
    See #57840.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55664 602fd350-edb4-49c9-b593-d223f7449a82

commit bc28f52762ef67024febf98e82c7c211944fe17b
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Apr 19 14:49:51 2023 +0000

    Tests: Correct the expected quotes in `get_comment_author_url_link()` tests.
    
    Follow-up to [55660].
    
    See #57839.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55661 602fd350-edb4-49c9-b593-d223f7449a82

commit 219c661ef2d3d5baf918445e808a9b6101833f26
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Apr 19 14:38:34 2023 +0000

    Coding Standards: Use more meaningful variable names in various comment functions.
    
    This aims to bring more consistency between the functions, as well as in filter parameters.
    
    Includes minor code layout fixes for better readability.
    
    Follow-up to [45667], [47287], [48579], [53719], [53723], [55308].
    
    See #57839.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55660 602fd350-edb4-49c9-b593-d223f7449a82

commit 9400453eac40d47d1b85fd05574f380fc4b22368
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Wed Apr 19 09:25:32 2023 +0000

    HTML API: Ensure attribute updates happen only once for case variants.
    
    When setting a new value for an attribute multiple times and providing
    multiple case variations of the attribute name the Tag Processor has
    been appending multiple copies of the attribute into the updated HTML.
    
    This means that only the first attribute set determines the value in
    the final output, plus the output will //appear// wrong.
    
    In this patch we're adding a test to catch the situation and resolving it
    by using the appropriate comparable attribute name as a key for storing
    the updates as we go. Previously we stored updates to the attribute by
    its given `$name`, but when a new update of the same name with a
    case variant was queued, it would not override the previously-enqueued
    value as it out to have.
    
    Props dmsnell, zieladam.
    Fixes #58146.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55659 602fd350-edb4-49c9-b593-d223f7449a82

commit 8465dec59ad72ef216eaeae346c9dbf6684314eb
Author: Weston Ruter <westonruter@git.wordpress.org>
Date:   Wed Apr 19 01:24:40 2023 +0000

    Script Loader: Optimize performance of `_wp_normalize_relative_css_links()` by more than 2x.
    
    * Replace `preg_match_all()` and its secondary `str_replace()` call with `preg_replace_callback()`.
    * Fix case where paths beginning with `http` and `https` (but not `http:` and `https:`) were erroneously not counted as relative.
    * Improve code style and readability by consolidating conditions and returning once.
    * Use `str_starts_with()` consistently instead of `strpos()`.
    
    Follow-up to [52036], [52695], and [52754].
    
    Fixes #58069.
    See #54243.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55658 602fd350-edb4-49c9-b593-d223f7449a82

commit 19bd759db57b4f1cc72157a446915ffbafdd838e
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Tue Apr 18 11:48:46 2023 +0000

    Users: Cache database queries within `WP_User_Query` class.
    
    Cache the results of database queries within `WP_User_Query` class. Only cache queries that are requesting 3 or less fields so that caches are not storing full user objects. Cache results are stored in a new global cache group named `users-queries`. Add a new parameter to `WP_User_Query` called `cache_results` to allow developers to opt out of a receiving cached results. `cache_results` parameter defaults to true. Also add a new helper function called `wp_cache_set_users_last_changed`, similar to `wp_cache_set_posts_last_changed` that incroments last changed value in cache group `users`.  Ensure that `wp_cache_set_users_last_changed` is called whenever user / user meta is modified for proper cache invalidation.
    
    Props johnjamesjacoby, spacedmonkey, westi, dd32, strategio, srikanthmeenakshi, OllieJones, khoipro, rjasdfiii, flixos90, mukesh27, peterwilsoncc.
    Fixes #40613.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55657 602fd350-edb4-49c9-b593-d223f7449a82

commit e5057af16e1c425ecc82cf043d38c71b517d9cb7
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Apr 18 08:35:11 2023 +0000

    Coding Standards: Use strict comparison in `wp-admin/includes/class-wp-ms-sites-list-table.php`.
    
    Includes minor code layout fixes for better readability.
    
    Follow-up to [12603], [32630], [32755], [46441].
    
    Props mujuonly, audrasjb, jankyz, krupalpanchal, SergeyBiryukov.
    Fixes #58139.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55656 602fd350-edb4-49c9-b593-d223f7449a82

commit b343a7c049b766af6226cc35bdd5b0ee0e1c3603
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Apr 18 08:22:08 2023 +0000

    Twenty Nineteen: Fix a translation issue in Comments navigation text.
    
    This changeset combines text strings for "Previous Comments" and "Next Comments" links to ensure translators can control word order in each string. The `span` tags are included in the translation to give more control over what is hidden on small screens.
    
    Props sabernhardt.
    Fixes #58149.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55655 602fd350-edb4-49c9-b593-d223f7449a82

commit b24f990f4f7789cee65628ef090a9e68a2798b5b
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Apr 17 16:59:57 2023 +0000

    Coding Standards: Use strict comparison where `trim()` is involved.
    
    Follow-up to [17189], [24623], [55642], [55652], [55653].
    
    Props aristath, poena, afercia, SergeyBiryukov.
    See #57839.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55654 602fd350-edb4-49c9-b593-d223f7449a82

commit 0276bfdd6d714810542866adf4325619b873db67
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Apr 16 10:46:17 2023 +0000

    Coding Standards: Use strict comparison where `substr()` is involved.
    
    Follow-up to [3606], [10738], [33359], [55642], [55652].
    
    Props aristath, poena, afercia, SergeyBiryukov.
    See #57839.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55653 602fd350-edb4-49c9-b593-d223f7449a82

commit 760728c92f5a5263d2d632f375abceb59444c8fc
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Apr 15 12:09:08 2023 +0000

    Coding Standards: Use strict comparison where `strlen()` is involved.
    
    Follow-up to [649], [1345], [3034], [6132], [6314], [6974], [55642].
    
    Props aristath, poena, afercia, SergeyBiryukov.
    See #57839.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55652 602fd350-edb4-49c9-b593-d223f7449a82

commit 94f1eb31c4d3bbd7e2e7c9b510663076b45b6ba8
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Apr 14 01:25:36 2023 +0000

    Coding Standards: Rename the `$myHTML` parameter to `$text` in `htmlentities2()`.
    
    This resolves a WPCS warning:
    {{{
    Variable "$myHTML" is not in valid snake_case format, try "$my_h_t_m_l"
    }}}
    
    It also matches other formatting functions with the `$text` parameter, e.g. `esc_html()`, `ent2ncr()`, etc.
    
    Follow-up to [1727], [3717], [8662], [8743], [54927].
    
    Props victoranto, audrasjb, jrf.
    Fixes #58129.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55651 602fd350-edb4-49c9-b593-d223f7449a82

commit e0005a5788630717740ccb7150ae39d0feeae789
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Apr 13 15:41:18 2023 +0000

    Coding Standards: Use strict comparison in `wp-includes/http.php`.
    
    Follow-up to [17914], [55642].
    
    Props aristath, poena, afercia, SergeyBiryukov.
    See #57839.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55650 602fd350-edb4-49c9-b593-d223f7449a82

commit ce28deee43c222e6c9ff27da215b24248e371b3a
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Wed Apr 12 23:42:20 2023 +0000

    Media: Render attachment custom fields for new uploads.
    
    Initialize attachment custom fields during the `add` callback, so that fields are present as soon as an attachment is uploaded but do not refresh when field values are changed. Follow up to #40909.
    
    Props trepmal, adamsilverstein, joedolson.
    Fixes #58051.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55649 602fd350-edb4-49c9-b593-d223f7449a82

commit 68514c51362907c5fde3be47ab71af46842cbc2b
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Apr 12 09:41:21 2023 +0000

    Coding Standards: Rename the `$qtInit` and `$mceInit` variables in `_WP_Editors`.
    
    This resolves 37 WPCS warnings along the lines of:
    {{{
    Variable "$qtInit" is not in valid snake_case format, try "$qt_init"
    Variable "$mceInit" is not in valid snake_case format, try "$mce_init"
    }}}
    
    Follow-up to [18498].
    
    See #57839.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55648 602fd350-edb4-49c9-b593-d223f7449a82

commit 0c52802f69338c8dc125ca00bf9ee822dec1a4f4
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Apr 11 22:24:35 2023 +0000

    Media: Deprecate `wp-admin/media.php`.
    
    The `wp-admin/media.php` file was introduced in [7262], then removed from the Media workflow in [21948].
    This changeset finally deprecates it as it is not used anymore.
    
    Follow-up to [7262], [21948].
    
    Props kebbet, costdev, SergeyBiryukov, jrf, antpb, audrasjb.
    Fixes #57612.
    See #6181, #21391, #57608.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55647 602fd350-edb4-49c9-b593-d223f7449a82

commit 5792276ddc861f798da89415a2133c01de2423bb
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Apr 11 22:04:58 2023 +0000

    Docs: Revise comments using “we” in various docblocks.
    
    This updates some inline comments to better match the guidelines and recommendations set forth in the make/core and make/docs handbooks:
    
    > In general, use second person in your documentation. Second person depicts a friendly tone, with a perfect focus on the reader. In addition to this, directly addressing the reader helps avoid passive voice; thereby preventing unwanted confusion. The word “we” should be avoided (...) unless its made very clear which group is speaking.
    
    References:
    - [https://make.wordpress.org/docs/style-guide/language-grammar/grammatical-person/ Style Guide: Grammatical person]
    - [https://make.wordpress.org/docs/handbook/documentation-team-handbook/handbooks-style-and-formatting-guide/ Handbooks & HelpHub Style and Formatting Guide]
    - [https://make.wordpress.org/core/handbook/best-practices/post-comment-guidelines/#style-and-substance Post & Comment Guidelines: Style and Substance]
    
    Follow-up to [2176], [3430], [4676], [6009], [7991], [12688], [12762], [26008], [28978], [44488], [44962], [51979], [53131], [53132], [53156], [53131], [54200], [54866].
    
    Props majaloncar, leamcaleese, annebovelett.
    Fixes #57052.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55646 602fd350-edb4-49c9-b593-d223f7449a82

commit ca2db43d6a4a4203f4061845d16dd27864f9b923
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Apr 11 16:28:51 2023 +0000

    Coding Standards: Use strict comparison in `wp-admin/maint/repair.php`.
    
    Follow-up to [12092], [19757].
    
    Props azouamauriac, aristath, poena, afercia, SergeyBiryukov.
    See #57839.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55645 602fd350-edb4-49c9-b593-d223f7449a82

commit e4419d727ca99efff002ed7dbb70500e5093ed53
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Mon Apr 10 19:29:15 2023 +0000

    Docs: Fix a typo in `wp-includes/rss.php` inline comments.
    
    This changeset replaces "wc3dtf" with "W3C date/time formats" to fix a typo and to provide a better description of the related code.
    
    Props lanacodes, sabernhardt, nithins53.
    Fixes #57467.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55644 602fd350-edb4-49c9-b593-d223f7449a82

commit 16e6c71bb5c7220f6b314cf3ce3d62110975db9e
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Mon Apr 10 18:37:24 2023 +0000

    Twenty Twenty-Three: Add `style-variations` tag in `style.css`.
    
    The `style-variations` tag was recently added on the Theme repository. As Twenty Twenty-Three proposes several Style variations, let's add a `style-variations` tag to the header of its stylesheet.
    
    Props kafleg, SergeyBiryukov, mukesh27.
    Fixes #58110.
    See meta#6545.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55643 602fd350-edb4-49c9-b593-d223f7449a82

commit 81598dd34f21b9cbdf87fe8d2bb6de7e1bb36543
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Apr 10 12:54:28 2023 +0000

    Coding Standards: Use strict comparison where `count()` is involved.
    
    Follow-up to [1636], [6974], [8114], [10322], [13326], [14760], [18006], [18541], [19743], [23249], [24115], [33359].
    
    Props aristath, poena, afercia, SergeyBiryukov.
    See #57839.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55642 602fd350-edb4-49c9-b593-d223f7449a82

commit ba2f30e4dc1c0ba6fa1ca7f6c29e73bc33186df6
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Apr 9 11:55:37 2023 +0000

    Coding Standards: Replace `include_once` with `require_once` for required files.
    
    Per [https://developer.wordpress.org/coding-standards/wordpress-coding-standards/php/#writing-include-require-statements WordPress PHP coding standards], it is ''strongly recommended'' to use `require[_once]` for unconditional includes. When using `include[_once]`, PHP will throw a warning when the file is not found but will continue execution, which will almost certainly lead to other errors/warnings/notices being thrown if your application depends on the file loaded, potentially leading to security leaks. For that reason, `require[_once]` is generally the better choice as it will throw a `Fatal Error` if the file cannot be found.
    
    Follow-up to [1674], [1812], [1964], [6779], [8540], [10521], [11005], [11911], [16065], [16149], [25421], [25466], [25823], [37714], [42981], [45448], [47198], [54276], [55633].
    
    Props kausaralm, SergeyBiryukov.
    See #57839.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55641 602fd350-edb4-49c9-b593-d223f7449a82

commit 2ff42bcb5bdf41f3603f681387fdff8135d9e787
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Sat Apr 8 09:29:28 2023 +0000

    Networks and Sites: Fix incorrect color for Theme enabling admin notices.
    
    This changeset replaces a `notice-updated` class with `notice-success` to fix an issue where the notices were using a gray border color instead of green when enabling or disabling a theme for a network.
    
    Follow-up to [55418].
    
    Props ocean90, audrasjb, marineevain, SergeyBiryukov, dhrumilk, chiragrathod103.
    Fixes #58096.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55637 602fd350-edb4-49c9-b593-d223f7449a82

commit 9dec7ae0a899ff090b7d53a5e6556ffac979144c
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Apr 8 09:03:08 2023 +0000

    Twenty Twenty-One: Replace `include_once` with `require_once` for required classes.
    
    Per [https://developer.wordpress.org/coding-standards/wordpress-coding-standards/php/#writing-include-require-statements WordPress PHP coding standards], it is ''strongly recommended'' to use `require[_once]` for unconditional includes. When using `include[_once]`, PHP will throw a warning when the file is not found but will continue execution, which will almost certainly lead to other errors/warnings/notices being thrown if your application depends on the file loaded, potentially leading to security leaks. For that reason, `require[_once]` is generally the better choice as it will throw a `Fatal Error` if the file cannot be found.
    
    Follow-up to [49216], [49633].
    
    Props wpfy.
    See #57839.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55633 602fd350-edb4-49c9-b593-d223f7449a82

commit e30ce9d4b57a38e7d7fe8c0665c71e444943c555
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Apr 7 14:34:51 2023 +0000

    Comments: Add missing arguments for `get_comment_time()` in `comment_time()`.
    
    In a recent change, `comment_time()` was updated to accept a `$comment_id` parameter for consistency with `comment_date()`, following a similar change for `get_comment_time()`.
    
    However, the new parameter was not correctly passed to `get_comment_time()` inside the function. It should be passed as the fourth parameter after `$format`, `$gmt` and `$translate`, not the second.
    
    This commit adds the missing arguments and a few unit tests to confirm the correct behavior.
    
    Follow-up to [55284], [55287], [55308].
    
    Props costdev, tmatsuur, ugyensupport, johnbillion.
    Fixes #58064.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55632 602fd350-edb4-49c9-b593-d223f7449a82

commit 353921c1196788bff1538d99bc5d1846cecc2d97
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Apr 6 17:37:45 2023 +0000

    Coding Standards: Correct `sprintf()` calls for messages in `wp-admin/upload.php`.
    
    This ensures that `sprintf()` is not unnecessarily applied to strings without any placeholders.
    
    Follow-up to [31941], [31619], [36328], [55178].
    
    See #57839.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55631 602fd350-edb4-49c9-b593-d223f7449a82

commit 9dbb61ea6bda3ef0d9716b8eb493d3f6a02f30d0
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Apr 6 16:42:40 2023 +0000

    I18N: Correct translator comments placement in `wp-admin/edit-comments.php`.
    
    This ensures that the translator comments are displayed for the strings they refer to, e.g. to explain placeholders in comment action messages, and are not displayed for unrelated strings, e.g. "Undo", to avoid confusion.
    
    Includes minor code layout fixes and wrapping a few long lines for better readability.
    
    Follow-up to [35549], [45926], [45932].
    
    Props afercia.
    See #57839.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55630 602fd350-edb4-49c9-b593-d223f7449a82

commit b6b6ded79a54535b9ea80ae9c395dfa90262a4f9
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Apr 5 13:10:53 2023 +0000

    External Libraries: Update the Requests library to version 2.0.6.
    
    This is a maintenance release with minor changes:
    * Fix typo in deprecation notice.
    * Minor internal improvements for passing the correct type to function calls.
    * Confirmed compatibility with PHP 8.2. No changes were needed, so Requests 2.0.1 and higher can be considered compatible with PHP 8.2.
    * Various documentation improvements and other general housekeeping.
    
    References:
    * [https://github.com/WordPress/Requests/releases/tag/v2.0.6 Requests 2.0.6 release notes]
    * [https://github.com/WordPress/Requests/compare/v2.0.5...v2.0.6 Full list of changes in Requests 2.0.6]
    
    Follow-up to [54997], [55007], [55046], [55225], [55296].
    
    Props jrf, costdev.
    Fixes #58079.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55629 602fd350-edb4-49c9-b593-d223f7449a82

commit 8a6afdd52e572ded7aa350f0d24f40da799596e9
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Tue Apr 4 23:35:21 2023 +0000

    Script Loader: Remove unused `wp-nux` CSS dependency.
    
    Neither `wp-edit-post` nor `wp-editor` use the styles included in the `wp-nux` CSS file. This removes nux as a dependency from the registration of the two files.
    
    Props flixos90, youknowriad, peterwilsoncc.
    Fixes #57827.
    See #57643.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55628 602fd350-edb4-49c9-b593-d223f7449a82

commit 3f439066d0a23ab7080252a1d7610f0f05fb9ac5
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Apr 4 22:59:02 2023 +0000

    Help/About: Fix the Support Forums URL in `wp-admin/includes/class-wp-site-health.php`.
    
    This updates a link to Support Forums by replacing `https://wordpress.org/support/` URL with `https://wordpress.org/support/forums/`.
    
    Follow-up to [55412], [55413], [55414], [55624], [55625], [55626].
    
    Props sabernhardt, audrasjb.
    See #58052, #57726.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55627 602fd350-edb4-49c9-b593-d223f7449a82

commit 5880e97bc6f691dd6af51f15bd712d2f0eb5523a
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Apr 4 22:50:43 2023 +0000

    Help/About: Use the new `/documentation/` URLs in `options-permalink.php`.
    
    As `https://wordpress.org/support/` was redirected to `https://wordpress.org/documentation/`, this changeset replaces various `/support/*` links with `/documentation/*` to avoid extra redirects.
    
    Follow-up to [55412], [55413], [55414], [55624], [55625].
    
    Props sabernhardt, audrasjb.
    See #58052, #57726.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55626 602fd350-edb4-49c9-b593-d223f7449a82

commit abc68730573d5243c014f6234f067a99a7e15ba6
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Apr 4 22:41:27 2023 +0000

    Help/About: Use the new `/documentation/` URLs for links about WordPress version.
    
    As `https://wordpress.org/support/` was redirected to `https://wordpress.org/documentation/`, this changeset replaces various `/support/*` links with `/documentation/*` to avoid extra redirects. This addresses a missed occurrence from [55624].
    
    Follow-up to [55412], [55413], [55414], [55624].
    
    Props wildworks.
    See #58052, #57726.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55625 602fd350-edb4-49c9-b593-d223f7449a82

commit 75072ed2e9bff0ca6de4c8ae7b8a9fdec2f69c73
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Apr 4 22:36:30 2023 +0000

    Help/About: Use the new `/documentation/` URLs for links about WordPress version.
    
    As `https://wordpress.org/support/` was redirected to `https://wordpress.org/documentation/`, this changeset replaces various `/support/*` links with `/documentation/*` to avoid extra redirects.
    
    Follow-up to [55412], [55413], [55414].
    
    Props wildworks.
    See #58052, #57726.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55624 602fd350-edb4-49c9-b593-d223f7449a82

commit e2e696ea339840f28e708cffa38c34e180a721d9
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Apr 4 21:10:19 2023 +0000

    Coding Standards: Use strict comparison in `wp-admin/users.php`.
    
    Follow-up to [10990], [11162], [11217], [37059], [55592], [55622].
    Props faisalahammad.
    Fixes #58040.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55623 602fd350-edb4-49c9-b593-d223f7449a82

commit 1dbf6d7bec06b99b450d1367d0cad83cd042e385
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Apr 4 21:00:07 2023 +0000

    Coding Standards: Use strict comparison in `wp-admin/users.php`.
    
    Follow-up to [10990], [11162], [11217], [37059], [55592].
    Props moinrrahmed.
    Fixes #58056.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55622 602fd350-edb4-49c9-b593-d223f7449a82

commit e9c12f21e29618efb0a82e78f0707b2dea4bcd20
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Apr 4 17:35:52 2023 +0000

    Upgrade/Install: Include the removed Windows Live Writer manifest in `$_old_files`.
    
    This ensures that the file and a few related images are also removed from existing installations on update.
    
    Follow-up to [55620].
    
    Props ocean90.
    Fixes #41404.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55621 602fd350-edb4-49c9-b593-d223f7449a82

commit 20c490d73cc3b7c90225207b9ab3db50a7328259
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Apr 4 14:54:31 2023 +0000

    General: Remove Windows Live Writer manifest file.
    
    The XML manifest was originally added in WordPress 2.3.1 to turn on tagging support in Windows Live Writer.
    
    Given that the last major release of the software came out in 2012, and it was completely discontinued in January 2017, including this file in core no longer provides any benefit.
    
    Follow-up to [6192], [49904].
    
    Props joostdevalk, ayeshrajans, flixos90, jhabdas, frank-klein, wtranch, SergeyBiryukov.
    Fixes #41404.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55620 602fd350-edb4-49c9-b593-d223f7449a82

commit ba4709cdc2756faf694ba42d3920ea2642e724ca
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Tue Apr 4 10:04:45 2023 +0000

    HTML API: Add `has_self_closing_flag()` to Tag Processor.
    
    In this patch we're adding `has_self_closing_flag()` to the HTML Tag Processor.
    This exposes whether a currently-matched tag contains the self-closing flag `/`.
    
    This information is critical for the evolution of the HTML API in order
    to track and parse HTML structure, specifically, knowing whether an
    HTML foreign element is self-closing or not.
    
    Props dmsnell, zieladam.
    Fixes #58009.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55619 602fd350-edb4-49c9-b593-d223f7449a82

commit b98b5e59d72a68bc31f99b866fa26f7769d16e97
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Apr 3 11:58:25 2023 +0000

    Coding Standards: Correct the closing PHP tag placement in some admin files.
    
    Follow-up to [1596], [1818], [11009], [16183], [16582], [16592].
    
    Props faisalahammad, audrasjb.
    Fixes #58053.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55618 602fd350-edb4-49c9-b593-d223f7449a82

commit 843711f5e0fa85f1f86722ea4f26b6e80bfff8fa
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Apr 2 12:59:32 2023 +0000

    Docs: Document default values for optional parameters in `wp_insert_attachment()`.
    
    This adds the missing mentions of default value for the `$file` and `$parent_post_id` parameters.
    
    Follow-up to [2921], [3092], [3303], [3851], [6155], [6379], [8669], [15590], [28788], [38408], [49936], [55021].
    
    Props wpfy.
    Fixes #58043.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55617 602fd350-edb4-49c9-b593-d223f7449a82

commit aa1b3c8bb94014d5d9dc376a6152645a930971f0
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Apr 1 08:35:16 2023 +0000

    Coding Standards: Escape the whole attributes in `wp-admin/includes/nav-menu.php`.
    
    It is best to always escape the complete value of an attribute, not a partial value, as otherwise the escaping could be (partially) undone when the values are joined together.
    
    While the hardcoded prefix/suffix values in this case don't necessarily create that risk, those may change to values which could be problematic, so making it a habit to escape the value in one go is best practice.
    
    Includes:
    * Moving a few `esc_url()` calls closer to the actual output and escaping the hash parts too.
    * Wrapping a few long lines for better readability.
    
    Follow-up to [14248], [23707], [42217], [55615].
    
    Props jrf, SergeyBiryukov.
    Fixes #57110.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55616 602fd350-edb4-49c9-b593-d223f7449a82

commit 01989ef30368ca69e4896365329f7e3874a978cd
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Mar 31 15:58:49 2023 +0000

    Coding Standards: Escape some variables in `wp-admin/includes/nav-menu.php`.
    
    This ensures that post type or taxonomy name is consistently escaped in:
    * `wp_nav_menu_item_post_type_meta_box()`
    * `wp_nav_menu_item_taxonomy_meta_box()`
    
    Follow-up to [14248], [23707].
    
    Props zenaulislam, SergeyBiryukov.
    Fixes #57110.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55615 602fd350-edb4-49c9-b593-d223f7449a82

commit 65561851298cf189c139aed05a7fef7a869356e6
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Mar 30 15:16:47 2023 +0000

    Comments: Use correct escaping function in `get_cancel_comment_reply_link()`.
    
    Follow-up to [9112], [9406], [11011], [11380], [11383], [44659].
    
    Props chintan1896, ankitmaru.
    Fixes #58025.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55614 602fd350-edb4-49c9-b593-d223f7449a82

commit 7e1e0005ad9a0725b24a5cb8d8b59627c2bae580
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Thu Mar 30 12:15:36 2023 +0000

    Tests: Fix tests introduced in [55612].
    
    In [55612] a change was added that made two unit tests fail. Fix these test by forcing `get_merged_data` method to run.
    
    Props spacedmonkey, mukesh27.
    See #57814.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55613 602fd350-edb4-49c9-b593-d223f7449a82

commit e0a3b78cf18a4933d0360cb858ca5db556a30dd9
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Thu Mar 30 11:06:31 2023 +0000

    Script Loader: Return early in _wp_theme_json_webfonts_handler if theme.json not present.
    
    Check to see if the theme.json file exists before processing the rest of the code in `_wp_theme_json_webfonts_handler`. This improves performance by not trying to parse the theme.json, early in the bootstrap process.
    
    Props spacedmonkey, hellofromTonya, flixos90.
    Fixes #57814.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55612 602fd350-edb4-49c9-b593-d223f7449a82

commit 7130af403fff492d4bde3e2fbd08bc3d25150dfb
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Wed Mar 29 10:48:34 2023 +0000

    Options, Meta APIs: Improve the lazy loading meta API to include current object id.
    
    The existing lazy loading meta api, creates a queue of ids, to be primed, if the `get_comment_meta` or `get_term_meta` functions are called. However, it did not check to see if the requested id was in the queue, before prime all the ids in the queue. Now, it adds the id to the queue, is not already in the queue, saving a cache lookup / database query.
    
    Props spacedmonkey, peterwilsoncc, mukesh27, flixos90.
    Fixes #57901.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55608 602fd350-edb4-49c9-b593-d223f7449a82

commit c46a30eb1fd17ea135fb7bae498219e223de7474
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Wed Mar 29 10:18:34 2023 +0000

    Comments: Use wp_cache_get_multiple in `WP_Comment_Query`.
    
    In the `fill_descendants` method in `WP_Comment_Query`, there is a loop the calls `wp_cache_get` to get `child comments. Instead of getting one key at a time, use `wp_cache_get_multiple` and get all keys at once.
    
    Props spacedmonkey, tillkruess, mukesh27.
    Fixes #57803.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55607 602fd350-edb4-49c9-b593-d223f7449a82

commit 69667798f447e41cb5c63c913fe333111c1ee6b9
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Mar 29 07:11:26 2023 +0000

    Coding Standards: Apply various alignment corrections from `composer format`.
    
    This fixes a few WPCS warnings along the lines of:
    * Array double arrow not aligned correctly
    * Equals sign not aligned with surrounding statements
    * Usage of ELSE IF is discouraged; use ELSEIF instead
    
    Follow-up to [55099], [55192], [55194], [55271].
    
    Props davidbaumwald, jrf, SergeyBiryukov.
    Fixes #57994.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55606 602fd350-edb4-49c9-b593-d223f7449a82

commit 1b974f940625973e7a7380db2809f936303c9c24
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Tue Mar 28 15:34:17 2023 +0000

    Help/About: Make Field Guide link translatable.
    
    On the About page, wraps the Field Guide's link in `__()` to provide a localized field guide, when available.
    
    Follow-up to [55600].
    
    Props davidbaumwald, sergeybiryukov, desrosj, javiercasares, oglekler, mukesh27, clorith, eboxnet, costdev, ocean90.
    Fixes #57477.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55601 602fd350-edb4-49c9-b593-d223f7449a82

commit 97af007d185c7277ee320922e37ef6515c8250f1
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Tue Mar 28 15:12:03 2023 +0000

    Help/About: Add Field Guide link.
    
    In the About page, replaces the `#` placeholder with the link to the Field Guide.
    
    Follow-up to [55573], [55449], [55499], [55545].
    
    Props vladytimy, ocean90.
    Fixes #57998.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55600 602fd350-edb4-49c9-b593-d223f7449a82

commit 907eb2893f331f5d9cda1f277d3dd3137deb0f50
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Tue Mar 28 14:20:33 2023 +0000

    Date/Time: Revert [55054].
    
    This changeset introduced a regression for partial-hour timezones such as +05:30 UTC which is India and Sri Lanka. How? These timezones are in float. The change made in [55054] type casted them to integer which dropped the decimal for the partial-hour, making the time inaccurate. For example, +05:30 UTC (India and Sri Lanka)'s `'gmt_offset'` is `5.5`, but with the changeset, it was changed to `5`.
    
    Reverting the changeset restores the original state of `current_time()` and thus resolves the regression.
    
    Props reputeinfosystems, Rarst, hellofromTonya, desrosj, audrasjb, sergeybiryukov, costdev, priethor, francina, nekojonez, codingchicken, cbringmann.
    See #57035.
    Fixes #57998.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55598 602fd350-edb4-49c9-b593-d223f7449a82

commit bb41235d1fb5f5f3edb3f9e68b6cb4966c9865e6
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Mar 28 10:54:46 2023 +0000

    Docs: Use typed array notation for `search_columns` in `WP_Query::parse_query()`.
    
    Follow-up to [55248].
    
    Props tmatsuur.
    Fixes #57996.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55597 602fd350-edb4-49c9-b593-d223f7449a82

commit a627e1bf21c27cdd816f58df3bc23177de32f760
Author: Dion Hulse <dd32@git.wordpress.org>
Date:   Tue Mar 28 05:32:43 2023 +0000

    Coding Standards: Use the correct variable.
    
    Follow-up to [55593].
    
    See #57318.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55596 602fd350-edb4-49c9-b593-d223f7449a82

commit 36e994b88ceb231b34bde6ae3a4023ceb0f93d4e
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Mar 27 15:09:09 2023 +0000

    Docs: Clarify the `::hide_process_failed()` return value in plugin and theme installer.
    
    Follow-up to [48390].
    
    Props sakibmd, jrf, patelmohip, akmelias.
    Fixes #57680.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55595 602fd350-edb4-49c9-b593-d223f7449a82

commit 6b7504f2ae5154c6d36753d3932019add0c56497
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Mar 27 14:11:05 2023 +0000

    Docs: Add missing `@return` tag for `WP_Automatic_Updater::is_disabled()`.
    
    Follow-up to [25421], [25823], [25859].
    
    Props sakibmd, jrf, patelmohip, akmelias.
    See #57680.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55594 602fd350-edb4-49c9-b593-d223f7449a82

commit ad2405c10e4d6311464ff40d75435ad95bb8a844
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Mar 26 10:04:40 2023 +0000

    Coding Standards: Use strict comparison in `wp-admin/includes/nav-menu.php`.
    
    Follow-up to [14248], [15008], [37748].
    
    Props jenilk, johnbillion.
    Fixes #57318.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55593 602fd350-edb4-49c9-b593-d223f7449a82

commit 805b349b0d1f732d41ecabe662d9230c27010cc0
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Mar 25 15:23:41 2023 +0000

    Coding Standards: Use strict comparison in `wp-admin/includes/user.php`.
    
    Follow-up to [10990], [11162], [11217], [37059].
    
    Props jenilk.
    Fixes #57317.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55592 602fd350-edb4-49c9-b593-d223f7449a82

commit 561287c861216c9912dde1f4a459508b3eb21818
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Mar 24 17:10:44 2023 +0000

    Tests: Split the tests from `post/template.php` into individual test classes.
    
    This aims to bring some consistency to the location of post template function tests, as well as to make the tests more discoverable and easier to expand.
    
    Includes:
    * Adding `@covers` tags.
    * Renaming `get_post_parent()` and `has_post_parent()` tests to match the names of the functions.
    
    Follow-up to [28398], [31522], [34654], [34950], [50127], [50396], [54717], [54726], [55590].
    
    See #57841.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55591 602fd350-edb4-49c9-b593-d223f7449a82

commit 13fb9e268c283743a2edf29fe1c4dea4fee2cd2f
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Mar 24 16:12:35 2023 +0000

    Tests: Move `wp_dropdown_pages()` tests to their own file.
    
    This aims to make the tests more discoverable and easier to expand.
    
    Includes removing a basic test hidden among `get_pages()` tests, as there is already a more comprehensive set of tests available.
    
    Follow-up to [1279/tests], [28399], [31338].
    
    See #57841.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55590 602fd350-edb4-49c9-b593-d223f7449a82

commit 99b8216888ffe56ef9d2a56c5d68d3d89248699f
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Mar 24 15:05:29 2023 +0000

    Tests: Add a `@ticket` reference for `wp_list_pages()` CSS classes test.
    
    Follow-up to [55588].
    
    See #57841.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55589 602fd350-edb4-49c9-b593-d223f7449a82

commit 1de4538a3809fffc8bf2852e0d8067fc35e03984
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Mar 24 14:58:39 2023 +0000

    Tests: Move the `wp_list_pages()` test for CSS classes to a more appropriate place.
    
    Back when this test was introduced, `wp_list_pages()` did not have its own test class.
    
    It does now, so the test can be moved there, instead of being hidden among `get_pages()` tests.
    
    Includes:
    * Updating the test name for clarity.
    * Adding an unique message for each assertion.
    
    Follow-up to [27755], [28400].
    
    See #57841.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55588 602fd350-edb4-49c9-b593-d223f7449a82

commit dfc078d19db375d6725fed3761b69a330516900b
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Mar 23 13:52:25 2023 +0000

    Login and Registration: Revert [55358] and [55360].
    
    This reverts the changes implemented in [55358] and [55360].
    
    Changeset [55358] was committed to prevent login name collision when one user registers with the email address `user@example.com` and a second user tries to register with the username `user@example.com`. However, it also introduced a potential backward compatibility issues for plugins that use `wp_update_user()`. When updating an existing user, it throws an `existing_user_email_as_login` error if the email address is also used for the user login, due to the code introduced in [55358].
    
    This changeset removes the new scenario added in [55358] and [55360], restoring the `wp_insert_user()` function back to its previous state.
    
    Props polevaultweb, audrasjb, costdev, peterwilsoncc, hellofromTonya, SergeyBiryukov, azaozz.
    See #57967, #57394.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55584 602fd350-edb4-49c9-b593-d223f7449a82

commit 77883f97fc63ee260f6229576d31e6bc0dd80ebf
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Mar 23 11:35:21 2023 +0000

    Tests: Improve `get_pages()` tests organization.
    
    Includes:
    * Renaming some tests for clarity.
    * Moving some tests to a more appropriate place.
    * Moving the `@covers` tag to the top of the class.
    * Using consistent formatting for assertion messages.
    
    Follow-up to [27767], [41849], [44587], [55569].
    
    See #57841.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55583 602fd350-edb4-49c9-b593-d223f7449a82

commit 4a7009a1d2bc73c028c24b8824f71b2ec357ec52
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Wed Mar 22 12:48:30 2023 +0000

    Login and Registration: Fix margin for language switcher button on small screens.
    
    This fixes an alignement issue on small screens in the language switcher button displayed on the Login screen.
    
    Follow-up to [52058], [52417].
    
    Props sabernhardt.
    Fixes #57617.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55582 602fd350-edb4-49c9-b593-d223f7449a82

commit 464ad2021812d7df7b32ad9f42dbc99ffdb8ff4b
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Mar 22 09:25:32 2023 +0000

    Tests: Consistently sanitize expiration in the test suite's Memcached implementation.
    
    In a previous commit, the `::sanitize_expiration()` call in the `::add()` method was moved closer to where the value is used.
    
    This commit does the same for the other methods:
    * `::cas()`
    * `::replace()`
    * `::set()`
    * `::setMulti()`
    
    Follow-up to [40561], [55577].
    
    See #57841, #57963.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55581 602fd350-edb4-49c9-b593-d223f7449a82

commit d0f1816c36e7715c76e663b2459e191003def2bc
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Tue Mar 21 19:58:45 2023 +0000

    Code Modernization: Fix dynamic properties in WP_Admin_Bar.
    
    To fix the dynamic properties, the following changes are included:
    * Removes `WP_Admin_Bar::__get()`.
    * Declares `menu` as a property on the class, deprecates it, and initializes it to an empty array.
    * Removes the unused 'proto' dynamic property.
    
    Dynamic (non-explicitly declared) properties are deprecated as of PHP 8.2 and are expected to become a fatal error in PHP 9.0.
    
    == Why remove the `WP_Admin_Bar::__get()` magic method?
    
    tl;dr
    The magic method is no longer needed.
    
    The magic method only handled the `menu` and `proto` dynamic properties. Introducing a full set of magic methods is overkill for this class. Instead of having to maintain magic methods, this changeset instead directly addresses the 2 properties (see below).
    
    == Why declare the `menu` property on the class?
    
    tl;dr
    To simplify the code while maintaining backwards compatibility for extenders who are using this deprecated property.
    
    The `menu` property was introduced during the 3.1.0 ''development cycle'' as a declared property [15671]. Its purpose was to ''internally'' hold the menu structure.
    
    During the WP 3.3.0 development cycle, it was replaced by a new `private` property called `nodes` (see [19120]).
    
    But breakage reports from extenders caused it to be restored. [19501] added the `__get()` magic method, i.e. for handling it as a dynamic property, and deprecated it.
    
    >We're not going to maintain compat for $menu. Suggest we make it array() and plugins will have to deal. We can throw a _deprecated_argument() and push them to use the new methods.
    ~ Source: [https://core.trac.wordpress.org/ticket/19371#comment:17 see #19371 comment 17]
    
    [https://wpdirectory.net/search/01GSTW1X69TBN8FH3SY7V8KPY5 A search of the wp.org plugins and themes repository] shows that a few plugins are still using this deprecated property. To maintain backwards compatibility, `menu` is moved back to the class as a declared property, set to an empty array (as it's been since 3.3.0), and deprecated in the property's description.
    
    == Why remove the `proto` dynamic property?
    
    tl;dr
    * It was not intended to be released in 3.1.
    * There are no usages of it in Core or in the WP.org's plugin or theme directories.
    * It should be safe to remove.
    
    This property was first introduced in the WP 3.1.0 ''development cycle'' to replace the `PROTO` constant (see [16038]) for protocol handling for the admin bar's hyperlinks. [16077] replaced the property's usages with URL functions such as `get_admin_url()` and `admin_url()`. But it missed removing the property, which was no longer needed or used.
    
    It was relocated to the `__get()` magic method as a dynamic property when the `menu` property was restored (see [19501]).
    
    A search of WP.org's plugins and themes repositories shows no usages of the property. Core hasn't used it since the removed in [16038] before 3.1 final release. It should be safe to remove it, but committing very early in the 6.3 alpha cycle to give time for reports of usages, if there are any.
    
    References:
    * A [https://www.youtube.com/watch?v=vDZWepDQQVE&t=9362s live open public working session] where these changes were discussed and agreed to.
    * [https://wiki.php.net/rfc/deprecate_dynamic_properties PHP RFC: Deprecate dynamic properties].
    
    Follow-up to [19501], [19120], [16308], [16038], [15671].
    
    Props antonvlasenko, hellofromTonya, jrf, markjaquith, desrosj, ironprogrammer, peterwilsoncc, SergeyBiryukov.
    See #56876, #56034.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55580 602fd350-edb4-49c9-b593-d223f7449a82

commit 9233e3a85a70f439501837b8190e080ddf732748
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Tue Mar 21 17:00:21 2023 +0000

    Build/Test Tools: Fix issue with add method in object-cache.php.
    
    In the object-cache.php file used for unit tests, the add method did not work as expected. Other object cache plugins and core, have a check to see if the key exists in memory before writing it. Without this check, it used to write unnecessarily to the cache.
    
    Props spacedmonkey, SergeyBiryukov.
    Fixes #57963.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55577 602fd350-edb4-49c9-b593-d223f7449a82

commit 69693f3019f23047c8711584cda1864b77565ea0
Author: Kelly Choyce-Dwan <ryelle@git.wordpress.org>
Date:   Tue Mar 21 15:35:25 2023 +0000

    Administration: Update dashboard welcome panel colors, remove broken link
    
    Remove the green background from the "dot" accent, to prevent low contrast for the dismiss button. Use menu colors for the background on alternate color schemes. Remove the "Edit styles" link as there is no longer a direct link to the global styles section of the site editor.
    
    Follow-up to [55451].
    
    Props sabernhardt, ryokuhi, laurlittle, richtabor.
    Fixes #57759.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55574 602fd350-edb4-49c9-b593-d223f7449a82

commit 316bcd46f8b83ccadbaa893a262c7bfc5ed2bd3a
Author: Kelly Choyce-Dwan <ryelle@git.wordpress.org>
Date:   Tue Mar 21 15:25:57 2023 +0000

    Help/About: Updates to About page.
    
    Remove link to release video, update split controls image.
    
    Follow-up to [55449], [55499], [55545].
    
    Props laurlittle, richtabor.
    Fixes #57477.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55573 602fd350-edb4-49c9-b593-d223f7449a82

commit 95826a28f17bda68092926bb6c33a05cc9459964
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Tue Mar 21 13:52:29 2023 +0000

    Tests: Rename test class and improve tests for wp_get_global_stylesheet().
    
    Changes include:
    * Renames the test class to be compliant with test coding standards.
    * Converts the test class to extend `WP_Theme_UnitTestCase` to reuse test fixtures.
    * Implements data providers to encapsulate datasets and reduce code repetition.
    * Adds a `@covers` annotation.
    * Improves assertion messages to help with diagnosing failed tests.
    
    Follow-up to [55567], [55148], [52682], [53916], [52675-52677].
    
    Props costdev, hellofromTonya.
    See #57841, #57958.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55572 602fd350-edb4-49c9-b593-d223f7449a82

commit aacd5726476f712a47a735d98750d11bab88ee14
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Mar 21 13:25:50 2023 +0000

    Coding Standards: Remove unused variable in `WP_Plugins_List_Table::single_row()`.
    
    Follow-up to [47835], [48669].
    
    Props azouamauriac.
    Fixes #55132.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55571 602fd350-edb4-49c9-b593-d223f7449a82

commit eb6bf15bc77fdffc416a49568a93ac5545c9e468
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Tue Mar 21 12:47:20 2023 +0000

    Posts, Post Types: Use WP_Query internally in get_pages.
    
     Convert `get_pages` to use `WP_Query` internally. Using WP_Query means that a lot of code has been removed however existing parameters supported by get_pages are transformed in to query arguments. The custom caching solution found in the old version of this function is replaced with the caching found in WP_Query (added in [53941]). This change adds consistency to the codebase, as improvements and changes to `WP_Query` will filter down to the `get_pages` function.
    
    Props mikeschinkel, spacedmonkey, nacin, scribu, filosofo, jane, garyc40, markoheijnen, grandslambert, kevinB, wlindley, dbernar1, atimmer, mdawaffe, helen, benjibee, johnbillion, peterwilsoncc, costdev, flixos90, joemcgill.
    Fixes #12821.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55569 602fd350-edb4-49c9-b593-d223f7449a82

commit 308c9104fcb05c15308bfa53c2d67b6278d6a588
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Tue Mar 21 12:41:26 2023 +0000

    Editor: Update @wordpress packages for 6.2 RC3.
    
    Updates the `@wordpress` packages to include the fixes for these regressions introduced in the 6.2 cycle:
    
    * [Regression] Navigation Block: Category/Custom taxonomy links are not searchable in the Link inserter [https://github.com/WordPress/gutenberg/pull/49126 Gutenberg PR 49126]. See #57929 ✅
    * [Regression] Post Editor: List View has no close button on mobile viewports [https://github.com/WordPress/gutenberg/pull/49200 Gutenberg PR 49200] ✅
    
    References:
    * [https://github.com/WordPress/gutenberg/commit/811da1ab3a91aacd078e71f486e1393e13f72506 Packages x.3.11 publish commit].
    
    Follow-up to [55548].
    
    Props andraganescu, costdev, get_dave, hellofromTonya, mamaduka, ntsekouras, scruffian, talldanwp, thomask.
    See #57471.
    Fixes #57929.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55568 602fd350-edb4-49c9-b593-d223f7449a82

commit 7cef755d2761deb7bc7b53d047a27c42d16cd43b
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Mon Mar 20 18:20:05 2023 +0000

    Tests: Add test class for `wp_enqueue_stored_styles()`.
    
    [54214] added the `wp_enqueue_stored_styles()` tests and `clean_up_global_scope()` reset global method to `Tests_Theme_wpGetGlobalStylesheet`.
    
    This changeset relocates those tests a new test class specifically for `wp_enqueue_stored_styles()` and removes `Tests_Theme_wpGetGlobalStylesheet::clean_up_global_scope()` method.
    
    Why not relocate the `clean_up_global_scope()` method to the new test class?
    The test class extends from `WP_Theme_UnitTestCase` which includes this method.
    
    Follow-up to [54214], [54703].
    
    Props costdev.
    See #57841.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55567 602fd350-edb4-49c9-b593-d223f7449a82

commit ce82eb864ac060243472b55e97cfaaff180e7e23
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Mar 20 16:40:12 2023 +0000

    Cache API: Correct the second parameter's name in `_get_non_cached_ids()`.
    
    The parameter represents the cache group, not the cache key.
    
    Follow-up to [19918].
    
    Props johnjamesjacoby, spacedmonkey.
    Fixes #40420.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55566 602fd350-edb4-49c9-b593-d223f7449a82

commit 94edf361896d4e6e224d5215ebb77d89843a60d6
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Mon Mar 20 16:16:22 2023 +0000

    Tests: Add test class for `wp_script_is()`.
    
    Changes:
    * Adds a test class for `wp_script_is()`.
    * Moves `WP_Dependencies_jQuery::test_wp_script_is_dep_enqueued()` into this test class and splits it into 2 separate tests, happy and unhappy paths.
    * Adds `WP_Scripts::query` `@covers`, as `wp_script_is()` is helper function for it.
    * Relocates the global resetting from the test method to the `clean_up_global_scope()` method.
    
    Follow-up to [52010], [29252].
    
    Props hellofromTonya, antonvlasenko.
    See #57841, #57958.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55565 602fd350-edb4-49c9-b593-d223f7449a82

commit 6d1381180b0d90ef606d5c9d2afa3c4234726a76
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Mar 20 08:23:47 2023 +0000

    KSES: Allow `filter` property to accept a URL in `safecss_filter_attr()`.
    
    CSS filters can accept `url()` as a reference to an SVG filter element:
    {{{
    filter: url( file.svg#filter-element-id );
    }}}
    This commit allows for that syntax to be used in inline CSS.
    
    Original PR from Gutenberg repository:
    * [https://github.com/WordPress/gutenberg/pull/48281 #48281 Duotone: Use the style engine to generate CSS for Duotone]
    
    References:
    * [https://developer.mozilla.org/en-US/docs/Web/CSS/filter MDN Web Docs: filter()]
    * [https://developer.mozilla.org/en-US/docs/Web/CSS/url MDN Web Docs: url()]
    
    Follow-up to [44136], [52049].
    
    Props scruffian, jeryj, ironprogrammer, azaozz, hellofromTonya, SergeyBiryukov.
    Fixes #57780.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55564 602fd350-edb4-49c9-b593-d223f7449a82

commit a387dee3f93a85f7036f2ae82953dbbd2b5a51b6
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Mar 19 12:51:14 2023 +0000

    Tests: Improve documentation and variable names in some formatting tests.
    
    Includes documenting data provider values using hash notation in the tests for:
    * `convert_smilies()`
    * `get_url_in_content()`
    * `links_add_target()`
    * `normalize_whitespace()`
    
    Follow-up to [26191], [26327], [26328], [26972], [55562].
    
    See #57841.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55563 602fd350-edb4-49c9-b593-d223f7449a82

commit d1046dc5f320ece8566c08977cbaf0ce574cde66
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Mar 19 12:03:30 2023 +0000

    Tests: Use the `data_` prefix for various data provider methods.
    
    This aims to bring more consistency to the test suite, as the vast majority of data providers already use that prefix.
    
    Includes moving some data providers next to the tests they are used in.
    
    Follow-up to [55464].
    
    See #57841.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55562 602fd350-edb4-49c9-b593-d223f7449a82

commit 81fd448129f5cd28d4671b1929f02d09807d4763
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Sat Mar 18 16:33:22 2023 +0000

    Editor: Show scheduled text when changing to new future dates.
    
    In the classic editor, fix the publish status change text shown when a future post's date is changed to a different future date. Show 'scheduled' statement instead of 'publish' statement.
    
    Props tyxla, sdavis2702, joedolson.
    Fixes #31040.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55561 602fd350-edb4-49c9-b593-d223f7449a82

commit d37d5aabf47a5d71053662c2a22f8cc7385032d2
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Sat Mar 18 15:45:39 2023 +0000

    Quick/Bulk Edit: Show scheduled in status for future drafts.
    
    Change the quick edit status `select` to use the 'Scheduled' status instead of the 'Published' status or posts where the date is in the future.
    
    Props ipstenu, MrFlannagan, sabernhardt, oglekler.
    Fixes #38834.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55560 602fd350-edb4-49c9-b593-d223f7449a82

commit b5ecdb1c9c619188d29ce9c246cef1f04dded549
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Mar 18 12:32:54 2023 +0000

    Coding Standards: Remove unused variables in `WP_Comment_Query`.
    
    * `$unapproved_ids` and `$unapproved_emails` in `WP_Comment_Query::get_comment_ids()` were added in [29965] and appear to never have been used.
    * `$wpdb` in `WP_Comment_Query::fill_descendants()` was replaced with `$this->db` in [38275], removed in [38446], and accidentally reinstated in [38768].
    
    Follow-up to [29965], [34546], [37625], [38275], [38446], [38768], [44546].
    
    Props upadalavipul, dingo_d, audrasjb, SergeyBiryukov.
    Fixes #57482.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55559 602fd350-edb4-49c9-b593-d223f7449a82

commit 1eba58d5a65a3a645d8018e9fc0fc735d8a1e0bf
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Fri Mar 17 15:56:01 2023 +0000

    Date / Time: Remove usage of mysql2date in generate_postdata method.
    
    Remove usage of `mysql2date` in `generate_postdata`. `mysql2date` has a performance overhead, as it creates a `DateTimeZone` object each time it is called. Use a simple
    sub string function to generate the values needed for the `currentmonth` and `currentday` global variables.
    
    Props spacedmonkey, Rarst, SergeyBiryukov, flixos90.
    Fixes #57683.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55558 602fd350-edb4-49c9-b593-d223f7449a82

commit 8c7dc47219c21ab34bceb7e3b364f7e74b4182fe
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Mar 17 14:20:24 2023 +0000

    External Libraries: Upgrade PHPMailer to version 6.8.0.
    
    This is a maintenance release with a new feature: DSN URL parsing, which allows you to create a PHPMailer instance with most important settings by passing in a single URL, ideal for configuring PHPMailer from an environment variable.
    
    Note: This commit does not include new DSN class, as it is not particularly relevant for WordPress core at this time.
    
    References:
    * [https://github.com/PHPMailer/PHPMailer/releases/tag/v6.8.0 PHPMailer 6.8.0 release notes]
    * [https://github.com/PHPMailer/PHPMailer/compare/v6.7...v6.8.0 Full list of changes in PHPMailer 6.8.0]
    
    Follow-up to [50628], [50799], [51169], [51634], [51635], [52252], [52749], [52811], [53500], [53535], [53917], [54427], [54937].
    
    Props ayeshrajans, jrf, Synchro.
    Fixes #57873.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55557 602fd350-edb4-49c9-b593-d223f7449a82

commit afbb9ef0e343fb78f420df688bc495c02e0f91cc
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Mar 16 16:12:51 2023 +0000

    Filesystem API: Return `false` for empty paths in FTP `::exists()` methods.
    
    When `ftp_nlist()` receives an empty path, it checks the current working directory and may return `true`.
    
    This affects:
    * `WP_Filesystem_FTPext::exists()`
    * `WP_Filesystem_ftpsockets::exists()`
    
    As the purpose of the API is to provide a consistent interface for various filesystem implementations, this commit updates the affected methods to returns `false` when an empty path is provided, bringing consistency with the other filesystem abstraction classes, specifically `WP_Filesystem_Direct` and `WP_Filesystem_SSH2`.
    
    Follow-up to [6779], [11821], [25274], [31815].
    
    Props mkox, costdev, Zdrobau, dd32, pbiron, azaozz, mukesh27, SergeyBiryukov.
    Fixes #33058.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55556 602fd350-edb4-49c9-b593-d223f7449a82

commit f2028e108ec245d66c1396a1bfca0a91435746a9
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Thu Mar 16 13:09:55 2023 +0000

    HTML API: Add bookmark invalidation logic.
    
    While `WP_HTML_Tag_Processor` currently only supports changing a given tag's attributes, the plan is to provide methods to make broader changes (possibly through a subclass of `WP_HTML_Tag_Processor`). The API will have the potential of replacing a tag that a bookmark points to. To prepare, this changeset makes sure that all bookmarks affected by a HTML replacement are invalidated (i.e. released).
    
    Changes:
    * Extends the existing loop in `WP_HTML_Tag_Processor::apply_attributes_updates()` that adjusts bookmarks' start and end positions upon HTML changes to check if the entire bookmark is within a portion of the HTML that has been replaced.
    * Adds `WP_HTML_Tag_Processor::has_bookmark() to check whether the given bookmark name exists.
    
    References:
    * [https://github.com/WordPress/gutenberg/pull/47559 Gutenberg PR 47559]
    * [https://github.com/WordPress/gutenberg/releases/tag/v15.3.0 Released in Gutenberg 15.3.0]
    
    Follow-up to [55203].
    
    Props bernhard-reiter, dmsnell, zieladam.
    Fixes #57788.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55555 602fd350-edb4-49c9-b593-d223f7449a82

commit 6222a118c9b87ca9f5703b5055831457469627b7
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Wed Mar 15 11:53:49 2023 +0000

    Build/Test Tools: Revert [55553].
    
    Revert package-lock.json changes in [55553].
    
    See #57864.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55554 602fd350-edb4-49c9-b593-d223f7449a82

commit 767f16f6a5f1188cb2991e5c1059c906803aff31
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Wed Mar 15 11:36:52 2023 +0000

    Widgets: Defer register inline script in `WP_Widget_Custom_HTML` and `WP_Widget_Text`.
    
    In [41376] an inline script was added to push `idBases` for the custom html and text widgets. However, this script is not used unless the widget script is output in the widget screen / customizer. Deferring registering this script until it is needed, results in a faster server response times.
    
    
    Props spacedmonkey, sakibmd, flixos90, westonruter.
    Fixes #57864.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55553 602fd350-edb4-49c9-b593-d223f7449a82

commit 6df903374126cacc5e94a7288b7fde82b6f32cf0
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Mar 15 09:03:17 2023 +0000

    Administration: Define the `$title` global on the Menus screen for classic themes.
    
    This brings more consistency with other screens and avoids a PHP warning in `get_plugin_page_hookname()`:
    {{{
    preg_replace(): Passing null to parameter #3 ($subject) of type array|string is deprecated
    }}}
    
    Follow-up to [13257], [13366], [55263].
    
    Props nendeb55, costdev, SergeyBiryukov.
    Fixes #57918.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55552 602fd350-edb4-49c9-b593-d223f7449a82

commit 200868214a1ae0a108dac491677ba82e7541fc8d
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Mar 14 16:53:07 2023 +0000

    Docs: Fix typo in `_validate_cache_id()` description.
    
    Includes:
    * Capitalizing "ID" in a consistent way.
    * Expanding the comment on not using `filter_var()`.
    * Adding a `@covers` tag for the function in unit tests.
    * Minor tweak to the `_doing_it_wrong()` message.
    
    Follow-up to [53818], [55543].
    
    See #57593.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55549 602fd350-edb4-49c9-b593-d223f7449a82

commit d55ca1215a42f5664fe46ecb54d9bde2ef44cd28
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Mar 14 16:24:15 2023 +0000

    Coding Standards: Use single quotes for strings without variables in `register_block_style_handle()`.
    
    This resolves two WPCS errors:
    {{{
    String ".css" does not require double quotes; use single quotes instead
    String "-rtl.css" does not require double quotes; use single quotes instead
    }}}
    Follow-up to [55544].
    
    See #57903.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55547 602fd350-edb4-49c9-b593-d223f7449a82

commit 0e8e1da00dc74a1c455c79d667e01244d6b160c0
Author: Kelly Choyce-Dwan <ryelle@git.wordpress.org>
Date:   Tue Mar 14 16:03:21 2023 +0000

    Help/About: Add CDN images to About page.
    
    Props richtabor.
    See #57477.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55545 602fd350-edb4-49c9-b593-d223f7449a82

commit ff59152de3aae387436c4f826cf1f891a0100c38
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Mar 14 15:58:34 2023 +0000

    Editor: Correctly load RTL stylesheets for non-core blocks.
    
    If `SCRIPT_DEBUG` is disabled, `register_block_style_handle()` loads core blocks' styles with the `.min` suffix, while non-core ones never use the minified files, but the suffix was still mistakenly included in the `-rtl` file lookup.
    
    This commit updates the logic to match the style path set earlier in the function, ensuring that RTL stylesheets are loaded properly for both core and non-core blocks, with or without `SCRIPT_DEBUG`.
    
    Follow-up to [49982], [50836], [54330], [55486].
    
    Props david.binda.
    Fixes #57903.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55544 602fd350-edb4-49c9-b593-d223f7449a82

commit 2724a495afb2f7c60d4b2c6b9158c4c82973fb58
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Tue Mar 14 15:51:28 2023 +0000

    Cache API: Add a warning when calling `_get_non_cached_ids` with invalid ids.
    
    Sanitize the array of ids passed to the `_get_non_cached_ids` function and add a `_doing_it_wrong` call, if an invalid type is passed.
    
    Props tillkruess, spacedmonkey, peterwilsoncc, flixos90, SergeyBiryukov.
    Fixes #57593.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55543 602fd350-edb4-49c9-b593-d223f7449a82

commit 927af1761fd008881deee5f688e92437c5f249b5
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Tue Mar 14 15:43:18 2023 +0000

    Editor: Update @wordpress packages for 6.2 RC2.
    
    Updates the `@wordpress` packages to include the following changes:
    
    - [Regression] Don't offer Classic block as a recovery action when not registered [https://github.com/WordPress/gutenberg/pull/49051 Gutenberg PR 49051] ✅
    - [i18n Change] Fix typo in the media-categories component [https://github.com/WordPress/gutenberg/pull/49047 Gutenberg PR 49047] ✅
    - Hide navigation screen in site editor [https://github.com/WordPress/gutenberg/pull/49043 Gutenberg PR 49043] ✅
     [https://make.wordpress.org/core/2023/03/14/fyi-navigation-section-of-new-site-editor-experienced-removed-for-6-2-rc-2/ Feature is not ready for 6.2]
    - [i18n Change] Site editor: Fix non-us spelling in sidebar [https://github.com/WordPress/gutenberg/pull/48976 Gutenberg PR 48976] ✅ See Trac #57895.
    - [Regression] Site Editor: Fix lingering insertion point within template parts [https://github.com/WordPress/gutenberg/pull/48913 Gutenberg PR 48913] ✅ > Regression introduced in 6.2 cycle.
    - Navigation Link: Remove color generation code [https://github.com/WordPress/gutenberg/pull/48927 Gutenberg PR 48927] and [https://github.com/WordPress/gutenberg/pull/49064 Gutenberg PR 49064] ✅
    - Fix settings tab active state border in block inspector [https://github.com/WordPress/gutenberg/pull/48945 Gutenberg PR 48945] ✅
    - Fix text alignment in the Site Editor sidebar  [https://github.com/WordPress/gutenberg/pull/48959 Gutenberg PR 48959] ✅ Making template descriptions more prominent is part of 6.2.
    
    References:
    * [https://github.com/WordPress/gutenberg/commit/f22a3cbf0cd8f48c7ef800a09b69212a893b99b8 Packages x.3.9 publish commit]
    * [https://github.com/WordPress/gutenberg/commit/356298f91f5e43d68dda6a770e3e6f8e1aa69f14 Packages x.3.10 publish commit]
    
    Follow-up to [55496].
    
    Props mamaduka, tobifjellner, davidbaumwald, costdev, audrasjb, hellofromTonya.
    See #57471.
    Fixes #57895.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55542 602fd350-edb4-49c9-b593-d223f7449a82

commit dbbc9bcf98787fd77fd920df84cc9bbc69974b0a
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Mon Mar 13 16:30:09 2023 +0000

    Editor: Move variables to where used in wp_render_layout_support_flag.
    
    Improves the performance of wp_render_layout_support_flag() function by moving variables to where each is used.
    If a return happens before the variable is needed, this change avoids unnecessary processing and memory.
    
    Props spacedmonkey, hellofromTonya, mukesh27.
    Fixes #57815.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55541 602fd350-edb4-49c9-b593-d223f7449a82

commit 66896d0b6550cdb5189f1e41a8a2bd3d76947afe
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Mar 13 10:52:26 2023 +0000

    Coding Standards: Bring some consistency to `wp_validate_redirect()` existence checks.
    
    The `wp_get_referer()` and `wp_get_original_referer()` functions both depend on `wp_validate_redirect()` and check whether it is defined by the time they run, but do so in a slightly different way.
    
    This commit ensures both functions return early if they are called before `wp_validate_redirect()` is defined.
    
    Follow-up to [3908], [25399], [25400].
    
    See #57839.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55540 602fd350-edb4-49c9-b593-d223f7449a82

commit aa66009d6a5df483244d306d849b7b17d05f8ef1
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Mar 12 14:48:03 2023 +0000

    Docs: Improve some DocBlock formatting in `wp-includes/class-wp-xmlrpc-server.php`.
    
    Includes clarifying the list of fields passed to the `xmlrpc_default_*_fields` filters by default.
    
    Follow-up to [16046], [17647], [27730], [32550], [37492], [55316].
    
    See #57840.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55539 602fd350-edb4-49c9-b593-d223f7449a82

commit de504cbaee5d59b7f82a06bd58030eeb81bc1a56
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Mar 11 11:32:54 2023 +0000

    Filesystem API: Return correct error data from `copy_dir()` if the directory listing failed.
    
    The `::dirlist()` method is run on the `$from` directory, so `basename( $from )` is the correct thing to pass to the `WP_Error` object.
    
    Follow-up to [50149].
    
    Props afragen, costdev, pravinparmar2404.
    Fixes #57907.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55538 602fd350-edb4-49c9-b593-d223f7449a82

commit c421c7ead6c72ebb448c7a21f6bef3acfaab6a92
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Fri Mar 10 17:49:58 2023 +0000

    Cache API: Make `network-queries` and `site-queries` global cache groups.
    
    Fixes a bug introduced in [55526]. The cache groups `network-queries` and `site-queries` store query results for network and site. These are network level data and should be stored in a global cache group.
    
    Props spacedmonkey, tillkruess, flixos90.
    See #57625.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55537 602fd350-edb4-49c9-b593-d223f7449a82

commit 82cd43419448c343cc3df41f6e37c6185e480038
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Fri Mar 10 16:27:23 2023 +0000

    Cache API: Introduce new queries cache groups.
    
    Give developers more control over how query caches are handled within an object caches. Now all caches that cache the result of a query, are cached in a group that is suffixed with -queries. Developers can use these groups, to add custom cache invalidation rules or to make them none persistent.
    
    Props spacedmonkey, owi, tillkruess, skithund, peterwilsoncc, flixos90, sergeybiryukov, mukesh27.
    Fixes #57625.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55526 602fd350-edb4-49c9-b593-d223f7449a82

commit 4af22e53d71c23403de49479c2dfe31dd0ba0c05
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Fri Mar 10 15:47:43 2023 +0000

    Networks and Sites: Replace `get_blog_details` with `get_site`.
    
    Replace usage of the function get_blog_details with more lightweight get_site.
    
    Props spacedmonkey, kapilpaul, flixos90.
    Fixes #57571.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55515 602fd350-edb4-49c9-b593-d223f7449a82

commit befb493339512a862a61c16a8a92b5745ee6a109
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Fri Mar 10 15:34:56 2023 +0000

    Date/Time: Save a call to wp_timezone in mysql2date.
    
    Save a call to wp_timezone in mysql2date by saving the timezone to a variable and pass it into wp_date function call.
    
    Props spacedmonkey, costdev, SergeyBiryukov, audrasjb.
    Fixes #57705.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55514 602fd350-edb4-49c9-b593-d223f7449a82

commit 99df8739cce1a34473ba0697fae1ed4667318e40
Author: spacedmonkey <spacedmonkey@602fd350-edb4-49c9-b593-d223f7449a82>
Date:   Fri Mar 10 15:24:01 2023 +0000

    Comments: Prime post caches in WP_Comments_List_Table.
    
    In the `WP_Comments_List_Table` class, when the function `get_comments` is called, pass the parameter `update_comment_post_cache` set to true. This primes all the related posts for the displayed comments. This improves performance, as all posts are primed at once.
    
    Props spacedmonkey, adarshposimyth.
    Fixes #57802.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55513 602fd350-edb4-49c9-b593-d223f7449a82

commit d125ed019c21970d3f4b6f057908def327a2be85
Author: zieladam <zieladam@git.wordpress.org>
Date:   Fri Mar 10 12:35:42 2023 +0000

    Build/Test tools: Prevent registering the same private JavaScript API twice.
    
    This sets the IS_WORDPRESS_CORE global variable to true in the webpack build script to enable extra safeguards around private JavaScript APIs.
    
    Props costdev, hellofromTonya, gziolo, peterwilsoncc.
    Fixes #57795.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55512 602fd350-edb4-49c9-b593-d223f7449a82

commit 9ac434799db642f202537dab0fedc7fa482bc0fb
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Mar 10 07:02:34 2023 +0000

    Coding Standards: Use strict comparison in `wp-admin/includes/taxonomy.php`.
    
    Follow-up to [4490], [9481], [55190].
    
    Props ankitmaru, costdev, dhrumilk.
    Fixes #57859.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55511 602fd350-edb4-49c9-b593-d223f7449a82

commit b2ec9f050ee1422f74f11a415578cc5a9e50e8c3
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Fri Mar 10 00:15:07 2023 +0000

    Build/Test Tools: Add the `workflow_dispatch` event to the performance workflow.
    
    This allows workflow runs to be initiated through the GitHub API.
    
    Follow up to [55507].
    
    See #57687.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55508 602fd350-edb4-49c9-b593-d223f7449a82

commit 60639bde6b32e4e1da55d722cd076fb6d3ee5720
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Fri Mar 10 00:04:45 2023 +0000

    Build/Test Tools: Test the new performance workflow regularly.
    
    This adds the new performance measurement workflow introduced in [55459] to the one that tests old branches on a regular schedule.
    
    This ensures it continues to work as expected over time, even if the branches with this workflow are not updated for a bit of time.
    
    Props flixos90, joemcgill, desrosj.
    See #57687.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55507 602fd350-edb4-49c9-b593-d223f7449a82

commit 1fb37bd953a78896e5c31000ef7572451173c19e
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Thu Mar 9 21:57:21 2023 +0000

    Build/Test Tools: Add 6.2 branch to the workflow for testing branches.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55506 602fd350-edb4-49c9-b593-d223f7449a82

commit 898ff9868d2068306244ee41101bcfbaa3144836
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Thu Mar 9 21:36:06 2023 +0000

    Trunk is now 6.3 alpha.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55505 602fd350-edb4-49c9-b593-d223f7449a82

commit 1b010e8449ee11dff541dbfd4bd101d369d5a762
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Mar 9 17:35:27 2023 +0000

    Post WordPress 6.2 RC1 version bump.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55503 602fd350-edb4-49c9-b593-d223f7449a82

commit e1fd968432c0aa8cf627c3d4d50bf510ee352acb
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Mar 9 17:14:14 2023 +0000

    WordPress 6.2 RC1.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55502 602fd350-edb4-49c9-b593-d223f7449a82

commit ad9a9bcc1c332ba67959684f08fad5c55d2eb24e
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Thu Mar 9 16:54:00 2023 +0000

    Editor: Combine Date template description translations.
    
    Combine the 2 translatable strings into 1 string. Why? The example URL does not require a separate translation. Combining makes the string easier to view in context.
    
    Follow-up to [55500].
    
    Props SergeyBiryukov.
    See #57892.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55501 602fd350-edb4-49c9-b593-d223f7449a82

commit b0c91dbdf1318ea249c62d72c566aa1651da6ef5
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Thu Mar 9 16:29:13 2023 +0000

    Editor: Add more details to template descriptions.
    
    The template descriptions in `get_default_block_template_types()` are updated to add more details. Why? These descriptions are now more prominent in 6.2 to provide a better UX experience with more helpful information.
    
    References:
    * [https://github.com/WordPress/gutenberg/pull/48934 Gutenberg PR 48934]
    
    Follow-up to [54761], [54104], [54269], [53129], [52331], [52062].
    
    Props ntsekouras, andrewserong, bph, davidbaumwald, greenshady, glendaviesnz, hellofromTonya, jameskoster, mamaduka, peterwilsoncc, sabernhardt, SergeyBiryukov.
    Fixes #57892.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55500 602fd350-edb4-49c9-b593-d223f7449a82

commit a3c2fb6417826b1b9b8ae8cbeb888fe1b3bc374c
Author: Kelly Choyce-Dwan <ryelle@git.wordpress.org>
Date:   Thu Mar 9 16:28:25 2023 +0000

    Help/About: Update copy & style for About page and subpages.
    
    Minor copy updates. Update heading style, text size, spacing in smaller columns. Remove columns placement code to simplify CSS. This was necessary for IE11, but modern browsers can use auto-placement. Move navigation out of the banner to keep size & background placement consistent across About section.
    
    Props marybaum, sereedmedia, annezazu, jpantani, laurlittle, richtabor, markoserb, fcoveram, joen, kebbet.
    See #57477.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55499 602fd350-edb4-49c9-b593-d223f7449a82

commit fa30177bf2ee467250fa011ea2c78059b7fb1962
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Thu Mar 9 13:52:21 2023 +0000

    Editor: Update @wordpress packages for 6.2 RC1.
    
    Updates the `@wordpress` packages to include the following changes:
    
    - Site Editor: Move "Add Template"'s descriptions to tooltips
    - Update template descriptions with more detail
    - Distraction Free Mode: Don't show the metaboxes
    - Remove actions from SidebarNavigationScreenWrapper
    - Fix: Navigation sidebar shows a wrong submenu popover.
    - Fix: Site button metrics
    - Fix navigation block off-canvas appender for empty menus
    - Style Book: Move iframe to root of content area to support styles that overflow block previews
    - Fix navigation block off-canvas appender for empty
    
    Reference:
    * [https://github.com/WordPress/gutenberg/commit/446428841b54f47e5373d6e9723ef7ec24cf11b3 Package publish commit in Gutenberg]
    
    Follow-up to [55475].
    
    Props mamaduka.
    See #57471.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55496 602fd350-edb4-49c9-b593-d223f7449a82

commit 16901ff4cae867ae11a1ed175345125419d7c0ec
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Mar 9 00:18:29 2023 +0000

    Formatting: Restore consistent quotes in `_make_web_ftp_clickable_cb()`.
    
    After the introduction of `_make_clickable_rel_attr()` in an earlier commit, the function ended up returning link markup with a mix of single and double quotes.
    
    This commit ensures that `_make_web_ftp_clickable_cb()` always returns double quotes, restoring consistency with other similar callback functions used by `make_clickable()`:
    * `_make_url_clickable_cb()`
    * `_make_email_clickable_cb()`
    
    Follow-up to [55289].
    
    See #53290, #56444.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55495 602fd350-edb4-49c9-b593-d223f7449a82

commit a67b087a2044f2663e9563692775b54dcc7d82af
Author: Andrew Ozz <azaozz@git.wordpress.org>
Date:   Thu Mar 9 00:03:36 2023 +0000

    Build/Test Tools: Fix cleaning of old CSS files in `wp-includes/blocks/*`. Have to be cleaned earlier, before Webpack runs. Not together with the rest of the CSS files.
    
    Props: ironprogrammer, petitphp, hellofromTonya, azaozz.
    Fixes: #57891.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55494 602fd350-edb4-49c9-b593-d223f7449a82

commit 7b979b35150408289a2221ce06232a7491558307
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Wed Mar 8 22:43:32 2023 +0000

    Site Editor: Revert r54860.
    
    [54860] caused a regression. Changes to a parent theme's template part (i.e.e when a child theme does not override that template part) no longer saved in the Site Editor. Reverting the changeset resolves the regression.
    
    Props mreishus, hellofromTonya, azaozz, ironprogrammer, antonvlasenko.
    
    Fixes #57630.
    See #55437.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55493 602fd350-edb4-49c9-b593-d223f7449a82

commit 1fdcbbfec3e1f206ad977b8b8fbc631e0f3b7064
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Wed Mar 8 22:17:53 2023 +0000

    Docs: Add security warning in `remove_query_arg()` docblock to make it consistent with `add_query_arg()`.
    
    Props roytanck.
    Fixes #57885.
    See #56792.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55492 602fd350-edb4-49c9-b593-d223f7449a82

commit e4c3b032aed2caf90dbb8f339f171dd9da31dcb4
Author: Aaron Jorbin <jorbin@git.wordpress.org>
Date:   Wed Mar 8 18:35:18 2023 +0000

    External Libraries: Update jQuery to 3.6.4.
    
    Update the jQuery library from 3.6.1 to 3.6.3.
    
    [3.6.4 release announcement](https://blog.jquery.com/2023/03/08/jquery-3-6-4-released-selector-forgiveness/)
    [Full changelog](https://github.com/jquery/jquery/compare/3.6.3...3.6.4)
    
    Props TobiasBg, audrasjb, hellofromTonya.
    See #57324.
    Fixes 57888.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55491 602fd350-edb4-49c9-b593-d223f7449a82

commit fc160338c0ae0e45cd72b33f5704fb7e850f8c5c
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Wed Mar 8 16:33:13 2023 +0000

    Build/Test Tools: Update several GitHub Actions.
    
    This updates three GitHub Actions to their latest versions:
    - `shivammathur/setup-php`
    - `actions/cache`
    - `wow-actions/welcome`
    
    The welcome action now uses the `GITHUB_TOKEN` by default, so it no longer needs to be passed manually.
    
    See #57572.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55487 602fd350-edb4-49c9-b593-d223f7449a82

commit 9ec91036693d7baacf613fa925b792cd999f216d
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Mar 8 15:00:12 2023 +0000

    Tests: Add a unit test for `register_block_style_handle()` with an RTL locale.
    
    The test ensures that the function loads RTL stylesheets when a locale with the right-to-left text direction is set.
    
    Follow-up to [54330].
    
    Props costdev, thomasplevy, audrasjb, mukesh27.
    Fixes #56797.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55486 602fd350-edb4-49c9-b593-d223f7449a82

commit 7945c0ce1989408a1b6c99308ddcf1b3d5df572c
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Wed Mar 8 13:34:38 2023 +0000

    Docs: Add missing 6.2.0 @since mention in `get_the_privacy_policy_link()`.
    
    Follow-up to #55261.
    
    See #56792, #56345.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55485 602fd350-edb4-49c9-b593-d223f7449a82

commit 87f053492fe386e42e14c2e704c57e1b238e3e37
Author: Andrew Ozz <azaozz@git.wordpress.org>
Date:   Wed Mar 8 01:01:45 2023 +0000

    Build/Test Tools: Remove all previously built files when running `clean:files`.
    
    Cleans old JS, CSS and Webpack files from /src so they are not automatically copied to /build when running `grunt build`. Fixes errors that may be caused by copying outdated files and/or directories to /build.
    
    Props: desrosj, isabel_brison, SergeyBiryukov, ironprogrammer, mukesh27, robinwpdeveloper, razthee007, costdev, peterwilsoncc, azaozz.
    
    Fixes: #47749.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55484 602fd350-edb4-49c9-b593-d223f7449a82

commit dfef412d61033a535c9ad4925a88306f7977dce2
Author: David Baumwald <davidbaumwald@git.wordpress.org>
Date:   Tue Mar 7 17:42:27 2023 +0000

    Post WordPress 6.2 Beta 5 version bump.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55481 602fd350-edb4-49c9-b593-d223f7449a82

commit ace5ab559f3d9b729720d7e617da57b49c8490d4
Author: David Baumwald <davidbaumwald@git.wordpress.org>
Date:   Tue Mar 7 17:21:36 2023 +0000

    WordPress 6.2 Beta 5.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55480 602fd350-edb4-49c9-b593-d223f7449a82

commit 95703e3de5ebc342e283ea8ae811ae23f535f38f
Author: Joe McGill <joemcgill@git.wordpress.org>
Date:   Tue Mar 7 16:58:56 2023 +0000

    Build/Test Tools: Update the URL for logging performance workflows.
    
    This is a follow up to r55459, which fixes the hostname used for logging performance metrics by adding the correct www subdomain.
    
    See #57687.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55479 602fd350-edb4-49c9-b593-d223f7449a82

commit 902dbaca5aab96cea1de624b1df765e88642c001
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Tue Mar 7 16:47:01 2023 +0000

    Bundled Themes: Add missing trailing `/` in HelpHub links.
    
    HelpHub links without trailing slashes with anchors present result in an unnecessary redirect.
    
    These were introduced with the `/` missing in [55476].
    
    Props audrasjb.
    See #57689, #57726.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55478 602fd350-edb4-49c9-b593-d223f7449a82

commit 7fd029c1155c24d0d2370282669f94a8c371bacd
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Tue Mar 7 16:46:48 2023 +0000

    HTML API: Document shorthand usage of the next_tag().
    
    Documents the shorthand usage, i.e. `$this->next_tag( 'img' )`, of `WP_HTML_Tag_Processor::next_tag()`.
    
    Also includes table alignments and formatting adjustments in the class docs.
    
    Follow-up to [55203], [55206].
    
    Props zieladam, poena, dmsnell, costdev, hellofromTonya.
    Fixes #57863.
    See #57575.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55477 602fd350-edb4-49c9-b593-d223f7449a82

commit 961661a1e02a2c62ed2fbc67fc67a4b76402eb3b
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Tue Mar 7 16:25:27 2023 +0000

    Bundled Themes: Bump version numbers for WordPress 6.2.
    
    In coordination with the release of 6.2, a new version of each bundled theme will also be released. This bumps the version of each theme to the following:
    
    - Twenty Ten: 3.8
    - Twenty Eleven: 4.3
    - Twenty Twelve: 3.9
    - Twenty Thirteen: 3.8
    - Twenty Fourteen: 3.6
    - Twenty Fifteen: 3.4
    - Twenty Sixteen: 2.9
    - Twenty Seventeen: 3.2
    - Twenty Nineteen: 2.5
    - Twenty Twenty: 2.2
    - Twenty Twenty-One: 1.8
    - Twenty Twenty-Two: 1.4
    - Twenty Twenty-Three: 1.1
    
    Props robinwpdeveloper, costdev, audrasjb, sabernhardt, desrosj.
    Fixes #57689.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55476 602fd350-edb4-49c9-b593-d223f7449a82

commit a028958dd6f01427fcf2fda5dd74c3a3a543b44a
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Tue Mar 7 15:29:47 2023 +0000

    Editor: Update @wordpress packages for 6.2 Beta 5.
    
    Updates the `@wordpress` packages to include the following changes:
    
    - Add border radius to off canvas navigation menu items
    - Remove border from quick inserter child elements
    - Show variant patterns even if there are no patterns for the Query Loop block
    - Order initial block items in Navigation with PrivateInserter
    - Update: Add descriptions to all panels in the Site Editor's dark side
    - Fix typo in template parts description
    - Fix: Browse mode descriptions margin
    - Fix: Show creation popover on empty page links in the navigation sidebar
    - Make sure the directly inserted block in the Nav block is a Page link
    - Fix browser history when synchronising state with urls
    - Navigation Sidebar: Change the logic about which navigation gets selected for the sidebar
    - Fixes extra UI in navigation block inspector
    - Renames parent selection boolean param and improves docs
    - Widget Importer: Fix Widget Group block imports
    - Don't add Post Content layout styles to title in the post editor
    - Site editor: Add hover animation to site editor canvas
    - Prevent the saving button from showing when renaming templates
    - Navigation Block: Fix big spinner
    - Navigation: Don't save the level of the link in an attribute
    - Focus 1st parent block on block remove, if no previous block is available
    - Navigation: Performance: improve params in `block_core_navigation_get_most_recently_published_navigation()`
    - Navigation Block inspector: fix link UI popover opening on links that have a url
    - Fix for `WP_Theme_JSON_Resolver::get_merged_data()`
    - Site Editor: Add page details when viewing a specific page.
    - Fix site editor sidebar scrollbars
    - Fix: Custom link UI does appears outside canvas on the sidebar navigation
    - Fix: Make navigation page list load its items on navigation sidebar
    
    References:
    * [https://github.com/WordPress/gutenberg/commit/d14fea64bd9ad9d2d86047936974dbed39a5b5b3 Gutenberg's commit for publishing the packages]
    * [https://github.com/WordPress/gutenberg/commit/dbe47a5e8f829f4a21b9d7d580098ecefb73447a Gutenberg's commit for `blocks/navigation-link.php` and `blocks/navigation-submenu.php`]
    * [https://github.com/WordPress/gutenberg/commit/ea74a306e5289a90d29c0b3eb1d9b4ef893f7f19 Gutenberg's commit for `blocks/navigation.php`]
    
    Follow-up to [55441], [55440].
    
    Props ntsekouras, mamaduka, gziolo, costdev, hellofromTonya.
    See #57471.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55475 602fd350-edb4-49c9-b593-d223f7449a82

commit 11bad65695238d2ab91aa42a5e5a5f49850c2b47
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Mar 7 13:11:32 2023 +0000

    Media: Revert `wp_ajax_save_attachment_updated` hook.
    
    This changeset removes the `wp_ajax_save_attachment_updated` hook by reverting [55106], [55111], and [55450], to give it more time for further discussions as there are still concerns about whether this hook is necessary.
    
    Follow-up to [55106], [55111], [55450].
    
    Props costdev, SergeyBiryukov, peterwilsoncc, azaozz.
    See #23148.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55474 602fd350-edb4-49c9-b593-d223f7449a82

commit 4e795c423f5129b212ed909407828b9fbc696f86
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Mar 7 09:07:25 2023 +0000

    Build/Test Tools: Check if the Docker is available when running `npm run env:start`.
    
    This aims to display a more helpful error message if the Docker service is not running.
    
    Follow-up to [45783], [45819].
    
    Props mkox, cnspecialcolor, pento, hasanuzzamanshamim, bgoewert, robinwpdeveloper, costdev, mukesh27.
    Fixes #51898.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55473 602fd350-edb4-49c9-b593-d223f7449a82

commit a7ec28812c5564890844e7cea81c162b63752021
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Mar 7 08:28:40 2023 +0000

    Bundled Themes: Improve various globals documentation, as per docblock standards.
    
    Props viralsampat, audrasjb, costdev.
    See #56792, #57069.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55472 602fd350-edb4-49c9-b593-d223f7449a82

commit 4d3627fd2eab274c55ca4fb22dbdc0de64b17112
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Tue Mar 7 05:46:16 2023 +0000

    Build/Tests Tools: Add unit tests for Gallery blocks.
    
    Introduces unit tests for the following blocks
    
    * Gallery block with caption
    * Gallery block, deprecations 1 thru 7
    
    Updates the unit tests for the following blocks to match the counterparts stored in the Gutenberg repository:
    
    * Gallery block
    * Gallery block with columns
    
    Modifies `Tests_Blocks_Render::test_do_block_output()` to ignore white space at the end of lines to account for whitespace equivalence in HTML.
    
    Props peterwilsoncc, isabel_brison, gziolo.
    Fixes #55571.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55471 602fd350-edb4-49c9-b593-d223f7449a82

commit 260a34646b357a5ca91ef721677ff171c6e231e0
Author: Adam Silverstein <adamsilverstein@git.wordpress.org>
Date:   Tue Mar 7 04:45:04 2023 +0000

    Media: improve display of cropped image in media editor.
    
    Correctly display edits after you crop an image and return to the attachments page.
    
    Prefer the `full` over the `large` size image on the edit image screen.
    
    Props andy786, antpb, sanketchodavadiya, antonvlasenko, ironprogrammer.
    Fixes #55070.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55470 602fd350-edb4-49c9-b593-d223f7449a82

commit 455b1e857ee0251e0b43f47141c4ed5cc0107fc0
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Mon Mar 6 18:53:38 2023 +0000

    HTML API: Fix finding RCData and Script tag closers.
    
    Fixes finding the following tag closers `</script>`, `</textarea>`, and `</title>` in `WP_HTML_Tag_Processor`.
    
    Follow-up to [55407], [55203].
    
    Props zieladam, dmsnell, hellofromTonya.
    Fixes #57852.
    See #57575.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55469 602fd350-edb4-49c9-b593-d223f7449a82

commit 65c7df0344fd76ad91beafc60be5138c74438ea0
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Mon Mar 6 17:44:15 2023 +0000

    Tests: Use assertSame() in Tests_Theme_wpThemeJson.
    
    Change from assertEquals() to assertSame(). Why? To ensure both the return value and data type match the expected results.
    
    Follow-up to [55216].
    
    Props costdev, peterwilsoncc, mukesh27, ankitmaru.
    See #56800, #57621.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55468 602fd350-edb4-49c9-b593-d223f7449a82

commit cd9d0eadf145c2a60d776c27f6e58ea3277f0a6b
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Mon Mar 6 16:27:23 2023 +0000

    Tests: Improve Tests_Media::test_wp_generate_attachment_metadata_doesnt_generate_sizes_for_150_square_image().
    
    Changes:
    
    * from `assertEquals()` to `assertSame()`. Why? To ensure both the return value and data type match the expected results.
    
    * the expected height and width from `string` to `integer` data types. Why integer? `getimagesize()` (within `wp_getimagesize()`) will return an integer for both height and weight.
    
    * adds the ticket annotation.
    
    * adds assertion failure messages. Why? To denote which assertion failed, which aids in debugging efforts.
    
    Follow-up to [55278].
    
    Props costdev, peterwilsoncc, mukesh27, ankitmaru, hellofromTonya.
    See #56800, #57370.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55467 602fd350-edb4-49c9-b593-d223f7449a82

commit f08a0e2a3b1860930c853f81cd997adffc341108
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Mon Mar 6 15:01:33 2023 +0000

    Build/Test Tooling: Use `assertSame()` in Tests_Comment::test_update_comment_from_privileged_user_by_privileged_user().
    
    Change from `assertEquals()` to `assertSame()`. Why? To ensure both the return value and data type match the expected results.
    
    Follow-up to [c].
    
    Props costdev, peterwilsoncc, mukesh27, ankitmaru.
    See #56800.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55466 602fd350-edb4-49c9-b593-d223f7449a82

commit c39d384d333b4bfa193082d6164c5abd1d70d36c
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Mon Mar 6 14:44:35 2023 +0000

    Build/Test Tooling: Use `assertSame()` in `WP_Date_Query` tests.
    
    Change from `assertEquals()` to `assertSame()`. Why? To ensure both the return value and data type match the expected results.
    
    Follow-up to [54530].
    
    Props costdev, peterwilsoncc, mukesh27, ankitmaru.
    See #56800.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55465 602fd350-edb4-49c9-b593-d223f7449a82

commit a66d268920a02ab210f302e720f6fb2d34b9926f
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Mar 6 13:08:03 2023 +0000

    Tests: Move some data providers in `Tests_Functions` next to the tests they are used in.
    
    Includes renaming some data provider methods to use the `data_` prefix for consistency.
    
    Follow-up to [36832], [40124], [40397], [50810], [53457].
    
    See #56793.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55464 602fd350-edb4-49c9-b593-d223f7449a82

commit d7c458f866e844227f2199e61bcf238cb38ac6d1
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Mar 6 12:39:18 2023 +0000

    Tests: Adjust the expected mime type for WOFF fonts on PHP 8.1.12+.
    
    As of PHP 8.1.12, which includes libmagic/file update to version 5.42, the expected mime type for WOFF files has changed to `font/woff`, so the type needs to be adjusted accordingly in `wp_check_filetype_and_ext()` tests.
    
    References:
    * [https://github.com/php/php-src/issues/8805 php-src: #8805: finfo returns wrong mime type for woff/woff2 files]
    * [https://www.php.net/ChangeLog-8.php#8.1.12 PHP 8.1.12 changelog]
    
    Follow-up to [40124], [54508], [54509], [54724].
    
    Props costdev, SergeyBiryukov.
    Fixes #56817.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55462 602fd350-edb4-49c9-b593-d223f7449a82

commit d97e56fc26bbb8ae8d6d0835fb89e5e7d93c06a1
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Mar 5 00:50:19 2023 +0000

    Docs: Use the new `/documentation/` URL for HelpHub link in `readme.html`.
    
    Follow-up to [55412], [55413], [55414], [55415], [55416], [55431], [55432], [55434].
    
    See #57726.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55461 602fd350-edb4-49c9-b593-d223f7449a82

commit 6eeeeaaea5c42bc4f33b62113ff5cb53a03ca3d3
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Mar 4 11:50:26 2023 +0000

    Tests: Make sure the correct query is tested for term limits in taxonomy queries.
    
    By hooking into `terms_pre_query` after the fixture posts and terms are created but before the actual taxonomy query runs, we ensure that the correct SQL query from `WP_Term_Query::get_terms()` is tested for requested term limits, rather than the one initiated from `wp_insert_post()` or `wp_insert_term()` via `term_exists()`.
    
    Follow-up to [52921], [53037].
    
    Props david.binda.
    Fixes #57342.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55460 602fd350-edb4-49c9-b593-d223f7449a82

commit 8417a97deb03d20ae7e823e7b9a3638216ced05a
Author: Joe McGill <joemcgill@git.wordpress.org>
Date:   Fri Mar 3 20:37:10 2023 +0000

    Build/Test Tools: Add a performance measurement workflow.
    
    This adds a new GitHub Action workflow that measures a set of performance metrics on every commit, so we can track changes in the performance of WordPress over time and more easily identify changes that are responsible for significant performance improvements or regressions during development cycles.
    
    The workflow measures the homepage of a classic theme (Twenty Twenty-One) and a block theme (Twenty Twenty-Three) set up with demo content from the Theme Test Data project. Using the e2e testing framework, it makes 20 requests and records the median value of the following Server Timing metrics, generated by an mu-plugin installed as part of this workflow:
    
    - Total server response time
    - Server time before templates are loaded
    - Server time during template rendering
    
    In addition to measuring the performance metrics of the current commit, it also records performance metrics of a consistent version of WordPress (6.1.1) to be used as a baseline measurement in order to remove variance caused by the GitHub workers themselves from our reporting.
    
    The measurements are collected and displayed at https://www.codevitals.run/project/wordpress.
    
    Props adamsilverstein, mukesh27, flixos90, youknowriad, oandregal, desrosj, costdev, swissspidy.
    Fixes #57687.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55459 602fd350-edb4-49c9-b593-d223f7449a82

commit 90f3acd712f8142a485a939fa912f885382ba66c
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Fri Mar 3 20:20:44 2023 +0000

    Twenty Nineteen: Update PostCSS to version 8.x.
    
    This updates the build processes within Twenty Nineteen to use the latest major version of PostCSS, 8.x.
    
    There are no changes to any built files as a result of these updates.
    
    Props desrosj, peterwilsoncc.
    Fixes #57554.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55458 602fd350-edb4-49c9-b593-d223f7449a82

commit b0f085ece37288ff1e144474c29cc0184feeaf14
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Mar 3 14:42:42 2023 +0000

    Tests: Second pass at merging file-level and class-level DocBlocks in various unit test files.
    
    Per the[https://developer.wordpress.org/coding-standards/inline-documentation-standards/php/#6-file-headers documentation standards], whenever possible, all WordPress files should contain a header DocBlock, regardless of the file’s contents – this includes files containing classes.
    
    However, this recommendation makes less sense for unit test classes if not applied consistently, and the duplicate tags cause some confusion.
    
    This commit aims to reduce confusion and avoid repeating information by combining the DocBlocks.
    
    Follow-up to [55337].
    
    Props sakibmd, fuadragib, robinwpdeveloper, naeemhaque, seakashdiu, jakariaistauk, hasanmisbah, SergeyBiryukov.
    Fixes #57723.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55457 602fd350-edb4-49c9-b593-d223f7449a82

commit 6a574d76763e9e772c93d5114de95196b7e809e1
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Thu Mar 2 21:03:15 2023 +0000

    Build/Test Tools: Add wp_check_filetype() unit tests.
    
    Adds a test class and data set for unit testing `wp_check_filetype()`.
    
    Props pbearne, costdev.
    Fixes #57151.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55456 602fd350-edb4-49c9-b593-d223f7449a82

commit db618df4fdf3dfa02fca83d75972b6731955a094
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Mar 2 13:55:54 2023 +0000

    Docs: Fix typo in `wp_generate_password()` description.
    
    Follow-up to [42373].
    
    Props pyrobd, pravinparmar2404, mukesh27.
    Fixes #57847.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55455 602fd350-edb4-49c9-b593-d223f7449a82

commit b55f01db1dd0c8de654e4175121337fe25f24dca
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Mar 1 17:37:15 2023 +0000

    Post WordPress 6.2 Beta 4 version bump.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55454 602fd350-edb4-49c9-b593-d223f7449a82

commit a85d80b0d5f303536c6a34d422a9c4bd16e5cdb3
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Mar 1 17:17:47 2023 +0000

    WordPress 6.2 Beta 4.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55453 602fd350-edb4-49c9-b593-d223f7449a82

commit c016da17cda5230dd731b3d1a2507f2393ca8da1
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Mar 1 17:01:14 2023 +0000

    Help/About: Improve help text about the WordPress URL and Site URL settings.
    
    This aims to elaborate a bit more on the difference between these two settings, as well as explain the `http://` or `https://` prefix.
    
    Follow-up to [15000], [19472].
    
    Props marybaum, sabernhardt, tobifjellner, justinahinon, webcommsat, hellofromtonya, audrasjb, robinwpdeveloper, costdev, SergeyBiryukov.
    Fixes #50886.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55452 602fd350-edb4-49c9-b593-d223f7449a82

commit 757a560e49a39f0f9a89d216c4575594ea62277a
Author: Kelly Choyce-Dwan <ryelle@git.wordpress.org>
Date:   Wed Mar 1 16:40:29 2023 +0000

    Administration: Update the Dashboard welcome banner for 6.2.
    
    Props richtabor, markoserb, laurlittle.
    See #57759.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55451 602fd350-edb4-49c9-b593-d223f7449a82

commit 66d8f8ee087f73b98ee8e8780db0eb7e75f4e9ee
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Wed Mar 1 16:30:41 2023 +0000

    Media: Rename the `wp_ajax_save_attachment` action hook to `wp_ajax_save_attachment_updated`.
    
    This changeset renames the `wp_ajax_save_attachment` action to `wp_ajax_save_attachment_updated` to avoid confusion with the similarly named `wp_ajax_save-attachment` action. This also add a dockblock note to indicate that when checking if an action is being done, `doing_action( 'wp_ajax_save-attachment' )` may be used if that is more convenient.
    
    Follow-up to [55106].
    
    Props azaozz, sc0ttkclark, costdev.
    Fixes #23148
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55450 602fd350-edb4-49c9-b593-d223f7449a82

commit 5314a8af257335da311628151d3694e64bd728e9
Author: Kelly Choyce-Dwan <ryelle@git.wordpress.org>
Date:   Wed Mar 1 16:28:52 2023 +0000

    Help/About: Update the About page for 6.2.
    
    This is the start of the WordPress 6.2 about page, introducing new content and a first pass of the new style.
    
    Props laurlittle, jpantani, richtabor, audrasjb.
    See #57477.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55449 602fd350-edb4-49c9-b593-d223f7449a82

commit 66055a520d08743894a7d7b84723a01f5eff2d4a
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Wed Mar 1 16:15:27 2023 +0000

    Editor: Ensure Global styles values are reset in the site editor.
    
    This changeset fixes a bug by which the reset function of the global styles sidebar would not work as expected in the site editor. It reverts [54517] and adds related unit tests.
    
    Props oandregal, ntsekouras, youknowriad, hellofromTonya.
    Fixes #57824
    See #56467
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55448 602fd350-edb4-49c9-b593-d223f7449a82

commit ef30796aaba891ae129e39af1ded659c78796865
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Wed Mar 1 16:13:15 2023 +0000

    Editor: Exclude non-sticky posts in Query Loop Block when set to "Only".
    
    Fixes a front-end issue to not include non-sticky posts in the Query Loop block when it's "Sticky Post" is set to "Only", meaning only show sticky posts.
    
    This change was made in Gutenberg between 5.8 to 6.0, but was not merged into Core.
    
    Reference:
    * [https://github.com/WordPress/gutenberg/blob/42dad571eac32c41a7ff34f0da80fcc4e5ceb3bd/lib/compat/wordpress-6.1/blocks.php#L171-L183 Gutenberg code]
    
    Follow-up to [50945].
    
    Props RavanH, sc0ttkclark, ocean90, sc0ttkclark, hellofromTonya, ntsekouras.
    Fixes #57822.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55447 602fd350-edb4-49c9-b593-d223f7449a82

commit 6d0a691b84d411813378f1983a0a87bf78a1ccad
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Wed Mar 1 15:56:50 2023 +0000

    Script Loader: Pass the asset path to the `_doing_it_wrong()` notice in `register_block_script_handle()`.
    
    This changeset ensures the file path is correctly passed in the output from `_doing_it_wrong()` notice in `register_block_script_handle()`.
    
    Props desrosj, neychok, mahbubshovan, ironprogrammer, robinwpdeveloper, hellofromTonya, simongomes02, mukesh27, costdev.
    Fixes #53566.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55446 602fd350-edb4-49c9-b593-d223f7449a82

commit 0bd424f428e56c71e2b9179a514430ef6ba76cac
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Mar 1 15:56:39 2023 +0000

    Tests: Ignore EOL differences in a `wpautop()` test for `<math>` block elements.
    
    Unix vs. Windows EOL style mismatches can cause misleading failures in tests using the heredoc syntax (`<<<`) or multiline strings as the expected result.
    
    This commit resolves a failure when running the test suite on Windows:
    {{{
    1) Tests_Formatting_wpAutop::test_skip_block_math_elements
    Failed asserting that two strings are identical.
    ...
    #Warning: Strings contain different line endings!
    }}}
    
    Follow-up to [55272].
    
    Props davidbaumwald, ignatggeorgiev, sakibmd.
    Fixes #57718.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55445 602fd350-edb4-49c9-b593-d223f7449a82

commit 0a91a53cf710bdc4af051d3eac78d8a5f3dbe0f8
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Mar 1 15:37:06 2023 +0000

    Users: Use a separate variable for the post counts query in `wp_list_authors()`.
    
    This avoids a collision if `wp_list_authors()` is called with the `optioncount` parameter enabled, and the resulting array for the post counts query contains a key that matches the ID of a user who does not have any posts.
    
    Follow-up to [54262].
    
    Props peterwilsoncc, johnbillion, lifeboat, brookedot, thedaysse, Toru.
    Fixes #57011.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55444 602fd350-edb4-49c9-b593-d223f7449a82

commit 33de1d77a5e6cec67eac6da2f3078d160e426b08
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Wed Mar 1 15:03:23 2023 +0000

    Editor: Partial revert of r55230.
    
    [55230] introduced a regression to the content markup. This changeset is a partial revert to remove the added `wp-includes/block-supports/anchor.php` file.
    
    The change of adding `'id'` to `$attributes_to_merge` in `get_block_wrapper_attributes()` is not reverted as this change did not impact the regression and helps to support continue development in Gutenberg for the anchor support in dynamic blocks feature.
    
    Reference:
    * [https://github.com/WordPress/gutenberg/pull/48592 Gutenberg PR 48592].
    
    Follow-up [55230].
    
    Props wildworks, mamaduka, hellofromTonya.
    Fixes #57830.
    See #56852.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55443 602fd350-edb4-49c9-b593-d223f7449a82

commit b12e340f11152343b0eb0614cdff2e1a5a42efcf
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Mar 1 14:43:27 2023 +0000

    Tests: Add unit tests for `get_next_posts_link()` and `get_previous_posts_link()`.
    
    The tests ensure that the `next_posts_link_attributes` and `previous_posts_link_attributes` filters are applied correctly.
    
    Follow-up to [1383], [5045], [8502], [9632], [55429].
    
    Props geisthanen, mukesh27, costdev, audrasjb, SergeyBiryukov.
    Fixes #55751.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55442 602fd350-edb4-49c9-b593-d223f7449a82

commit 8ec9e42cc9efb0f0698c82e42abe1d6e7b9bba5e
Author: Greg ZiÃ³Å‚kowski <gziolo@git.wordpress.org>
Date:   Wed Mar 1 12:18:54 2023 +0000

    Build: Regenerate correctly the `block-json.php` file
    
    See #57471.
    Follow-up [55440].
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55441 602fd350-edb4-49c9-b593-d223f7449a82

commit e085c95e358004c224dec7fe818ff55f2550f666
Author: Greg ZiÃ³Å‚kowski <gziolo@git.wordpress.org>
Date:   Wed Mar 1 12:02:42 2023 +0000

    Update the WP packages with fixes prior to WP 6.2 beta 4
    
    This updated the packages to the latest versions with the latest fixes.
    
    Gutenberg changes: https://github.com/WordPress/gutenberg/commit/35f10c183655e9196d4ea12b8fa499a8ecbb7b6a
    
    Includes the following bug fixes:
    
    - Only add layout classes to inner wrapper if block is a container.
    - Revert dynamic block anchor support
    - [Inserter - Media tab]: Upload Openverse images when inserted
    - SpacingSizesControl: Fix white dot on thumb
    - Site Editor: update the edit button
    - Change "Browse all templates" to "Manage all templates" in template details popover
    - Remove TemplateAreas from template details
    - Add support for orientation-based block movers to core/social-links
    - Site Editor: polish add template modal style
    - Match color of the focus template view with site dark material
    - Site Editor: Fix routing for Classic themes using block-based template parts
    - Remove broken site editor redirect
    - Make the template customized info accessible
    - Sort templates and template parts by slug
    - Prevent distracting focused back button on site editor load
    - Fix: Content only CPT template locking.
    - Pin floating-ui/react-dom version
    - Widget Importer: Don't render controls when there's nothing to import
    - Post Editor: Update postContentBlock check to see if the block is valid
    - Site Tagline: Add example so that it will display in style book
    - Remove copy for managing a block's style variations
    - Fix the site editor home page loading when installed in a subdirectory
    - Global Styles: Display preset names via the tooltip
    - [Query Loop] Fix top border in pattern selection modal
    - Site Editor: Fix the 'Browse all' link in the template details modal
    - Site Editor: Fix the tooltip and shortcut for the global save button
    - Make the Site Logo block placeholder state smaller
    - Site Editor Sidebar: Add line-height for template/parts name and update width for edit button
    - Style Book: Focus the Style Book when opened, and enable ESCAPE key to close
    - [Site Editor]: Set html block as freeform fallback block
    - Make the performance tests more stable
    - Adds all allowed innerblocks to the inspector animation experiment
    - Revert Link control UX changes for WP 6.2
    - Fix Site Editor perf tests
    - Playwright: fix request utils for non Docker envs
    
    See #57471.
    Props Mamaduka, ntsekouras.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55440 602fd350-edb4-49c9-b593-d223f7449a82

commit d8876119b33437924531706ba5734e1ae2237ecd
Author: Greg ZiÃ³Å‚kowski <gziolo@git.wordpress.org>
Date:   Wed Mar 1 11:45:22 2023 +0000

    Editor: Only add layout classes to inner wrapper if block is a container
    
    Backport of https://github.com/WordPress/gutenberg/issues/48606, which fixes an issue found in adding fixtures for deprecated Gallery block versions in #55571.
    
    See #55571.
    Fixes #57831.
    Props isabel_brison, Mamaduka, dasnitesh780.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55439 602fd350-edb4-49c9-b593-d223f7449a82

commit 7a8ea502cf430fa5997d00e5079cd7704f1ee2a3
Author: Greg ZiÃ³Å‚kowski <gziolo@git.wordpress.org>
Date:   Wed Mar 1 11:41:53 2023 +0000

    Editor: Correctly merge custom CSS into global styles
    
    Update the get_block_editor_settings function and merge custom CSS directly into the $global_styles array.
    
    Fixes #57833.
    Props Mamaduka, poena, sakibmd.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55438 602fd350-edb4-49c9-b593-d223f7449a82

commit 0bbf09f49684e7752a8686042b4905a8a2e84c53
Author: Andrew Ozz <azaozz@git.wordpress.org>
Date:   Wed Mar 1 00:34:18 2023 +0000

    Media: Revert the addition of a `$size` parameter to `get_attached_file()`.
    
    Reverts [55199], [55202], and [55217] but keeps the updated docs.
    
    Props: flixos90, joedolson, azaozz.
    Fixes: #51780.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55437 602fd350-edb4-49c9-b593-d223f7449a82

commit 5ce8b1f9ed99004c73771ad00adc249c2b293a70
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Tue Feb 28 15:05:50 2023 +0000

    Editor: Deprecate _resolve_home_block_template().
    
    The internal Core-only `_resolve_home_block_template()` function was introduced in [53093] for a specific purpose of resolving the template for a site's home page. It was used as part of the Site Editor's redirect when the `postType` and `postId` query args were missing. The server-side handling was removed in [55338]. The function is no longer used in Core.
    
    This changeset deprecates the function and removes its tests.
    
    Follow-up to [55338], [53093].
    
    Props johnbillion, hellofromTonya.
    Fixes #57716.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55436 602fd350-edb4-49c9-b593-d223f7449a82

commit ad6e01a434e3bdd0b56c3c5412a7c81b46072f55
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Tue Feb 28 15:02:18 2023 +0000

    Site Editor: Add 'path' query arg to Appearance > Template Parts menu.
    
    To display a list of block-based template parts for classic themes, this changeset adds a `path` query arg to the Appearance > Template Parts menu URL. This change is necessary due to recent changes to Site Editor's client-side routing.
    
    Reference:
    * [https://github.com/WordPress/gutenberg/pull/48343 Gutenberg PR 48343]
    * [https://github.com/WordPress/gutenberg/pull/42729 Gutenberg PR 42729]
    
    Follow-up to [55392], [54176].
    
    Props mamaduka, audrasjb, fabiankaegy, hellofromTonya, kevin940726, mukesh27, youknowriad.
    Fixes #57819.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55435 602fd350-edb4-49c9-b593-d223f7449a82

commit d40168567518a3a8d9ab6a6bc98af545bb235a8a
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Feb 28 13:50:38 2023 +0000

    Help/About: Restore the correct URL for Editing Files article on Edit Themes screen.
    
    Replace the URL for Editing Themes article instead to avoid an extra redirect.
    
    Follow-up to [55432].
    
    See #57726.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55434 602fd350-edb4-49c9-b593-d223f7449a82

commit 12069068bd9531663cafce7e63081cb388ba29ad
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Feb 28 13:20:04 2023 +0000

    Users: Adjust the initialization of the `$duplicated_keys` array in `wp_salt()`.
    
    This avoids an endless loop if `get_current_user_id()` is used in a callback attached to the `gettext` filter.
    
    With the translated phrase moved into a separate assignment, the function succeeds in setting the static `$duplicated_keys` array once and no longer goes into this code section on subsequent calls.
    
    Follow-up to [54249].
    
    Props adityaarora010196, SergeyBiryukov.
    Fixes #57121.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55433 602fd350-edb4-49c9-b593-d223f7449a82

commit b4000c3aaae535e4e9b23b535d96ad7c0fab69d2
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Feb 28 12:50:46 2023 +0000

    Help/About: Avoid extra redirections on HelpHub Links.
    
    This changeset replaces various HelpHub links that have changed to avoid extra 301 redirections.
    
    Follow-up to [55412], [55413], [55414], [55415], [55416], [55431].
    
    Props sabernhardt, audrasjb.
    Fixes #57726.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55432 602fd350-edb4-49c9-b593-d223f7449a82

commit f0f63fe4b2d92d11d562597f284da70d482770d8
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Feb 28 12:46:10 2023 +0000

    Help/About: Use a consistent capitalization for "Support forums" links across WP Admin.
    
    This partially reverts [55415] and fix a few inconsistencies found in "support forums" links.
    
    Follow-up to [55412], [55413], [55415].
    
    Props sabernhardt, audrasjb.
    See #57726.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55431 602fd350-edb4-49c9-b593-d223f7449a82

commit 63b3c26f07eac4771f0c4d8e4477cb59d0bb7708
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Tue Feb 28 02:50:28 2023 +0000

    Formatting: Add `aspect-ratio` tests for `safecss_filter_attr()`.
    
    Follow up to [55309].
    
    Props rahmohn, desrosj, mukesh27.
    Fixes #57664.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55430 602fd350-edb4-49c9-b593-d223f7449a82

commit c102b78ea6819c719b97621b09aa94564d26bbdc
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Mon Feb 27 23:14:57 2023 +0000

    Build/Test Tools: Add test coverage for the `get_posts_navigation()` function.
    
    This changeset adds a test case to verify that `get_the_posts_navigation()` only includes the "Older posts" and "Newer" posts links when appropriate.
    
    Props jongycastillo, michelmany, joyously, geisthanen, SergeyBiryukov, mukesh27, audrasjb, costdev, sun, chrisbaltazar.
    Fixes #55751.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55429 602fd350-edb4-49c9-b593-d223f7449a82

commit 9114d746bbe1754d7bca295c1d3a414db1291f76
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Mon Feb 27 22:53:44 2023 +0000

    Docs: Fix erroneous @since mention in `wp_internal_hosts` hook.
    
    Follow-up to [55289].
    
    Props wildworks, SergeyBiryukov, simongomes02.
    Fixes #57796.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55428 602fd350-edb4-49c9-b593-d223f7449a82

commit 09a0db589773cb70da86aeea2ce7f8966f90522f
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Mon Feb 27 17:30:07 2023 +0000

    Twenty Twenty: Avoid PHP warnings in 8.1 due to incorrect usage of `wp_add_inline_style()`.
    
    This changeset adjusts the logic to use a more defensive approach, to avoid passing potentially invalid values to `wp_add_inline_style()`.
    
    Props flixos90, mukesh27, costdev, swissspidy, poena, sabernhardt.
    Fixes #57777.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55427 602fd350-edb4-49c9-b593-d223f7449a82

commit 18878a1d93961767ca202b43a62341aedd7b38bd
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Feb 27 15:32:22 2023 +0000

    Themes: Account for a numeric theme directory in `WP_Theme::__construct()`.
    
    This ensures that if a theme with a numeric directory name is active, it is correctly identified as such, and that theme support features work as expected.
    
    Follow-up to [20029], [49925].
    
    Props lopo, alvastar, winterpsv, hugodevos, ankit-k-gupta, jakariaistauk, mukesh27, spacedmonkey, SergeyBiryukov.
    Fixes #54645.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55426 602fd350-edb4-49c9-b593-d223f7449a82

commit 12fcc5cfac7ba94278df45f88cdd7f4ef3e02864
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Feb 26 15:17:45 2023 +0000

    Upgrade/Install: Introduce `WP_Automatic_Updater::is_allowed_dir()` method.
    
    As part of determining whether to perform automatic updates, WordPress checks if it is running within a version-controlled environment, recursively looking up the filesystem to the top of the drive, looking for a Subversion, Git, Mercurial, or Bazaar directory, erring on the side of detecting a VCS checkout somewhere.
    
    This commit avoids a PHP warning if the `open_basedir` directive is in use and any of the directories checked in the process are not allowed:
    {{{
    is_dir(): open_basedir restriction in effect. File(/.git) is not within the allowed path(s)
    }}}
    
    Follow-up to [25421], [25700], [25764], [25835], [25859].
    
    Props costdev, markjaquith, meyegui, dd32, arnolp, robin-labadie, hellofromTonya, afragen, pbiron, SergeyBiryukov.
    Fixes #42619.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55425 602fd350-edb4-49c9-b593-d223f7449a82

commit 21d70052b6c0ce3f5b6c0c3fad9a0b42683ef814
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Feb 25 21:54:03 2023 +0000

    Docs: Correct duplicate hook reference for `notify_moderator`.
    
    The original filter location is `wp_notify_moderator()` in `wp-includes/pluggable.php`.
    
    This commit updates the instance in `wp_new_comment_notify_moderator()` to point to the correct file.
    
    Follow-up to [35339], [35725].
    
    Props zevilz.
    Fixes #57808.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55424 602fd350-edb4-49c9-b593-d223f7449a82

commit c758a10d98b27c253724f77d47893481cfb905b8
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Feb 25 10:57:14 2023 +0000

    General: Add more error checking to `WP_List_Util::pluck()`.
    
    Values for the input array in `WP_List_Util::pluck()` or `wp_list_pluck()` must be either objects or arrays.
    
    This commit adds a check to ensure that the value retrieved in the loop is an array before treating it as such, and throws a `_doing_it_wrong()` notice if it is neither an object nor an array.
    
    Follow-up to [14108], [15686], [18602], [28900], [38928].
    
    Props afragen, costdev, audrasjb.
    Fixes #56650.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55423 602fd350-edb4-49c9-b593-d223f7449a82

commit 7d8b5e89bc8b980e74eb7ba39b10ba68d52da7b4
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Feb 24 15:24:25 2023 +0000

    Twenty Seventeen: Mark one more screen reader string with a translator comment.
    
    Includes minor comment layout fixes for consistency with other themes.
    
    Follow-up to [55276].
    
    See #29748.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55422 602fd350-edb4-49c9-b593-d223f7449a82

commit 1b949ded14fae5f323804f45aa068f08f7520182
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Feb 24 15:08:26 2023 +0000

    Database: Remove the check for `sitecategories` table on Database Repair screen.
    
    The table is no longer created by core as of WordPress 3.0, and support for global terms was removed in WordPress 6.1, so `$wpdb->sitecategories` is unset by default.
    
    This commit resolves a "passing null to non-nullable" deprecation notice on PHP 8.1:
    {{{
    Deprecated: addcslashes(): Passing null to parameter #1 ($string) of type string is deprecated in wp-includes/class-wpdb.php on line 1804
    }}}
    
    The `tables_to_repair` filter is available for plugins to readd the table or include any additional tables to repair.
    
    Follow-up to [14854], [14880], [54240].
    
    Props ipajen, chiragrathod103, SergeyBiryukov.
    Fixes #57762.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55421 602fd350-edb4-49c9-b593-d223f7449a82

commit 5fd8bed76b2d102ce51f38245908fd3b6cc13441
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Feb 24 06:21:21 2023 +0000

    Coding Standards: Use strict comparison in bundled themes' PHP files.
    
    This addresses all the remaining WPCS warnings in bundled themes.
    
    Includes using the correct type when checking the number of comments, as `get_comments_number()` returns a numeric string, not an integer.
    
    Follow-up to [41285], [44562], [47941].
    
    Props aristath, poena, afercia, SergeyBiryukov.
    See #56791.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55420 602fd350-edb4-49c9-b593-d223f7449a82

commit b394c9c144f17903771af3963200c8585cb0611f
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Feb 24 01:21:54 2023 +0000

    Posts, Post Types: Pass the post object to `_update_posts_count_on_delete()`.
    
    The function checks the status of the post being deleted, and then only calls `update_posts_count()` if the deleted post was previously published, as the update query would be unnecessary otherwise.
    
    However, by the time the function runs, the post is already deleted from the database, and the post status check fails.
    
    This commit uses the previously retrieved post object for the status check, so that the function proceeds as expected.
    
    Includes updating the unit test to call `wp_delete_post()` with the `$force_delete` argument, so that the post is actually deleted, not trashed, and the `after_delete_post` action is run.
    
    Follow-up to [28835], [52207], [54760], [54762].
    
    Fixes #57023.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55419 602fd350-edb4-49c9-b593-d223f7449a82

commit cc8dd3e1f66384d25646eef4435e507c6c9e5a60
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Thu Feb 23 22:11:51 2023 +0000

    Networks and Sites: Use consistent markup for admin notices.
    
    Fix admin notices in network screens so they use consistent markup and style.
    
    Props afercia, marksabbath, stevenkword, jeremyfelt, aryamaaru, robinwpdeveloper, obayedmamur, joedolson.
    Fixes #39213.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55418 602fd350-edb4-49c9-b593-d223f7449a82

commit dff607e96e55a78cf0e879e744b2737fb502fbc9
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Thu Feb 23 21:32:15 2023 +0000

    Editor: Fix invalid parameters being passed to `wp_register_style()`.
    
    Boolean `true` is not a valid value for the `$ver` or `$media` parameters of `wp_register_style()`.
    
    Props sabernhardt, flixos90, hellofromtonya.
    Fixes #57771. See #56990, #57688.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55417 602fd350-edb4-49c9-b593-d223f7449a82

commit c2a4cce173c24503f1556b05d642ceb4a1fe2f6e
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Feb 23 12:32:37 2023 +0000

    Toolbar: Update the URL for Documentation link in the admin bar.
    
    This avoids an extra redirect from `https://wordpress.org/support/` to `https://wordpress.org/documentation/`.
    
    Follow-up to [55412], [55413], [55414], [55415].
    
    See #57726.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55416 602fd350-edb4-49c9-b593-d223f7449a82

commit 4e7e3c2dd62b3e03c680d6f6684fcbf179fe2d30
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Feb 23 11:11:38 2023 +0000

    Help/About: Use a consistent capitalization for "Support forums" links across WP Admin.
    
    Follow-up to [55412], [55413].
    
    See #57726.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55415 602fd350-edb4-49c9-b593-d223f7449a82

commit cfc2be2383f47b827dd006aa931f8b00e9e32fb2
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Feb 23 11:04:40 2023 +0000

    Help/About: Avoid extra redirections on HelpHub Links.
    
    This changeset replaces various HelpHub links that have changed to avoid extra 301 redirections.
    
    Props sabernhardt, audrasjb.
    See #57726.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55414 602fd350-edb4-49c9-b593-d223f7449a82

commit 7a90e6cbfa0494b7dbdf005e7e5378be50d48760
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Feb 23 10:47:19 2023 +0000

    Help/About: Use the new `/documentation/` URLs for HelpHub links in Bundled Themes.
    
    As `https://wordpress.org/support/` was redirected to `https://wordpress.org/documentation/`, this changeset replaces various `/support/article/*` links with `/documentation/article/*` to avoid an extra redirect.
    
    This also updates links to Support Forums by replacing `https://wordpress.org/support/` URLs with `https://wordpress.org/support/forums/`.
    
    Props SergeyBiryukov, audrasjb, dhrupo, hasanmisbah, sakibmd, sabernhardt.
    See #57726.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55413 602fd350-edb4-49c9-b593-d223f7449a82

commit 0a422d3f4b654f3ceb6d46017d04031941c299f3
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Feb 23 10:36:33 2023 +0000

    Help/About: Use the new `/documentation/` URLs for HelpHub links in WordPress Admin.
    
    As `https://wordpress.org/support/` was redirected to `https://wordpress.org/documentation/`, this changeset replaces various `/support/article/*` links with `/documentation/article/*` to avoid an extra redirect.
    
    This also updates links to Support Forums by replacing `https://wordpress.org/support/` URLs with `https://wordpress.org/support/forums/`.
    
    Props SergeyBiryukov, audrasjb, dhrupo, hasanmisbah, sakibmd, sabernhardt.
    See #57726.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55412 602fd350-edb4-49c9-b593-d223f7449a82

commit e2ce8d4815c473c1d56c2b6b271cd68834d29bf0
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Feb 23 10:05:51 2023 +0000

    Mail: Fix character encoding issues in Plugin/Theme background update emails.
    
    This changeset fixes encoding issues in background update emails by applying `html_entity_decode()` on Plugin/Theme names in `send_plugin_theme_email()`.
    
    Props paulschreiber, audrasjb, benjgrolleau, sanketchodavadiya, robinwpdeveloper, paulamit.
    Fixes #56964.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55411 602fd350-edb4-49c9-b593-d223f7449a82

commit f01313a47489f1ba66bac01b7ab54fd2b01d00b4
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Wed Feb 22 23:37:35 2023 +0000

    Administration: Move `wp-theme-plugin-editor` script before `</body>`.
    
    This changeset moves the `wp-theme-plugin-editor` admin script before `</body>` instead of in the `<head>`. This fixes an issue where the collapse admin menu feature was not working in the Theme|Plugin File Editor screens.
    
    Props itsnikhilpatel, dilipbheda, stalukder03, audrasjb, adeltahri, Ankit-K-Gupta, mahbubshovan.
    Fixes #57073.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55410 602fd350-edb4-49c9-b593-d223f7449a82

commit 5595995191791c86432a68835b6a7006fa45d653
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Wed Feb 22 22:00:08 2023 +0000

    Widgets: Match variable types in rss feed link filter.
    
    The `rss_widget_feed_link` filter added in [52031] documents the parameter as a string, but recommends removing by returning false. Change the recommendation and documentation to make this consistent and update Twenty Twenty One to use the new recommended return value. Maintains documentation as possibly returning `false` for backwards compatibility.
    
    Props sabernhardt, Mista-Flo.
    Fixes #57594.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55409 602fd350-edb4-49c9-b593-d223f7449a82

commit 6b04c0b9f8eafb852bbf71d0f7c9c8ad1bf72b8e
Author: John Blackbourn <johnbillion@git.wordpress.org>
Date:   Wed Feb 22 20:54:05 2023 +0000

    Networks and Sites: Remove confusing upper case for option names on Edit Site: Settings screen.
    
    This type of transformation isn't always appropriate, especially for non-English language sites. Displaying the original option name makes it more clear what option is being changed.
    
    Props SergeyBiryukov, sabernhardt, afrin29, afshanadiya
    
    Fixes #50572
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55408 602fd350-edb4-49c9-b593-d223f7449a82

commit 83ae6b790e5f1d361b5b128063f74bf253b55397
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Wed Feb 22 20:53:41 2023 +0000

    HTML API: Fix finding bookmarks set on closing tag WP_HTML_Tag_Processor.
    
    Setting a bookmark on a tag should set its "start" position before the opening "<", e.g.:
    {{{
    <div> Testing a <b>Bookmark</b>
    ----------------^
    }}}
    
    The previous calculation assumed this is always one byte to the left from `$tag_name_starts_at`.
    
    However, in a closing tag that index points to a solidus symbol "/":
    {{{
    <div> Testing a <b>Bookmark</b>
    ----------------------------^
    }}}
    
    The bookmark should therefore start two bytes before the tag name:
    {{{
    <div> Testing a <b>Bookmark</b>
    ---------------------------^
    }}}
    
    This changeset achieves this by:
    * Using the correct starting index for closing tag bookmarks.
    * Adding `array( 'tag_closers' => 'visit' )` in `WP_HTML_Tag_Processor::seek()`.
    
    Follow-up to [55203].
    
    Props zieladam, dmsnell, flixos90.
    Fixes #57787.
    See #57575.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55407 602fd350-edb4-49c9-b593-d223f7449a82

commit b0754798c61e8df3b2b5f033c5808e3e17f56d9e
Author: John Blackbourn <johnbillion@git.wordpress.org>
Date:   Wed Feb 22 20:47:38 2023 +0000

    Revisions: Remove an unnecessary call to `_doing_it_wrong()` and corresponding new text string from the implementation of the new `wp_save_post_revision_revisions_before_deletion` filter.
    
    While the guard condition was technically correct, it's not practical or necessary to provide this protection for every use of every filter, and it adds unnecessary burden to translators to provide translations for strings that will likely not be seen.
    
    Follow up to [55254].
    
    Fixes #57320
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55406 602fd350-edb4-49c9-b593-d223f7449a82

commit 05648a50aa1ba9806f7abe535fb10ed445881f63
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Wed Feb 22 15:58:56 2023 +0000

    Themes: Add 3 and update 2 shadow presets in `theme.json`.
    
    Adds Deep, Outlined, and Crisp default shadow presets to Core's `theme.json` file.
    
    Updates the Natural and Sharp `'shadow'` styles.
    
    These shadow presets are used to populate the Shadow tools in the Site Editor's Global Styles UI.
    
    References:
    * [https://github.com/WordPress/gutenberg/pull/46502 Gutenberg PR 46502]
    
    Follow-up to [55176].
    
    Props franz00, madhudollu, ajlende, beafialho, costdev, dhrupo, fabiankaegy, hellofromTonya, jameskoster, joen, kellychoffman, mamaduka, mtias, oandregal, priethor, richtabor, scruffian.
    Fixes #57708.
    See #57559.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55405 602fd350-edb4-49c9-b593-d223f7449a82

commit 01c65c0c36c4fdfb0c773eb963281e01eeab2636
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Feb 22 14:23:50 2023 +0000

    Media: Add `WP_Image_Editor_Imagick::set_imagick_time_limit()` method.
    
    This aims to avoid timeout in Imagick operations.
    
    Previously, Imagick operations could silently error by timeout and produce unexpected results. The new `::set_imagick_time_limit()` method, now used in `::resize()` and `::crop()`, will better handle garbage collection in these cases as well as better align Imagick's timeout with PHP timeout, assuming it is set.
    
    Props drzraf, audrasjb, costdev, antpb, SergeyBiryukov.
    Fixes #52569.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55404 602fd350-edb4-49c9-b593-d223f7449a82

commit 552178a95ad38c924f9d9821d3c75d0bf9926748
Author: gziolo <gziolo@602fd350-edb4-49c9-b593-d223f7449a82>
Date:   Wed Feb 22 06:22:02 2023 +0000

    HTML API: Set $this->html to protected to support subclassing
    
    When the HTML API was introduced a number of fields were switched from private visibility to protected so that Gutenberg and other systems could more easily enhance the behaviors through subclassing. The $this->html property was overlooked but important for systems using the Tag Processor to stich HTML, specifically performing operations on innerHTML and innerText.
    
    Follow-up [55203].
    Props dmsnell.
    See #57575.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55402 602fd350-edb4-49c9-b593-d223f7449a82

commit 365efb13c2f2f9de572e53a4c115a0d59232e54f
Author: Dominik Schilling <ocean90@git.wordpress.org>
Date:   Tue Feb 21 21:02:28 2023 +0000

    Taxonomy: Rename temporary variable in `wp_queue_posts_for_term_meta_lazyload()`.
    
    This ensures the `$term_ids` variable only contains term IDs and is not filled with full term objects due to deprecated term caching.
    
    Introduced in [55252].
    
    Props skithund, Chouby, joemcgill, flixos90, ocean90.
    Fixes #57150.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55401 602fd350-edb4-49c9-b593-d223f7449a82

commit dac04be1ef0a468f926d6fa0b406770d459b251b
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Feb 21 18:04:07 2023 +0000

    Post WordPress 6.2 Beta 3 version bump.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55400 602fd350-edb4-49c9-b593-d223f7449a82

commit 14242e839fd6e3c52d9392402e01ebc572379212
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Feb 21 17:22:04 2023 +0000

    WordPress 6.2 Beta 3.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55399 602fd350-edb4-49c9-b593-d223f7449a82

commit 31e3936075fb5fe8275c65b056164f75141bc806
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Feb 21 16:37:03 2023 +0000

    Docs: Document default values for optional parameters in various DocBlocks.
    
    Props paulkevan, costdev, audrasjb, SergeyBiryukov.
    See #56792.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55398 602fd350-edb4-49c9-b593-d223f7449a82

commit ef89c31cce98a70099a894cc85eb93b783776936
Author: Timothy Jacobs <timothyblynjacobs@git.wordpress.org>
Date:   Tue Feb 21 15:57:36 2023 +0000

    Recovery Mode: Use PasswordHash API directly when validating keys.
    
    Previously, the wp_check_password function was used for validating keys, while the PasswordHash class was used for creating keys. This would prevent Recovery Mode from working on sites that provide a custom implementation for the wp_check_password pluggable function.
    
    Props calvinalkan.
    Fixes #56787.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55397 602fd350-edb4-49c9-b593-d223f7449a82

commit 683bba1b2db4b7d1066509852d4a8b4e18915af4
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Feb 21 15:53:10 2023 +0000

    Users: Fix confirmation link for multisite users with no role.
    
    This fixes a regression introduced in [41163], where the link in change confirmation emails for users with no roles in a multisite install was incorrect, causing them to be unable to change their email address. This changeset replaces `admin_url()` with `self_admin_url()` to restore the previous fix.
    
    Follow-up to [38876], [40632], [41165], [41163].
    
    Props roytanck, SergeyBiryukov, johnbillion, afrin29.
    Fixes #57164.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55396 602fd350-edb4-49c9-b593-d223f7449a82

commit 64466d3c35fcbb8901434fdf9a2340e021dde523
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Tue Feb 21 15:26:10 2023 +0000

    Comments: Restore global $comment assignment in comment_form_title().
    
    Restores the global `$comment` assignment in `comment_form_title()`, which was mistakely removed in [55369].
    
    As noted in the function's DocBlock:
    {{{
    @internal The $comment global must be present to allow template tags access to the current comment. See https://core.trac.wordpress.org/changeset/36512.
    }}}
    
    Follow-up to [55369].
    
    Props hellofromTonya, costdev.
    Fixes #53962.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55395 602fd350-edb4-49c9-b593-d223f7449a82

commit 910a76f5c23f40798b42aa90794a5ed079bb0413
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Feb 21 14:50:49 2023 +0000

    Networks and Sites: Fix the attributes for the email input field on the new network user screen.
    
    This reverts the email input field back to its previous state (before [55026]), except for the expected addition of the `required` attribute.
    
    Follow-up to [55026].
    
    Props johnbillion.
    Fixes #38460.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55394 602fd350-edb4-49c9-b593-d223f7449a82

commit 64d6d5d479a8d0e5d129f563182eb696711f4f99
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Feb 21 13:53:11 2023 +0000

    Tests: Remove duplicate DocBlock opening characters in `tests/theme/wpTheme.php`.
    
    Follow-up to [814/tests], [904/tests], [50967].
    
    Props mukesh27, costdev.
    See #56792.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55393 602fd350-edb4-49c9-b593-d223f7449a82

commit 30cf035f43e0fbb129d5d5cf9911f67427ae97a9
Author: Greg ZiÃ³Å‚kowski <gziolo@git.wordpress.org>
Date:   Tue Feb 21 13:06:33 2023 +0000

    Update the WP packages with fixes prior to WP 6.2 beta 3
    
    Includes the following changes:
    
    - Upgrade Playwright to 1.30.0
    - [Block Editor - Inserter]: preload media categories empty check - client side
    - Navigation: Fixes undo and redo for nesting operations in the navigation block's inspector
    - Fix: OffCanvasEditor does not inserts submenu on collapsed items.
    - OffCanvasEditor: Only allow some blocks to be converted to submenus
    - Navigation: Updates "Add Submenu item" text to "Add Submenu link"
    - Update: Make OffCanvasEditor use LeafMoreMenu by default.
    - Template Part: Performance: Replace usage of wp_get_theme()->get_stylesheet() with get_stylesheet()
    - Widget Editor: Fix a problem with 'Move to Widget Area' button not working
    - Reusable Blocks: Use React 18 rendering for import dropdown
    - useAsyncList: flush state updates when processing queue
    - Refactor the site editor URLs for better backward compatibility
    - Template editor: only disable the save button if no changes rather than hiding it
    - [Quote]: Fix deprectated large style specificity rule
    - Style Book: Allow button text labels for style book icon
    - List View: Scroll selected block into view when single block selection changes
    - Post editor: revert iframed editor for WP core only
    - Fix the Publish region position and focus style.
    - Remove "& Shadow" from the Border ScreenHeader title
    - Site editor: specify focus state color for template navigation button
    
    References: [https://github.com/WordPress/gutenberg/commit/1e2b2f680c6378f789d6660bc04b30e35e3a33a3 Gutenberg's commit for publishing the packages]
    
    Props ntsekouras, ellatrix.
    See #57471.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55392 602fd350-edb4-49c9-b593-d223f7449a82

commit 072274690b52cfa0c5e5da763e70a7af24f00da7
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Tue Feb 21 01:47:57 2023 +0000

    HTTP API: Add fragment support to `WP_Http::make_absolute_url()`.
    
    Modifies `WP_Http::make_absolute_url()` to prevent it from dropping URL fragments, this in turn fixes the same issue for `links_add_base_url()`.
    
    Props costdev, sergeybiryukov, dshanske, schlessera, jrf, desrosj, dd32.
    Fixes #56231.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55370 602fd350-edb4-49c9-b593-d223f7449a82

commit 2a753c1057911ff86f4600e215deb432fa96a8b0
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Tue Feb 21 01:43:33 2023 +0000

    Comments: Prevent replying to unapproved comments.
    
    Introduces client and server side validation to ensure the `replytocom` query string parameter can not be exploited to reply to an unapproved comment or display the name of an unapproved commenter.
    
    This only affects commenting via the front end of the site. Comment replies via the dashboard continue their current behaviour of logging the reply and approving the parent comment.
    
    Introduces the `$post` parameter, defaulting to the current global post, to `get_cancel_comment_reply_link()` and `comment_form_title()`.
    
    Introduces `_get_comment_reply_id()` for determining the comment reply ID based on the `replytocom` query string parameter.
    
    Renames the parameter `$post_id` to `$post` in `get_comment_id_fields()` and `comment_id_fields()` to accept either a post ID or `WP_Post` object.
    
    Adds a new `WP_Error` return state to `wp_handle_comment_submission()` to prevent replies to unapproved comments. The error code is `comment_reply_to_unapproved_comment` with the message `Sorry, replies to unapproved comments are not allowed.`.
    
    Props costdev, jrf, hellofromtonya, fasuto, boniu91, milana_cap.
    Fixes #53962.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55369 602fd350-edb4-49c9-b593-d223f7449a82

commit cdcbfd19f4ff3dc5368424cf03ada7c829d32e3c
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Mon Feb 20 21:11:57 2023 +0000

    Editor: Fix 'wp-block-library-theme' style enqueue conditions.
    
    Fixes the conditions for when to enqueue the opinionated block styles (i.e. `'wp-block-library-theme'` stylesheet):
    
    * the theme adds `'wp-block-styles'` theme support;
    * and no editor styles are declared.
    
    This resolves an issue with themes that do not add the `'wp-block-styles'` theme support while not impacting themes that do.
    
    Follow-up to [53419], [52069], [50761], [44157].
    
    Props mikachan, costdev, glendaviesnz, hellofromTonya, jffng, mamaduka, ndiego, poena, sannevndrmeulen, scruffian.
    Fixes #57561.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55368 602fd350-edb4-49c9-b593-d223f7449a82

commit cd1228df78eb15ae9ce226417e4d7a709571ddf6
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Feb 20 16:03:17 2023 +0000

    Bootstrap/Load: Check that either `mysqli_connect()` or `mysql_connect()` is available.
    
    This resolves a fatal error and displays an actionable message if the `mysqli` PHP extension is missing.
    
    Previously, `wp_check_php_mysql_versions()` performed an early check whether `mysql`, `mysqli`, or `mysqlnd` extensions are loaded, but that did not work if the `mysqlnd` extension is the only one present.
    
    Checking specifically for `mysqli_connect()` or `mysql_connect()` functions should be a more reliable approach and more closely mirrors the existing checks in the `wpdb` class.
    
    Follow-up to [1955], [4489], [7234], [12732], [19760], [27257], [36434].
    
    Props bgin, desrosj, dimadin, ipajen, hellofromTonya, sc0ttkclark, azaozz, SergeyBiryukov.
    Fixes #51988.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55367 602fd350-edb4-49c9-b593-d223f7449a82

commit b81317eb650399596fdfd19c7b30f96827695e89
Author: Greg ZiÃ³Å‚kowski <gziolo@git.wordpress.org>
Date:   Mon Feb 20 13:26:33 2023 +0000

    Backport editor changes from Gutenberg for WordPress 6.2 Beta 3
    
    Updates the `@wordpress` packages to include the following change:
    
    - Pin `valtio` version
    
    References: [https://github.com/WordPress/gutenberg/commit/ccabeeffe1fe117c3934ec7705c15d52857d9a87 Gutenberg's commit for publishing the packages]
    
    Props ntsekouras.
    See #57471.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55366 602fd350-edb4-49c9-b593-d223f7449a82

commit 1f0fe126a09b47f8b9e44eb3e45c3fa3f4f6abd6
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Feb 19 15:03:50 2023 +0000

    Coding Standards: Rename `$post_ID` variable to `$post_id` in various files.
    
    The `$post_ID` variable is [https://github.com/WordPress/WordPress-Coding-Standards/blob/546f59c67854589bb8f6b49a30e642e75ff419ad/WordPress/Sniffs/NamingConventions/ValidVariableNameSniff.php#L54 technically allowed in WPCS], as there is a global of the same name that needs to remain for backward compatibility. However, this name is mostly a remnant of legacy code, and switching to `$post_id` where appropriate brings more consistency with the rest of core.
    
    Additionally, this commit resolves a few WPCS warnings in core:
    {{{
    Variable "$post_IDs" is not in valid snake_case format
    }}}
    
    This affects:
    * Function parameters in:
     * `add_meta()`
     * `post_preview()`
     * `WP_Embed::delete_oembed_caches()`
     * `WP_Embed::cache_oembed()`
     * `wp_get_post_cats()`
     * `wp_set_post_cats()`
     * `wp_unique_post_slug()`
     * `wp_set_post_categories()`
     * `wp_check_post_hierarchy_for_loops()`
     * `wp_add_trashed_suffix_to_post_name_for_trashed_posts()`
     * `wp_filter_wp_template_unique_post_slug()`
     * `wp_xmlrpc_server::add_enclosure_if_new()`
     * `wp_xmlrpc_server::attach_uploads()`
     * `wp_xmlrpc_server::mt_getTrackbackPings()`
    * Internal variables in:
     * `wp_ajax_inline_save()`
     * `wp_ajax_set_post_thumbnail()`
     * `wp_ajax_get_post_thumbnail_html()`
     * `edit_post()`
     * `bulk_edit_posts()`
     * `wp_write_post()`
     * `WP_Embed::shortcode()`
     * `wp_insert_post()`
     * `wp_xmlrpc_server::_insert_post()`
     * `wp_xmlrpc_server::blogger_getPost()`
     * `wp_xmlrpc_server::blogger_newPost()`
     * `wp_xmlrpc_server::blogger_editPost()`
     * `wp_xmlrpc_server::blogger_deletePost()`
     * `wp_xmlrpc_server::mw_getPost()`
     * `wp_xmlrpc_server::mw_newPost()`
     * `wp_xmlrpc_server::mw_editPost()`
     * `wp_xmlrpc_server::mt_getPostCategories()`
     * `wp_xmlrpc_server::mt_setPostCategories()`
     * `wp_xmlrpc_server::mt_publishPost()`
     * `wp_xmlrpc_server::pingback_ping()`
    * Hook parameters in:
     * `oembed_ttl`
     * `embed_oembed_html`
     * `wp_insert_post_parent`
     * `add_trashed_suffix_to_trashed_posts`
     * `pre_post_update`
     * `edit_attachment`
     * `attachment_updated`
     * `add_attachment`
     * `edit_post_{$post->post_type}`
     * `edit_post`
     * `post_updated`
     * `save_post_{$post->post_type}`
     * `save_post`
     * `wp_insert_post`
     * `pre_wp_unique_post_slug`
     * `wp_unique_post_slug`
     * `xmlrpc_call_success_blogger_newPost`
     * `xmlrpc_call_success_blogger_editPost`
     * `xmlrpc_call_success_blogger_deletePost`
     * `xmlrpc_call_success_mw_newPost`
     * `xmlrpc_call_success_mw_editPost`
    
    Note: The name change only affects variable names and DocBlocks.
    
    The change does not affect the `$post_ID` global still used in a few places.
    
    Follow-up to [51399], [52958], [53723], [53729], [55190], [55308], [55334].
    
    Props mahekkalola, tanjimtc71, SergeyBiryukov.
    Fixes #57692.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55365 602fd350-edb4-49c9-b593-d223f7449a82

commit 46ba5721590de7d1d938fdeb7960f4bf0b55eaa9
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Feb 18 15:07:12 2023 +0000

    Coding Standards: Improve variables names in post and comment page link functions.
    
    This commit renames a few internal variables for better clarity and consistency:
    
    * `$nextpage` to `$next_page` in:
     * `get_next_posts_page_link()`
     * `get_next_posts_link()`
     * `get_next_comments_link()`
    * `$nextpage` to `$previous_page` in:
     * `get_previous_posts_page_link()`
    * `$prevpage` to `$previous_page` in:
     * `get_previous_comments_link()`
    
    Includes minor code layout fixes for better readability.
    
    Follow-up to [5045], [8502], [8961], [28111].
    
    Props dalirajab, SergeyBiryukov.
    Fixes #57746.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55364 602fd350-edb4-49c9-b593-d223f7449a82

commit 9b6ecd1badbc29acb7f9b4127a0262efb1a72a7c
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Feb 18 14:21:21 2023 +0000

    Docs: Add `www.` prefix to some PHP manual links in code comments.
    
    This avoids an extra redirect and brings more consistency with other links to the PHP website in core.
    
    Follow-up to [42980], [50914], [55355].
    
    See #56792.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55363 602fd350-edb4-49c9-b593-d223f7449a82

commit 3d61e7ef6a40041aad5a98635516af378da46263
Author: Daniel Bachhuber <danielbachhuber@git.wordpress.org>
Date:   Fri Feb 17 18:37:24 2023 +0000

    REST API: Only use Latin characters in test filenames.
    
    Non-Latin characters can break SVN checkout in some environments.
    
    Follow up from [55294].
    
    See #57329, #57761.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55362 602fd350-edb4-49c9-b593-d223f7449a82

commit a6d2904cb1005ae74faa0a89968760856b32e06c
Author: Timothy Jacobs <timothyblynjacobs@git.wordpress.org>
Date:   Fri Feb 17 15:43:47 2023 +0000

    REST API: Normalize WP_REST_Server::dispatch() to return a response object.
    
    Previously, the `rest_pre_dispatch` filter could be used to return a `WP_Error` instance. This would cause a fatal error for `rest_post_dispath`
    filters that were rightly expecting a `WP_REST_Response` object to be passed instead.
    
    Props DaveFX, felipeelia.
    Fixes #56566.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55361 602fd350-edb4-49c9-b593-d223f7449a82

commit ad78d0c932c4911efe36ab03559bb82c48cf8236
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Feb 17 10:13:36 2023 +0000

    Users: Correct the error code in `wp_insert_user()` when login matches an existing email.
    
    Move the test next to the other tests for `user_login`.
    
    Follow-up to [55358].
    
    See #57394.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55360 602fd350-edb4-49c9-b593-d223f7449a82

commit 7a004e862085644327838067816d04e6923c6589
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Fri Feb 17 09:52:28 2023 +0000

    Upgrade/Install: Update available theme updates count when a theme si deleted.
    
    This changeset fixes an issue where the available theme updates count was not updated after a theme is deleted.
    
    Props nazmulhasan103, riccardodicurti, sabernhardt, ironprogrammer, costdev, robinwpdeveloper, rahmantasnia.
    Fixes #57183.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55359 602fd350-edb4-49c9-b593-d223f7449a82

commit cb5eb45fab44da6c68efff21572e18565874035e
Author: Adam Silverstein <adamsilverstein@git.wordpress.org>
Date:   Fri Feb 17 08:08:19 2023 +0000

    Login and Registration: prevent registering with username that matches previous user email.
    
    When registering a new user, check that no existing user has an email matching the username.
    
    Prevents a login name collision when one user registers with the email address user@test.com and a second user tries to register with the username user@test.com.
    
    Props buutqn, dunhakdis, roytanck, ajayver.
    Fixes #57394.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55358 602fd350-edb4-49c9-b593-d223f7449a82

commit f8ec8cfe043fdc4fe0dc53044d6ab7a4e927a6cd
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Feb 16 23:09:54 2023 +0000

    Docs: Replace HTTP with HTTPS in PHP Manual links located in `WP_Privacy_Policy_Content` class.
    
    Follow-up to [55355].
    
    See #56792, #57017.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55356 602fd350-edb4-49c9-b593-d223f7449a82

commit b5f77fb1b2392d1c02d65c7f0c90e96f92900a06
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Feb 16 23:06:29 2023 +0000

    Docs: Replace HTTP with HTTPS in PHP Manual links located in `wp-load.php`.
    
    Props shamimmiashuhagh.
    See #56792.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55355 602fd350-edb4-49c9-b593-d223f7449a82

commit 1ad7735355b126a574f9097a3de4ba19d421e3ec
Author: Andrew Ozz <azaozz@git.wordpress.org>
Date:   Thu Feb 16 22:11:32 2023 +0000

    Filesystem API: Use `trailingslashit( $path )` instead of `$path . '/'`. Fixes a warning when `$path` already ends with a slash.
    
    Props: costdev, afragen, mukesh27.
    Fixes: #57516.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55354 602fd350-edb4-49c9-b593-d223f7449a82

commit 5a87725ed976b2c436bfd61364c09d7df5f810ea
Author: Helen Hou-Sandi <helen@git.wordpress.org>
Date:   Thu Feb 16 03:48:26 2023 +0000

    Build/Test Tools: Improve devcontainer setup for non-Codespaces usage
    
    This now runs in local Docker as well. Sets the executable propset to explicitly identify `install-tool.sh` and `setup.sh` as executable. Unclear if this will sync via the Git mirror; ideally it would as otherwise the two files show as modified in a Git clone even in a fresh container.
    
    Props samruddhikhandale.
    See #57187.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55353 602fd350-edb4-49c9-b593-d223f7449a82

commit 8d3009deefaf074a7c8b0e3c6624c0b026597467
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Feb 16 00:02:21 2023 +0000

    Coding Standards: Replace `strval()` with `(string)` type casting in `wp_nav_menu()`.
    
    This adjusts a newly introduced instance for consistency with the rest of core.
    
    Follow-up to [49108], [55059].
    
    See #57169.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55352 602fd350-edb4-49c9-b593-d223f7449a82

commit 1e6ab88b6f83830f480c33b3306c7e2df20912f4
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Feb 15 23:35:33 2023 +0000

    I18N: Check that `$wp_locale` global is set before calling its methods.
    
    This avoids a fatal error if these functions are called in a mu-plugin before `$wp_locale` is set:
    * `wp_get_list_item_separator()`
    * `wp_get_word_count_type()`
    
    Follow-up to [52929], [52933], [55279], [55295].
    
    Props kraftbj.
    Fixes #56698.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55351 602fd350-edb4-49c9-b593-d223f7449a82

commit 7a7cdde6ea8bc2ba26d8744501acef0c10a5157a
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Wed Feb 15 23:31:40 2023 +0000

    I18N: Add new strings to `about.php` for use with end-of-life updates.
    
    This changeset adds two additional translation strings in the changelog file, for use when releasing the final version of WordPress on a particular branch.
    
    Props peterwilsoncc, audrasjb, mukesh27, mukesh27.
    Fixes #57216.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55350 602fd350-edb4-49c9-b593-d223f7449a82

commit e3c2478ef239eb3e2da4f3b0aa0e80ca9805441f
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Wed Feb 15 22:54:41 2023 +0000

    Docs: Use correct 6.2.0 @since version in multiple docblocks.
    
    Props kebbet, audrasjb, mukesh27.
    See #56792.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55349 602fd350-edb4-49c9-b593-d223f7449a82

commit 239f73ce403df4784676327e8b95aff3d84af81a
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Feb 15 19:16:07 2023 +0000

    Docs: Update the wording for the Update Services link on Writing Settings screen.
    
    The Codex URL was replaced with the corresponding HelpHub article a while ago.
    
    Follow-up to [49912].
    
    See #48987.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55347 602fd350-edb4-49c9-b593-d223f7449a82

commit 527255aea86e32748ecd7a64ec8280bb6154db8f
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Feb 15 13:04:06 2023 +0000

    Docs: Improve code comments in some sanitizing functions.
    
    This aims to clarify a few inline comments related to removing percent-encoded characters and HTML entities.
    
    Affected functions:
    * `sanitize_user()`
    * `sanitize_title_with_dashes()`
    * `sanitize_html_class()`
    * `_sanitize_text_fields()`
    * `get_comments_number_text()`
    
    Follow-up to [465], [3454], [11433], [12503], [37987].
    
    Props ace100, tanjimtc71, codemonksuvro, SergeyBiryukov.
    Fixes #57712.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55346 602fd350-edb4-49c9-b593-d223f7449a82

commit 4d772a52b6df639eab19c227848ed1e2e880c428
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Wed Feb 15 03:55:12 2023 +0000

    Editor: Prevent KSES stripping global layout style properties.
    
    Layout style properties are stored using indirect values, rather than direct CSS properties.
    
    Allow users without the `unfiltered_html` capability to modify global styles using the indirect block spacing properties `contentSize`, `wideSize`, and `blockGap`, using a mapping of the eventual CSS property to the indirect property stored in `theme.json`. The mapped CSS property is then used for CSS validation.
    
    Props andrewserong, costdev, hellofromtonya, mamaduka, mmtr86.
    Fixes #57321.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55345 602fd350-edb4-49c9-b593-d223f7449a82

commit 009a92135111c684972d0f4dffcd6d4bf8c2af0a
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Wed Feb 15 02:00:44 2023 +0000

    Date/Time: Revert `mysql2date` changes in [55343].
    
    These changes will be targeted to the 6.3 release.
    
    See #57705.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55344 602fd350-edb4-49c9-b593-d223f7449a82

commit 9156163ca61b9230c3edcef760f5b330c9b398e5
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Tue Feb 14 21:39:43 2023 +0000

    Date/Time: Save a call to wp_timezone in mysql2date.
    
    Save a call to `wp_timezone` in `mysql2date` by saving the timezone to a variable and pass it into `wp_date` function call.
    
    Props spacedmonkey, costdev, SergeyBiryukov, audrasjb.
    Fixes #57705.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55343 602fd350-edb4-49c9-b593-d223f7449a82

commit a223763e56e6aa5c23de4741a646a4c4bc4aacdb
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Tue Feb 14 19:08:54 2023 +0000

    Build/Test Tools: Fix invalid styles data type PHP Warning in REST_Block_Type_Controller_Test::test_get_item_invalid().
    
    Sets the `styles` block setting to an empty array in the `REST_Block_Type_Controller_Test::test_get_item_invalid()` test to resolve:
    
    {{{
    Warning: foreach() argument must be of type array|object, string given in wp-includes/class-wp-theme-json.php on line 835
    }}}
    
    Previously the test set the `styles` setting to a string value, which is incompatible. The problem surfaced after [55172] added a `foreach` to iterate the `styles`. The root cause was due to this test passing a string instead of an array.
    
    Why?
    
    `WP_Block_Type` `styles` property is documented as only accepting an array data type. At the time of this changeset, it does not validate before setting the property.
    
    Code interacting with the property expects it to be an array data type. The PHP Warning alerts that of a doing it wrong when the incorrect data type is registered for the block type.
    
    Follow-up to [55172], [48173].
    
    Props tanjimtc71, hellofromTonya, kapilpaul.
    Fixes #57706.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55342 602fd350-edb4-49c9-b593-d223f7449a82

commit d8598e3d0528314e1bac6bfb99d6eb8a05889503
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Tue Feb 14 18:19:34 2023 +0000

    Build/Test Tools: Fix inaccurate coverage in Tests_Functions_wpListPluck::set_up().
    
    The call stack for `WP_UnitTestCase_Base::set_up()` includes a call to `WP_List_Util::pluck()`, which creates an inaccurate coverage report for this method.
    
    To resolve, `parent::set_up()` is removed from `Tests_Functions_wpListPluck::set_up()`.
    
    To ensure that deprecation and incorrect usage notices continue to be detectable, `$this->expectDeprecated()` is added in the test's `set_up()` fixture.
    
    Follow-up to [51663], [28900].
    
    Props costdev, jrf, SergeyBiryukov, audrasjb.
    Fixes #56706.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55341 602fd350-edb4-49c9-b593-d223f7449a82

commit 5bdc72d15cc88a4026b7cd8bd41f2659e1ca0a61
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Feb 14 18:03:36 2023 +0000

    Post WordPress 6.2 Beta 2 version bump.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55340 602fd350-edb4-49c9-b593-d223f7449a82

commit ce57e9e94d2763fc3aca687dc5dbef653b41737c
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Feb 14 17:44:23 2023 +0000

    WordPress 6.2 Beta 2.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55339 602fd350-edb4-49c9-b593-d223f7449a82

commit 81feb44d53d977796f5bdfd64f5fab1a0c2b451f
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Tue Feb 14 16:24:11 2023 +0000

    Editor: Remove missing postType and postId query args Site Editor redirect.
    
    Removes the server-side redirection if missing `postType` and `postId` query args when visiting Site Editor. Why? This redirect is no longer needed as the routing is now handled client side (via [55333]).
    
    References:
    * [https://github.com/WordPress/gutenberg/pull/48023 Gutenberg PR 48023]
    * [https://github.com/WordPress/gutenberg/pull/47777 Gutenberg PR 47777]
    
    Follow-up to [55333], [53413], [53093].
    
    Props ntsekouras, youknowriad.
    Fixes #57716.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55338 602fd350-edb4-49c9-b593-d223f7449a82

commit 5f8758953f4735cabddea583c5156e4dd062bcdb
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Feb 14 16:10:13 2023 +0000

    Tests: Merge file-level and class-level DocBlocks in various unit test files.
    
    Per the [https://developer.wordpress.org/coding-standards/inline-documentation-standards/php/#6-file-headers documentation standards], whenever possible, all WordPress files should contain a header DocBlock, regardless of the file’s contents – this includes files containing classes.
    
    However, this recommendation makes less sense for unit test classes if not applied consistently, and the duplicate tags cause some confusion.
    
    This commit aims to reduce confusion and avoid repeating information by combining the DocBlocks.
    
    Follow-up to [40607], [43183], [43291], [43292], [43499], [43568], [44502], [44535], [44628], [44786], [44824], [44906], [44909], [46175].
    
    Props wojtekn, antonvlasenko, arafatjamil01, hztyfoon, mukesh27, costdev, jamilbd07, robinwpdeveloper, SergeyBiryukov.
    Fixes #57099.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55337 602fd350-edb4-49c9-b593-d223f7449a82

commit ba508bc74f7fcba44ff1c1c76cdfd69f7cb61508
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Feb 14 16:04:41 2023 +0000

    Feeds: Fix various typos in MagpieRSS.
    
    Props nithins53, desrosj, anantajitjg, mukesh27.
    Fixes #57102.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55336 602fd350-edb4-49c9-b593-d223f7449a82

commit 2730dfa902b826bef562ee628e1f09a5a86e8570
Author: David Baumwald <davidbaumwald@git.wordpress.org>
Date:   Tue Feb 14 15:55:05 2023 +0000

    Themes: Use `add_action` for `pre_get_posts` hook in `_add_template_loader_filters()`.
    
    Although `add_action` and `add_filter` are internally the same, `pre_get_posts` is an action hook.  This change updates the hook type to match what developers would expect when evaluating the code.
    
    Follow-up to [52316].
    
    Props swissspidy, riccardodicurti.
    Fixes #57097.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55335 602fd350-edb4-49c9-b593-d223f7449a82

commit c7e7a0b0569ff398869ac3d0f5e721ddb89d2904
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Feb 14 15:44:41 2023 +0000

    Coding Standards: Rename the remaining `$cat_ID` variables to `$cat_id`.
    
    This resolves a few WPCS warnings:
    {{{
    Variable "$cat_ID" is not in valid snake_case format, try "$cat_i_d"
    }}}
    
    Affected functions:
    * `wp_delete_category()`
    * `get_category_rss_link()`
    * `get_catname()`
    
    Follow-up to [836], [2068], [2551], [2695], [6365], [10959], [52958], [55190].
    
    Fixes #56754.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55334 602fd350-edb4-49c9-b593-d223f7449a82

commit 852042e4a78b3da8a21dddbb08d68ffba80869eb
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Tue Feb 14 15:41:49 2023 +0000

    Editor: Update @wordpress packages for 6.2 Beta 2.
    
    Updates the `@wordpress` packages to include the following changes:
    
    - Add missing period in keyboard shortcut descriptions
    - Site Editor: Append template type and name to the site editor page title
    - Specify active color state for template navigation button
    - Global Styles: Move more link about custom CSS to part of description
    - ToolsPanel: Display optional items when values are updated externally
    - File block: Re-add editor styles for classic themes
    - Enable undo after creating a new menu
    - Style Book: Exclude blocks that are not allowed to insert
    - Add basic tsconfig.json validation
    - Fix Experiments native variant breakage
    - Update moment and moment-timezone packages to fix timezone issues
    - NavigatorButton: Reuse Button types
    - ToolsPanel: Ensure display of optional items when panel id is null
    - ColorPalette: Ensure text label contrast checking works with CSS variables
    - Components: Add support for named arguments in the navigator components
    - Rename experiments package to private-apis
    - Cherry-pick CLI: Fix the default label to match the documentation
    - Handle block metadata attribute and related experimental APIs
    - Fix: Remove browser default border for iframe in the editor
    - [Layout]: Fix align controls for hybrid themes
    - Visual Regression tests: use default playwright utils
    - SelectControl: Fix multiple prop styling
    - Fix clicking on the toggle button not closing the block inserter
    - Update deps for the useEffect that creates navigation menus
    - Minor updates in Private APIs docs
    - Site Editor: Fix custom Template Parts rename action
    - [Block Library - Cover]: Ensure url is not malformed due to sanitization through wp_kses
    - Revert "Prevent the image from being resized larger than its container"
    - Lodash: Remove from @wordpress/keycodes package
    - Distraction free mode: Fix keyboard shortcut not working
    - Popover: lock the __experimentalPopoverPositionToPlacement function
    - Rename the "experiments" export to "privateApis"
    - Add an aria label to the site save dialog
    - Navigator: add more pattern matching tests, refine existing tests
    - Add parent navigation support for the navigator component
    - Add back link to Design heading in site editor navigation to return to Dashboard
    - Add a nested level when selecting templates or template parts
    - Move site editor 6.2 specific code to the right file
    - Fix site editor navigation
    
    References:
    * [https://github.com/WordPress/gutenberg/commit/1bf01c01a8238ce3a681ad1e517f86033818b78d Gutenberg's commit for publishing the packages]
    
    Follow-up to [55257].
    
    Props ntsekouras.
    See #57471.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55333 602fd350-edb4-49c9-b593-d223f7449a82

commit 98c0d03132fff880e7b7c74cb289e32dd5a5cb18
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Feb 14 14:36:06 2023 +0000

    Docs: Add a `@since` note about Twenty Twenty-Three for `WP_Theme::$default_themes`.
    
    Follow-up to [51328], [52941], [54236].
    
    Props petitphp.
    Fixes #57714.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55332 602fd350-edb4-49c9-b593-d223f7449a82

commit 2bd903771852a47044b2a3775271a085dab30017
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Feb 14 11:32:59 2023 +0000

    Permalinks: Properly escape strings in Permalinks Settings screen.
    
    Props jaedm97, audrasjb, robinwpdeveloper, shraboni.
    Fixes #57143.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55331 602fd350-edb4-49c9-b593-d223f7449a82

commit 917064a764295a3ae5355c3412cdff9a952fab68
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Tue Feb 14 04:20:11 2023 +0000

    Bundled themes: Recommit generated files following [55329].
    
    See #56226.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55330 602fd350-edb4-49c9-b593-d223f7449a82

commit ae09551f41e2ac8fbdb613f02fd26d5616f5af7d
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Tue Feb 14 04:01:32 2023 +0000

    Bundled themes: Fix row variation nested in group block.
    
    Remove the `display` property from the custom group block styles to prevent the flex layout in the row variation from been removed.
    
    Props abirhasandipu, poena, robinwpdeveloper.
    Fixes #56226.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55329 602fd350-edb4-49c9-b593-d223f7449a82

commit c98ca19a20f3c59b8220681deebb5960a423758b
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Tue Feb 14 03:30:58 2023 +0000

    Menus: Test creating parent after a child doesn't throw an error.
    
    As menus are re-arranged, it's possible a menu item was created prior to its parent.
    
    This introduces a test to ensure the order in which menu items are created relevant to their parents does not trigger errors.
    
    Props costdev, peterwilsoncc.
    Fixes #57122.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55328 602fd350-edb4-49c9-b593-d223f7449a82

commit 2840f170819ef9f6c607e628d7c04c6d4054bde0
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Tue Feb 14 00:39:41 2023 +0000

    Administration: Fix JavaScript test failure.
    
    Remove unused variable `e` that I removed from Github, but failed to remove before committing. Follow up to [55326].
    
    Unprops joedolson.
    Fixes #53587.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55327 602fd350-edb4-49c9-b593-d223f7449a82

commit a9fc43e79c7ea513b54bad96e03cfc55ca4b2bd5
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Tue Feb 14 00:36:32 2023 +0000

    Administration: Close admin menu when focus moves to body.
    
    User should not have to reach the admin menu toggle in order to close the menu. This can be a problem for one-handed mobile use, users with small hands, and numerous other situational usages.
    
    Close the admin menu when focus moves anywhere other than the menu or the menu toggle and the current document is active.
    
    Props kaneva, sabernhardt, costdev, ryokuhi, hellofromtonya, dhusakovic, thelovekesh, joedolson.
    Fixes #53587.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55326 602fd350-edb4-49c9-b593-d223f7449a82

commit ef4e893fafbb2096999db2ceaf58b2e9f9badfc8
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Mon Feb 13 23:08:23 2023 +0000

    REST API: Remove 'Invalid user ID' error in WP_REST_Users_Controller::update_item().
    
    Removes the `WP_Error` code for `'Invalid user ID.'`. Why?
    
    tl;dr
    This branch will never be entered as the `$user` will never be falsey.
    
    Longer reasoning:
    
    [39954] introduced `WP_REST_Users_Controller::get_user()` method to encapsulate getting the user and handling the `'Invalid user ID.'` `WP_Error`. It replaced `get_userdata()` in `WP_REST_Users_Controller::update_item()` but left the existing `'Invalid user ID.'` `WP_Error` introduced in [38832].
    
    The code removed in this changeset will never be reached because `$user` will never be falsey. Rather, `WP_REST_Users_Controller::get_user()` will always return an instance of `WP_Error` or `WP_User`.
    
    Could the user's ID be falsey?
    No. Why? `WP_REST_Users_Controller::get_user()` checks that the user exists, which checks if the ID is falsey.
    
    Therefore, the code can safely be removed.
    
    Follow-up to [39954], [38832].
    
    Props jrf, costdev, hellofromTonya, SergeyBiryukov.
    Fixes #56662.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55325 602fd350-edb4-49c9-b593-d223f7449a82

commit c07b57c69311e79c96e24cb104be73aacb8c635c
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Feb 13 22:03:30 2023 +0000

    Comments: Use correct `orderby` parameter name in personal data exporter and eraser.
    
    This ensures that `get_comments()` is called with the correct parameter name in:
    * `wp_comments_personal_data_exporter()`
    * `wp_comments_personal_data_eraser()`
    
    Follow-up to [42888], [42994].
    
    Props smeunus, kapilpaul, SergeyBiryukov.
    Fixes #57700.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55324 602fd350-edb4-49c9-b593-d223f7449a82

commit b487e4c611003b2bab89ef76442927f4b2d83a20
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Mon Feb 13 20:48:53 2023 +0000

    Editor: Restores file block button styles for classic themes.
    
    Adds styles into `wp-includes/css/classic-themes.css` to restore file block button element styling for classic themes.
    
    Why?
    
    In [54257] and [54118], button element styles were moved from each block to `theme.json`. For the file block, the download button styles were removed from the block's stylesheet. These changes impacted themes without a `theme.json` file (i.e. classic themes).
    
    This changeset restores the styles for backwards-compatibility.
    
    References:
    * [https://github.com/WordPress/gutenberg/pull/47686 Gutenberg PR 47686]
    
    Follow-up to [54257], [54118].
    
    Props wildworks, scruffian, mamaduka, ntsekouras.
    Fixes #57688.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55323 602fd350-edb4-49c9-b593-d223f7449a82

commit 0b38eb09db3b88eac2efbfe23710497722d78a45
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Feb 13 19:35:13 2023 +0000

    Tests: Declare the `$post_id` property in `wp_comments_personal_data_exporter()` tests.
    
    Use the same approach in `wp_comments_personal_data_eraser()` for consistency and to minimize the number of fixtures created in each individual test.
    
    Follow-up to [55319], [55321].
    
    Props hellofromTonya.
    See #56793.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55322 602fd350-edb4-49c9-b593-d223f7449a82

commit 4e62497442cd30ae2591aa2f6d043d002a82c5f1
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Feb 13 19:11:15 2023 +0000

    Tests: Move `wp_comments_personal_data_exporter()` tests to their own file.
    
    This aims to make the tests more discoverable and easier to expand.
    
    Follow-up to [42987], [55319].
    
    See #56793.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55321 602fd350-edb4-49c9-b593-d223f7449a82

commit f4de27281810fd1c7b49a6afbbf9738c9d2c54ef
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Feb 13 19:01:46 2023 +0000

    Tests: Add missing `@covers` tag for a `wp_update_comment()` test.
    
    Follow-up to [37609], [53863].
    
    See #56793.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55320 602fd350-edb4-49c9-b593-d223f7449a82

commit 263d73a755aee8be0ff901367ac7dc4128aa20af
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Feb 13 18:56:59 2023 +0000

    Tests: Move `wp_comments_personal_data_eraser()` tests to their own file.
    
    This aims to make the tests more discoverable and easier to expand.
    
    Follow-up to [42994].
    
    See #56793.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55319 602fd350-edb4-49c9-b593-d223f7449a82

commit 87c575a9fcfd9b266365834545da5fcfa5f788e2
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Mon Feb 13 18:32:40 2023 +0000

    Media: Enhance logic to determine LCP image in block themes and avoid lazy-loading it.
    
    [52065] originally introduced the logic to guess the LCP image based on certain heuristics and to not lazy-load that image. However, with the introduction of block themes, that logic was not functioning correctly, resulting in all featured images to be lazy-loaded, regardless of whether it was the LCP image or not.
    
    Together with an update to the `core/post-featured-image` block included in [55079], this changeset fixes the logic to correctly handle featured images in block themes as well.
    
    Additionally, in combination with an update to the `core/template-part` block from [55246], this changeset includes an enhancement which uses the benefits of block template parts to avoid lazy-loading images in the `header` block template part, making the lazy-loading heuristics even more accurate for sites using a block theme.
    
    Props flixos90, adamsilverstein, mamaduka, antonvlasenko, shahidul95, reduanmasud, costdev, mukesh27, ironprogrammer, manfcarlo, robinwpdeveloper, spacedmonkey.
    Fixes #56930.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55318 602fd350-edb4-49c9-b593-d223f7449a82

commit ea57bf06eac3939eaa2f7a1c52be678d0f0c5b3f
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Mon Feb 13 15:18:19 2023 +0000

    Twenty Twenty: Properly reflect text color changes in Quote and Pullquote block.
    
    This changeset ensures that text color for citation are inherited when the user specifies color for the Pullquote or Quote block, or if one of those blocks is inside a block with a background.
    
    Props nithins53, kajalgohel, kmadhak, sabernhardt, devtanbir, james-roberts, sapayth, rafinkhan, robinwpdeveloper, poena.
    Fixes #55990.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55317 602fd350-edb4-49c9-b593-d223f7449a82

commit 87ca0e14fa71dd174516faa5a3b72e604ad04b3c
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Mon Feb 13 15:16:55 2023 +0000

    Docs: Various improvements in XML-RPC Class function descriptions, as per docblocks standards.
    
    See #56792.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55316 602fd350-edb4-49c9-b593-d223f7449a82

commit 83f3d9078d116f140e1b735191ab2468e378bf45
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Feb 13 14:38:31 2023 +0000

    Tests: Rename the `html` tests directory to `html-api`.
    
    This matches the `WP_HTML_Tag_Processor` class location in `wp-includes` and the `@group` name used in the tests.
    
    Follow-up to [55203].
    
    See #56793.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55315 602fd350-edb4-49c9-b593-d223f7449a82

commit 1261ced3bff4b0189c7095a7daa7dce2034c6081
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Mon Feb 13 14:31:06 2023 +0000

    Themes: Remove local() from @font-face styles in _wp_theme_json_webfonts_handler().
    
    Removes adding `local()` as a `@font-face` `src` within `_wp_theme_json_webfonts_handler()`.
    
    Why?
    
    To fix font incompatibilities when a user has the font-family locally installed on their viewing computer or device. It's unknown if all of the font-face variations specified by theme.json and/or global styles are:
    
    * installed on the user's computer/device.
    * and in one file or multiple files.
    
    The previous implementation used the `src` specified when registering the font with the API. That src will likely vary from user computer/device to user computer/device.
    
    To avoid these unknowns which could cause incompatibilities or styling issues, this changeset removes adding `local()` to the generated font-face CSS styles.
    
    References:
    * [https://github.com/WordPress/gutenberg/pull/47254 Gutenberg PR 47254]
    
    Follow-up to [53282].
    
    Props luehrsen, aristath, ehtmlu, hellofromTonya, wetah.
    Fixes #57430.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55314 602fd350-edb4-49c9-b593-d223f7449a82

commit 86da994b9a7040698990ac4def25a85ecc761146
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Feb 13 14:20:30 2023 +0000

    Tests: Move PasswordHash test file to a more appropriate place.
    
    While also used for post passwords and application passwords, the PasswordHash library appears to be initially introduced and primarily used for user passwords, so the test file can be moved to the `user` directory.
    
    Follow-up to [6350], [55310].
    
    See #56340.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55313 602fd350-edb4-49c9-b593-d223f7449a82

commit 428705ba1f233290267ae4f5d7eaab91b8e3240d
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Mon Feb 13 09:21:59 2023 +0000

    Twenty Twelve: Properly reflect text color changes in Table block.
    
    This changeset makes the table header cells also inherit text colors, when the user selects a text color.
    
    Props nidhidhandhukiya, sabernhardt, poena, faguni22.
    Fixes #56466.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55312 602fd350-edb4-49c9-b593-d223f7449a82

commit 4cbeef75a920b0c1aa8911c0282e9c4f4c4bf8e5
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Mon Feb 13 09:19:43 2023 +0000

    Docs: Use third-person singular verbs for `WP_Meta_Query` related function descriptions, as per docblocks standards.
    
    See #56792.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55311 602fd350-edb4-49c9-b593-d223f7449a82

commit ea6c96fced76d163effc3483c18c70df877823cf
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Mon Feb 13 09:06:50 2023 +0000

    External Libraries: Prevent a PHP 8.1 deprecation notice in `PasswordHash::gensalt_blowfish()`.
    
    This changeset uses an `(int)` cast to prevent a PHP 8.1 deprecation notice for "Implicit conversation from float to int loses precision" in `PasswordHash::gensalt_blowfish()`.
    
    Props hanshenrik, jrf, desrosj, costdev.
    Fixes #56340.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55310 602fd350-edb4-49c9-b593-d223f7449a82

commit e0a9b1f4c5ae3ef1080b5e8fe5d7d36f4cebcfec
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Mon Feb 13 08:45:48 2023 +0000

    Formatting: Add `aspect-ratio` as valid CSS property in KSES.
    
    This changeset adds support for the `aspect-ratio` CSS property, which is considered safe for inline CSS.
    
    Props ajlende, peterwilsoncc.
    Fixes #57664.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55309 602fd350-edb4-49c9-b593-d223f7449a82

commit 08160032efc23c6dd98e53eafcd2bdac6d64f901
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Feb 12 18:06:33 2023 +0000

    Coding Standards: Rename `$comment_ID` variable to `$comment_id` in various files.
    
    This resolves 80+ WPCS warnings in core:
    {{{
    Variable "$comment_ID" is not in valid snake_case format
    }}}
    
    While matching the database field of the same name, the `$comment_ID` variable did not follow the WordPress coding standards, and is now renamed to address that.
    
    This affects:
    * Function parameters in:
     * `get_comment_author()`
     * `comment_author()`
     * `get_comment_author_email()`
     * `comment_author_email()`
     * `get_comment_author_link()`
     * `comment_author_link()`
     * `get_comment_author_IP()`
     * `comment_author_IP()`
     * `get_comment_author_rl()`
     * `comment_author_url()`
     * `get_comment_date()`
     * `comment_date()`
     * `get_comment_excerpt()`
     * `comment_excerpt()`
     * `get_comment_text()`
     * `comment_text()`
     * `get_comment_time()`
     * `comment_time()`
     * `get_comment_type()`
     * `get_page_of_comment()`
     * `wp_new_comment_notify_moderator()`
     * `wp_new_comment_notify_postauthor()`
     * `get_commentdata()`
    
    * Internal variables in:
     * `get_comment_ID()`
     * `wp_new_comment()`
     * `wp_xmlrpc_server::wp_deleteComment()`
     * `wp_xmlrpc_server::wp_editComment()`
     * `wp_xmlrpc_server::wp_newComment()`
     * `wp_xmlrpc_server::pingback_ping()`
    
    * Hook parameters in:
     * `get_comment_author`
     * `comment_author`
     * `get_comment_author_email`
     * `author_email`
     * `get_comment_author_link`
     * `get_comment_author_IP`
     * `get_comment_author_url`
     * `comment_url`
     * `get_comment_excerpt`
     * `comment_excerpt`
     * `get_comment_ID`
     * `get_comment_type`
     * `get_page_of_comment`
     * `comment_{$new_status}_{$comment->comment_type}`
     * `comment_post`
     * `notify_moderator`
     * `notify_post_author`
     * `commentrss2_item`
     * `xmlrpc_call_success_wp_deleteComment`
     * `xmlrpc_call_success_wp_editComment`
     * `xmlrpc_call_success_wp_newComment`
     * `pingback_post`
    
    Note: The name change only affects variable names and DocBlocks.
    
    The change does not affect:
    
    * `comment_ID` as the `$orderby` value in `WP_Comment_Query::__construct()`
    * `comment_ID` as the `$orderby` value in `WP_Comment::get_children()`
    * `comment_ID` as part of `$commentarr` parameter in `wp_update_comment()`
    
    The associated array keys still match the database field.
    
    Follow-up to [53723].
    
    Props krunal265, costdev, SergeyBiryukov.
    Fixes #57671. See #56791.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55308 602fd350-edb4-49c9-b593-d223f7449a82

commit 14bb2d7784db0142190af022c71c7267af8df873
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Sat Feb 11 17:37:30 2023 +0000

    Toolbar: Prevent false positive on automated contrast testing.
    
    The non-focused state of the `.screen-reader-shortcut` element in the admin bar fails contrast tests. This has no real-world consequences, but raises false positives in some automated testing tools. This fix is largely so people using automated testing will not raise false positives.
    
    Props sabernhardt, afercia, robinwpdeveloper, re_enter_rupok.
    Fixes #56789.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55307 602fd350-edb4-49c9-b593-d223f7449a82

commit cd5955bcebf46de5b31f4ffeadebcc1d591ef59a
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Feb 11 13:10:22 2023 +0000

    Coding Standards: Pass correct value to `get_delete_post_link()` in `attachment_submit_meta_box()`.
    
    The `$deprecated` parameter of `get_delete_post_link()` is documented to accept a string, not `null`.
    
    Follow-up to [14099], [21948].
    
    Props krunal265, jrf.
    Fixes #57690.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55306 602fd350-edb4-49c9-b593-d223f7449a82

commit aa325d40056d5db65cccf183ae5a562d76f0f00c
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Feb 11 12:41:34 2023 +0000

    Mail: Check that `set_time_limit()` function is available before using it in `class-pop3.php`.
    
    This avoids a fatal error if the function is disabled on certain environments.
    
    Follow-up to [55258].
    
    Props mujuonly.
    Fixes #57659.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55305 602fd350-edb4-49c9-b593-d223f7449a82

commit 099ff6c5fe50c9009c79f9bbb9a0422db5e2f51f
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Feb 10 10:57:20 2023 +0000

    Docs: Replace short array syntax in `WP_HTML_Tag_Processor` documentation.
    
    Per [https://developer.wordpress.org/coding-standards/wordpress-coding-standards/php/#declaring-arrays WordPress PHP Coding Standards]:
    > Using long array syntax ( `array( 1, 2, 3 )` ) for declaring arrays is generally more readable than short array syntax ( `[ 1, 2, 3 ]` ), particularly for those with vision difficulties. Additionally, it’s much more descriptive for beginners.
    >
    > Arrays must be declared using long array syntax.
    
    Original PR from Gutenberg repository:
    * [https://github.com/WordPress/gutenberg/pull/47958 #47958 Docs: Don't recommend using short array syntax in WP_HTML_Tag_Processor]
    
    Follow-up to [55203], [55206].
    
    Props aristath, poena.
    Fixes #57691.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55304 602fd350-edb4-49c9-b593-d223f7449a82

commit 2654756a03a886a6f3c751b53355a6f9527a45cf
Author: Helen Hou-Sandi <helen@git.wordpress.org>
Date:   Fri Feb 10 02:59:04 2023 +0000

    Build/Test Tools: Add a devcontainer for Codespaces support.
    
    This adds a devcontainer configuration tested for use with GitHub Codespaces. It is currently built on top of the Docker `wordpress` image for initial trial purposes. We should eventually be using our own containers to fully own the environment.
    
    This should be considered a beta run to get a sense of how well cloud dev containers work for core contributors, in particular at contributor day events with limited bandwidth and mobile devices.
    
    Props samruddhikhandale, dinhtungdu, helen, craiglpeters, sam1el, wirecat.
    See #57187.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55303 602fd350-edb4-49c9-b593-d223f7449a82

commit f3707b2135084f9eace2a1ea18a5f023fbe74a1f
Author: Pascal Birchler <swissspidy@git.wordpress.org>
Date:   Thu Feb 9 16:33:36 2023 +0000

    I18N: Prevent fatal error in `WP_Textdomain_Registry`.
    
    Use `rtrim` instead of `untrailingslashit` and `trailingslashit` directly.
    
    Avoids `formatting.php` dependency and thus prevents an error when called via `wp_load_translations_early()`, which happens e.g. when in maintenance mode.
    
    Props grl570810, ocean90.
    Fixes #57218.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55302 602fd350-edb4-49c9-b593-d223f7449a82

commit 7104aa0a9c75b64ee0bb5e5390bb564519e3022d
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Feb 9 01:29:42 2023 +0000

    Login and Registration: Set correct default values in `wp_signon()`.
    
    The `$credentials['user_login']` and `$credentials['user_password']` parameters are passed by reference to the `wp_authenticate` action, and are at that point [https://www.php.net/manual/en/language.references.pass.php#124383 created as null] if they don't exist in the array.
    
    This commit sets those values to an empty string, resolving two PHP 8.1 deprecation notices:
     * One from `preg_replace()` in `wp_strip_all_tags()` via `sanitize_user()` in `wp_authenticate()`:
    {{{
    Deprecated: preg_replace(): Passing null to parameter #3 ($subject) of type array|string is deprecated
    }}}
     * One from `trim()` in `wp_authenticate()` itself:
    {{{
    Deprecated: trim(): Passing null to parameter #1 ($string) of type string is deprecated
    }}}
    
    Includes documenting the `$credentials` parameter using hash notation.
    
    Follow-up to [6643], [37697].
    
    Props lenasterg, TobiasBg, ocean90, afragen, lkraav, SergeyBiryukov.
    Fixes #56850.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55301 602fd350-edb4-49c9-b593-d223f7449a82

commit 33ba8c54aa2e35af47d1afd8ad3691694d6e61e2
Author: Daniel Bachhuber <danielbachhuber@git.wordpress.org>
Date:   Wed Feb 8 20:49:36 2023 +0000

    Media: Use strict comparison in `make_subsize()`.
    
    Follow up from [55278].
    
    Props bueltge, desrosj, mukesh27.
    See #57370.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55300 602fd350-edb4-49c9-b593-d223f7449a82

commit 17a4dcb3032a253c8c33d0b768eb891de2a67eb7
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Wed Feb 8 19:38:50 2023 +0000

    Media: Fix focus loss updating custom fields in media modal.
    
    When the save action runs to dynamically save changes to custom fields in the media modal, the custom fields container is re-rendered, losing focus. Remove the re-rendering of custom fields to prevent loss of focus.
    
    Props lucymtc, teebee, syhc, afrin29, antpb, joedolson.
    Fixes #40909.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55299 602fd350-edb4-49c9-b593-d223f7449a82

commit 7e0fe194aa7b65625af460957f9a468a5194a926
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Feb 8 17:06:16 2023 +0000

    Docs: Correct `@since` tag for `WP_Locale_Switcher::$stack`.
    
    The `WP_Locale_Switcher::$locales` property was replaced with `::$stack` in WordPress 6.2.
    
    Follow-up to [38961], [55161], [55224].
    
    See #57123.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55298 602fd350-edb4-49c9-b593-d223f7449a82

commit a550b2d14fbcb1f0c7f1ce1473bf53d7ec3760ca
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Wed Feb 8 16:12:20 2023 +0000

    Help/About: Add info about the "View" row action link to the Users screen help tab.
    
    Props kebbet, audrasjb, SergeyBiryukov, webcommsat.
    Fixes #57666.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55297 602fd350-edb4-49c9-b593-d223f7449a82

commit 868e43d4716131475e448432db64f0fb3f8dc496
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Wed Feb 8 15:01:32 2023 +0000

    Upgrade/Install: Skip preloading Requests for WordPress versions before 4.6.
    
    Skip preloading Requests files in `_preload_old_requests_classes_and_interfaces()` when updating from a WordPress version older than 4.6.
    
    Why?
    
    Requests library was first introduced into WordPress 4.6 via #33055 / [37428]. If a user is upgrading from a version older than 4.6, this changeset prevents the Requests preloading to prevent a fatal error of attempting to load files that do not exist in their current WordPress version.
    
    Follow-up to [54997], [37428].
    
    Props afragen, costdev, ironprogrammer, antonvlasenko.
    Fixes #57662.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55296 602fd350-edb4-49c9-b593-d223f7449a82

commit fe119088ec3835c6c7ea9a4dd3adca3c91035ea2
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Feb 8 10:15:33 2023 +0000

    Docs: Document possible return values for `wp_get_word_count_type()`.
    
    Follow-up to [55279].
    
    See #56698.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55295 602fd350-edb4-49c9-b593-d223f7449a82

commit b46b8550704f1236957540605b3143d19e1c4afe
Author: Daniel Bachhuber <danielbachhuber@git.wordpress.org>
Date:   Tue Feb 7 23:45:18 2023 +0000

    REST API: Support non-Latin characters in template route regex.
    
    Non-Latin characters are URL-encoded (e.g. `%cf%84%ce%b5%cf%83%cf%84`). Matching `%` in the route ensures templates with non-Latin titles can be properly saved.
    
    Props antonyagrios, mburridge.
    Fixes #57329.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55294 602fd350-edb4-49c9-b593-d223f7449a82

commit 9c4ddc2e9e1ae3aebf4499bb677a9ce6972e00d4
Author: John Blackbourn <johnbillion@git.wordpress.org>
Date:   Tue Feb 7 21:19:46 2023 +0000

    Docs: Miscellaneous improvements and corrections to docblocks.
    
    See #56792
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55293 602fd350-edb4-49c9-b593-d223f7449a82

commit d2d0f6627f7fa44446679c02d04f497b1776ae85
Author: David Baumwald <davidbaumwald@git.wordpress.org>
Date:   Tue Feb 7 19:36:32 2023 +0000

    Post WordPress 6.2 Beta 1 version bump.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55292 602fd350-edb4-49c9-b593-d223f7449a82

commit c6c376e09cf6281dcc0cbc2951feef814642b57f
Author: David Baumwald <davidbaumwald@git.wordpress.org>
Date:   Tue Feb 7 19:13:18 2023 +0000

    WordPress 6.2 Beta 1.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55291 602fd350-edb4-49c9-b593-d223f7449a82

commit 52a37a5df898070687a423df76f8c39e7bf1e47b
Author: Aaron Jorbin <jorbin@git.wordpress.org>
Date:   Tue Feb 7 18:55:47 2023 +0000

    Cleanup change to package.json.
    
    [55289] made a change to test running that I was doing locally and is not needed for everyone or forever.
    
    Unprops Jorbin.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55290 602fd350-edb4-49c9-b593-d223f7449a82

commit ad2ba3ed0dca43afa3fb6128e998a8399b562bab
Author: Aaron Jorbin <jorbin@git.wordpress.org>
Date:   Tue Feb 7 18:52:24 2023 +0000

    Comments: Improve rel attribute usage in comments.
    
    Internal links should be followed and it should be easier to modify other rel attributes on comments. This adds a helper function for determining if a URL is internal and also adds some new filters to make it easy to modify rel attributes in comments.
    
    Props thomasplevy, desrosj, sabernhardt, benish74, samiamnot, galbaras, jorbin.
    
    Fixes #53290, #56444.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55289 602fd350-edb4-49c9-b593-d223f7449a82

commit b1f084389c90d4a510aa0916daba91b569421270
Author: joedolson <joedolson@602fd350-edb4-49c9-b593-d223f7449a82>
Date:   Tue Feb 7 18:50:01 2023 +0000

    Administration: Match title tag to menu item for Editor.
    
    Removes 'beta' from the title element for the site editor. Follow up to [55281].
    
    Props kebbet.
    Fixes #57654.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55288 602fd350-edb4-49c9-b593-d223f7449a82

commit 85cd4a1e1ff32b03c8bd7b01c9d65609740624a7
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Feb 7 18:24:02 2023 +0000

    Comments: Allow to pass `$comment_ID` parameter to `comment_time()`.
    
    This brings consistency with:
    * `get_comment_time()`
    * `get_comment_date()`
    * `comment_date()`
    
    Includes:
    * Correcting the `@since` tag for `get_comment_time()`.
    * Synchronizing parameter description between `get_comment_date()` and `get_comment_time()`.
    
    Follow-up to [55284].
    
    See #52322.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55287 602fd350-edb4-49c9-b593-d223f7449a82

commit 6ae5afcfaf27ef832abf10665ef9b19731f62ac7
Author: David Baumwald <davidbaumwald@git.wordpress.org>
Date:   Tue Feb 7 18:09:44 2023 +0000

    Editor: `svn add` new files missed in [55285].
    
    Follow-up to [55285].
    
    See #57618.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55286 602fd350-edb4-49c9-b593-d223f7449a82

commit f7c2299a0ea2d7242d2fa8955f8780e98206ee14
Author: David Baumwald <davidbaumwald@git.wordpress.org>
Date:   Tue Feb 7 17:59:44 2023 +0000

    Editor: Introduce sticky position block support.
    
    In the Gutenberg plugin, a position block support feature was introduced last year, that allows a Group block to be set to a "sticky" position, meaning that when the page scrolls, the block will stick to the top of the window.
    
    This change merges the "sticky" position feature for blocks introduced in Gutenberg 15.0.
    
    Props andrewserong, flixos90, mukesh27.
    Fixes #57618.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55285 602fd350-edb4-49c9-b593-d223f7449a82

commit 8a2902db8d3296d5c924618bb344b8b23b18fadc
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Feb 7 17:51:53 2023 +0000

    Comments: Allow to pass `$comment_ID` parameter to `get_comment_time()`.
    
    Props spacedmonkey, travisaxton, SergeyBiryukov, d-signed, audrasjb, rudlinkon, h4l9k, mukesh27, costdev.
    Fixes #52322.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55284 602fd350-edb4-49c9-b593-d223f7449a82

commit 6fc77d21d3da47413a74c47cc1ecaf08b7275fa2
Author: John Blackbourn <johnbillion@git.wordpress.org>
Date:   Tue Feb 7 17:43:55 2023 +0000

    Application Passwords: Allow plain HTTP success and reject URLs when using a local environment type.
    
    It's not uncommon for local environments to run over HTTP due to the relative complexity of configuring HTTPS for a local environment. This change allows HTTP URLs for application password responses when that is the case.
    
    Props peterwilsoncc, wppunk, cadic, viralsampat
    
    Fixes #52617
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55283 602fd350-edb4-49c9-b593-d223f7449a82

commit 05c1b0c6c829f3b8a12572cb88b184f22b98732b
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Tue Feb 7 17:41:11 2023 +0000

    Editor: Add layout controls to children of flex layout blocks.
    
    Props isabel_brison, andrewserong, davidbaumwald, flixos90, mamaduka, ntsekouras, hellofromtonya.
    Fixes #57584.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55282 602fd350-edb4-49c9-b593-d223f7449a82

commit 69164aaa3a072f0b0715080778e98d68f4c34498
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Feb 7 17:40:19 2023 +0000

    Editor: Remove "beta" label from Site Editor submenu item.
    
    One year later, the beta phase is finally over.
    
    Props priethor, matveb, audrasjb, hellofromtonya.
    Fixes #57654.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55281 602fd350-edb4-49c9-b593-d223f7449a82

commit d91fd84eb1b86b5fffe2f94da5d2952191ff52d9
Author: Daniel Bachhuber <danielbachhuber@git.wordpress.org>
Date:   Tue Feb 7 17:37:16 2023 +0000

    Media: Add test file missed in [55278].
    
    See #57370.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55280 602fd350-edb4-49c9-b593-d223f7449a82

commit 024946f9d18cc48fc8e8d926dc61b2fe82014ed0
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Feb 7 17:26:14 2023 +0000

    I18N: Introduce `word_count_type` property to `WP_Locale`.
    
    This changesets adds a `word_count_type` property, so that it does not need to be translated separately across multiple projects.
    
    List of changes:
    - New property: `WP_Locale::word_count_type`.
    - New method: `WP_Locale::get_word_count_type()`.
    - New function: `wp_get_word_count_type()` as a wrapper for `WP_Locale::get_word_count_type()`.
    - All `_x( 'words', 'Word count type. Do not translate!' )` strings have been replaced with a call to `wp_get_word_count_type()`.
    
    Props pedromendonca, desrosj, costdev, mukesh27, johnbillion.
    Fixes #56698.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55279 602fd350-edb4-49c9-b593-d223f7449a82

commit d80c313c8097416846e657cd601735b2590d3979
Author: Daniel Bachhuber <danielbachhuber@git.wordpress.org>
Date:   Tue Feb 7 17:22:41 2023 +0000

    Media: Bail early if image is already the requested size.
    
    In `WP_Image_Editor_Imagick`, bail early in `make_subsize()` if the image is already the requested size. Previously, `make_subsize()` would create another copy of the file. `WP_Image_Editor_GD` doesn't have the same problem.
    
    Props wojtekn, danielbachhuber.
    Fixes #57370.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55278 602fd350-edb4-49c9-b593-d223f7449a82

commit 0821c7ad30371b761c6dba22cb912ceb5a9e11dc
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Feb 7 17:12:23 2023 +0000

    Twenty Twelve: Bundle Google Fonts locally.
    
    This changeset bundles the Google Fonts used by Twenty Twelve locally in the theme folder, instead of loading them from Google servers. Existing font stylesheet handles are maintained for backward compatibilily.
    
    Props garrett-eclipse, kjellr, ocean90, SergeyBiryukov, westonruter, luminuu, audrasjb, jhoffmann, jffng, paapst, cbirdsong, webcommsat, kau-boy, MatthiasReinholz, sabernhardt, hellofromTonya, JeffPaul, davidbaumwald, desrosj, bedas, poena, costdev, mukesh27, azaozz, aristath.
    See #55985.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55277 602fd350-edb4-49c9-b593-d223f7449a82

commit 6d7430cfe1f8853b75787e03effe8f16f9242ad8
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Feb 7 17:08:26 2023 +0000

    I18N: Mark screen reader strings as such with translator comments.
    
    This aims to provide better context for translators and make it easier to determine that some strings contain hidden accessibility text and are not displayed in the UI.
    
    Props kebbet, mercime, pavelevap, ocean90, swissspidy, Chouby, jipmoors, afercia, desrosj, costdev, audrasjb, SergeyBiryukov.
    Fixes #29748.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55276 602fd350-edb4-49c9-b593-d223f7449a82

commit 86dc3ffe0bdcde726ac967efa3e6df508fc68617
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Tue Feb 7 16:46:34 2023 +0000

    External Libraries: Update `element-closest`.
    
    This updates the `element-closest` polyfill to the latest version, `3.0.2`.
    
    Because of changes to how the package is now built and distributed, both files for the library now contain minified code.
    
    This library is no longer used by Core itself and maintained as a courtesy. Any projects utilizing it should reevaluate their usage requirements with modern browsers.
    
    Props hareesh-pillai, gziolo, mukesh27, costdev.
    Fixes #52851.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55275 602fd350-edb4-49c9-b593-d223f7449a82

commit f29e0fe97dcc9720592ffd3161e2d5d5f0df0019
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Feb 7 16:43:48 2023 +0000

    Twenty Thirteen: Bundle Google Fonts locally.
    
    This changeset bundles the Google Fonts used by Twenty Thirteen locally in the theme folder, instead of loading them from Google servers. Existing font stylesheet handles are maintained for backward compatibilily.
    
    Props garrett-eclipse, kjellr, ocean90, SergeyBiryukov, westonruter, luminuu, audrasjb, jhoffmann, jffng, paapst, cbirdsong, webcommsat, kau-boy, MatthiasReinholz, sabernhardt, hellofromTonya, JeffPaul, davidbaumwald, desrosj, bedas, poena, costdev, mukesh27, azaozz, aristath.
    See #55985.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55274 602fd350-edb4-49c9-b593-d223f7449a82

commit 5b2a6ae7ccdfb6e433b53233c8364ebf854a039a
Author: David Baumwald <davidbaumwald@git.wordpress.org>
Date:   Tue Feb 7 16:42:11 2023 +0000

    Themes: Revert appearance tools theme support.
    
    The appearance tools theme support(merged in [55067]) includes block gap, a feature that was not intended for themes without a theme.json.
    
    Until it has been determined if the feature can and should be enabled in these themes, and has been successfully tested, the appearance tools theme support should be reverted.
    
    Reverts [55067].
    
    Props poena, Mamaduka, audrasjb.
    Fixes #57649.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55273 602fd350-edb4-49c9-b593-d223f7449a82

commit 67f101e7915d9d0ffe225cb2a87524e8a7c7ef7a
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Tue Feb 7 16:16:47 2023 +0000

    Formatting: Treat `math` elements as block-level elements.
    
    The `math` element can be displayed either as a block or inline element. If `wpautop` only treats it as an inline element, it will break multiline elements by inserting `br` elements. Treating the element as a block element means that the editor won't break common normative usages of the `math` element.
    
    Prevent `math` elements from having internal elements split up with `br` elements, disrupting formatting.
    
    Props nicholaswilson, wojtek.szkutnik, hakre, conner_bw, ericlewis, hughie.molloy, SteelWagstaff, ryokuhi, joedolson, bgoewert, adamsilverstein, joedolson.
    Fixes #13340.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55272 602fd350-edb4-49c9-b593-d223f7449a82

commit d49951361c0468834d5a311d57438a0dc7db0b03
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Tue Feb 7 15:57:24 2023 +0000

    Media: Enable selective optout for video and audio shortcodes.
    
    Make the JavaScript selectors for audio and video shortcodes aware of the state of the `wp_video_shortcode_library` and `wp_audio_shortcode_library` filters. Allow extenders to replace the library for either media shortcode.
    
    Props westonruter, joedolson, rudlinkon, obayedmamur.
    Fixes #40144.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55271 602fd350-edb4-49c9-b593-d223f7449a82

commit 6fe0e51b44452b31e3931baa205a6b572b061db1
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Feb 7 15:57:06 2023 +0000

    Twenty Fourteen: Bundle Google Fonts locally.
    
    This changeset bundles the Google Fonts used by Twenty Fourteen locally in the theme folder, instead of loading them from Google servers. Existing font stylesheet handles are maintained for backward compatibilily.
    
    Props garrett-eclipse, kjellr, ocean90, SergeyBiryukov, westonruter, luminuu, audrasjb, jhoffmann, jffng, paapst, cbirdsong, webcommsat, kau-boy, MatthiasReinholz, sabernhardt, hellofromTonya, JeffPaul, davidbaumwald, desrosj, bedas, poena, costdev, mukesh27, azaozz, aristath.
    See #55985.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55270 602fd350-edb4-49c9-b593-d223f7449a82

commit e7b5f314628cfa1513b5c282a841869781c8c47e
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Tue Feb 7 15:53:13 2023 +0000

    External Libraries: Update miscellaneous libraries to their latest versions.
    
    This updates the following external libraries to their latest versions:
    
    - `polyfill-library` from `4.4.0` to `4.7.0`.
    - `regenerator-runtime` from `0.13.9` to `0.13.11`.
    
    These updates are minor without any breaking changes.
    
    These libraries are no longer used by Core itself and maintained as a courtesy. Any projects relying on them should reevaluate their usage as modern browsers have made these almost entirely unnecessary.
    
    Fixes #57646.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55269 602fd350-edb4-49c9-b593-d223f7449a82

commit de76093b277bacc2db75f0d55b1af225b809c0bf
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Feb 7 15:50:14 2023 +0000

    Twenty Fifteen: Bundle Google Fonts locally.
    
    This changeset bundles the Google Fonts used by Twenty Fifteen locally in the theme folder, instead of loading them from Google servers. Existing font stylesheet handles are maintained for backward compatibilily.
    
    Props garrett-eclipse, kjellr, ocean90, SergeyBiryukov, westonruter, luminuu, audrasjb, jhoffmann, jffng, paapst, cbirdsong, webcommsat, kau-boy, MatthiasReinholz, sabernhardt, hellofromTonya, JeffPaul, davidbaumwald, desrosj, bedas, poena, costdev, mukesh27, azaozz, aristath.
    See #55985.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55268 602fd350-edb4-49c9-b593-d223f7449a82

commit 44fbfb229066fa274dc7339a4aa25d005681ac4e
Author: audrasjb <audrasjb@602fd350-edb4-49c9-b593-d223f7449a82>
Date:   Tue Feb 7 15:43:01 2023 +0000

    Twenty Sixteen: Bundle Google Fonts locally.
    
    This changeset bundles the Google Fonts used by Twenty Sixteen locally in the theme folder, instead of loading them from Google servers. Existing font stylesheet handles are maintained for backward compatibilily.
    
    Props garrett-eclipse, kjellr, ocean90, SergeyBiryukov, westonruter, luminuu, audrasjb, jhoffmann, jffng, paapst, cbirdsong, webcommsat, kau-boy, MatthiasReinholz, sabernhardt, hellofromTonya, JeffPaul, davidbaumwald, desrosj, bedas, poena, costdev, mukesh27, azaozz, aristath.
    See #55985.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55267 602fd350-edb4-49c9-b593-d223f7449a82

commit 6fa564122d89738859411c1a06ca1c2695372316
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Feb 7 15:29:30 2023 +0000

    Twenty Seventeen: Bundle Google Fonts locally.
    
    This changeset bundles the Google Fonts used by Twenty Seventeen locally in the theme folder, instead of loading them from Google servers. Existing font stylesheet handles are maintained for backward compatibilily.
    
    Props luminuu, audrasjb, jhoffmann, jffng, paapst, cbirdsong, webcommsat, kau-boy, MatthiasReinholz, sabernhardt, hellofromTonya, JeffPaul, davidbaumwald, desrosj, bedas, poena, costdev, azaozz, aristath.
    See #55985.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55266 602fd350-edb4-49c9-b593-d223f7449a82

commit 4b0a40500161c81c3d9b74ab5a1bb29dd1410234
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Feb 7 15:23:26 2023 +0000

    Quick/Bulk Edit: Remove the `bulk_edit_posts` action for now.
    
    This reverts [55108] pending confirmation that this hook is still needed, that the right variable is passed, and that the docs are correct.
    
    The necessity and implementation of this hook will be reconsidered in a future release.
    
    See #28112.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55265 602fd350-edb4-49c9-b593-d223f7449a82

commit 73d8988e4d009c3bddd7344ab47e282d6a7de57c
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Feb 7 14:58:08 2023 +0000

    Tests: Use `assertSameSets()` in `WP_Query` tests for `search_columns` argument.
    
    This aims to resolve intermittent test failures due to indeterminate sort order.
    
    Follow-up to [55248].
    
    Props petitphp, costdev, audrasjb, johnbillion.
    Fixes #43867.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55264 602fd350-edb4-49c9-b593-d223f7449a82

commit 74228912101ee09bd0a73353e53830d769e15800
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Feb 7 14:38:39 2023 +0000

    Administration: Define the `$title` global on privacy screens.
    
    This brings more consistency with other screens and avoids a PHP warning in `get_plugin_page_hookname()`:
    {{{
    preg_replace(): Passing null to parameter #3 ($subject) of type array|string is deprecated
    }}}
    
    Props ipajen, jrf, SergeyBiryukov.
    Fixes #57578.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55263 602fd350-edb4-49c9-b593-d223f7449a82

commit 67662cbe1b3dfe37d1effcb29dfb3b1352d92a33
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Feb 7 14:33:44 2023 +0000

    Media: Introduce `wp_get_attachment_link_attributes` filter.
    
    This changeset introduces the `wp_get_attachment_link_attributes` hook to allow developers to filter the link attributes when getting the attachment link.
    
    Props NathanAtmoz, aaroncampbell, antpb, costdev.
    Fixes #41574.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55262 602fd350-edb4-49c9-b593-d223f7449a82

commit 3ba96e225d999394e31b72f3118bccab1b099253
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Feb 7 14:03:26 2023 +0000

    Privacy: Add `rel="privacy-policy"` to the Privacy Policy link.
    
    This changeset adds a `rel="privacy-policy"` attribute to user-facing links to the Privacy Policy of the website, when a privacy policy page is set and available. While this `rel` value is still a RFC of the Link Types HTML specification, this changeset helps to make Privacy Policy link more discoverable for user agents and HTML parsers.
    
    Props dshanske, audrasjb, bhavz-10, bookwyrm, faisal03, JeffPaul, peterwilsoncc, paapst, davidbaumwald, costdev, robinwpdeveloper, kawserz.
    Fixes #56345.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55261 602fd350-edb4-49c9-b593-d223f7449a82

commit 4c535ee6d5edc1d6f02c5f79cf5139b259cc9032
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Feb 7 13:51:39 2023 +0000

    Users: Pass correct number of arguments to `send_auth_cookies` filter in `wp_clear_auth_cookie()`.
    
    Follow-up to [55164], [55253], [55259].
    
    Props mukesh27.
    See #56971.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55260 602fd350-edb4-49c9-b593-d223f7449a82

commit 1667230298244bea1816ebeed665d2ac4a06bed5
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Feb 7 13:44:09 2023 +0000

    Users: Pass the authentication scheme to the `send_auth_cookies` filter.
    
    This brings more consistency with the `set_auth_cookie` and `set_logged_in_cookie` hooks.
    
    Follow-up to [55164], [55253].
    
    See #56971.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55259 602fd350-edb4-49c9-b593-d223f7449a82

commit b60ccbdb266567a20d54357095ee0374b68169f9
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Feb 7 13:26:46 2023 +0000

    General: Check that `set_time_limit()` function is available before using it in core.
    
    This avoids a fatal error if the function is disabled on certain environments.
    
    Props theode, jokerrs, johnbillion, hellofromTonya, costdev, jrf, azaozz, SergeyBiryukov.
    Fixes #55711.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55258 602fd350-edb4-49c9-b593-d223f7449a82

commit 4a2d96ee6bba4cc1260dc912e91c06deef2c7cad
Author: Riad Benguella <youknowriad@git.wordpress.org>
Date:   Tue Feb 7 12:57:52 2023 +0000

    Block Editor: Updates the WordPress packages with all the fixes targetted for WP 6.2 beta1.
    
    Includes the following changes
    
    - Fix multi entities saved state in the post editor
    - Adds a global save button to the site editor
    - Shadow: move shadow to own panel
    - [Block Editor]: Lock __experimentalBlockInspectorAnimation setting
    - useBlockSync: change subscribed.current on unsubscribe
    - [Block Library - Gallery]: Minor code quality update
    - [Patterns]: Reorder pattern categories
    - Fix inline preview infinite render
    - Show a pointer/hint in the settings tab informing the user about the styles tab
    - I18N: update string concatenation method in read more block
    - LocalAutosaveNotice: use stable notice id to prevent double notices
    - Navigation: Remove the IS_GUTENBERG_PLUGIN check around block_core_navigation_parse_blocks_from_menu_items
    
    Props mamaduka, ntsekouras, kebbet.
    See #57471.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55257 602fd350-edb4-49c9-b593-d223f7449a82

commit dcd1ba9330c23d3745c154eb11069ac6288c0665
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Tue Feb 7 12:47:30 2023 +0000

    Options, Meta APIs: Add a filter to allow the shortcut return to `wp_load_alloptions` function.
    
    Add a new filter `pre_wp_load_alloptions` in the `wp_load_alloptions` function to short circuit the return value.
    
    Props pbearne, spacedmonkey, joyously, SergeyBiryukov, mukesh27, costdev.
    Fixes #56045.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55256 602fd350-edb4-49c9-b593-d223f7449a82

commit daee07405bcae02dc3c88a15d59922c8d34c91c2
Author: Jorge Costa <jorgefilipecosta@git.wordpress.org>
Date:   Tue Feb 7 12:40:44 2023 +0000

    Block editor: Add frontend block-level settings to the core.
    
    This commit adds block-level settings in the core. Block level settings allow a block to define the preset settings of its nested blocks using the same shape as theme.json.
    
    Props oandregal, Mamaduka, jorgefilipecosta, dmsnell, adamziel.
    57651 #57651.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55255 602fd350-edb4-49c9-b593-d223f7449a82

commit 6636a6979fe3d715d7b475d3a27065bc73686a21
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Feb 7 12:38:01 2023 +0000

    Revisions: Add a way to filter the revisions considered for deletion.
    
    This changeset introduces a new filter for `wp_save_post_revision()`. `wp_save_post_revision_revisions_before_deletion` passes the revisions to be considered for deletion, and the new revision's post ID.
    
    This allows extenders to exclude specific revisions from being considered for deletion.
    
    Props jhned, costdev, audrasjb, adamsilverstein, mukesh27.
    Fixes #57320.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55254 602fd350-edb4-49c9-b593-d223f7449a82

commit 3a9555ab84e21d8d6a66925c524872666134187a
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Feb 7 12:28:32 2023 +0000

    Users: Change parameters order in `send_auth_cookies` filter.
    
    This changeset makes this filter more consistent with `set_auth_cookie` and `set_logged_in_cookie` hooks.
    
    Follow-up to [55164].
    
    Props SergeyBiryukov, audrasjb, mukesh27 , costdev.
    Fixes #56971.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55253 602fd350-edb4-49c9-b593-d223f7449a82

commit 35a678b0e60837c85a16005ec27b1bc867f5dd53
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Tue Feb 7 12:07:46 2023 +0000

    Taxonomy: Implement `wp_cache_get_multiple` in `wp_queue_posts_for_term_meta_lazyload`.
    
    In [47938] the `wp_cache_get_multiple` function was added to core. This function allows for multiple cache keys to be received from cache in a single function call. `wp_queue_posts_for_term_meta_lazyload` function does many calls to cache. To get taxonomy relationship for multiple posts and get all terms. Replace calls to `get_object_term_cache` with calls to `wp_cache_get_multiple` and `_prime_term_caches`. This improves performance on sites that implement the `wp_cache_get_multiple` in their object caching drop-in.
    
    Props spacedmonkey, ocean90, SergeyBiryukov, costdev, flixos90, joemcgill, 10upsimon.
    Fixes #57150.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55252 602fd350-edb4-49c9-b593-d223f7449a82

commit a160712797188ba64000771e2a97ec59f342ef2c
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Feb 7 12:06:33 2023 +0000

    Media: Remove unwanted quotation marks for playlist template.
    
    This changeset improves the way quotation marks are handled in the Playlist template.
    
    Follow-up to [27239], [33643 ].
    
    Props hvar, Presskopp, sabernhardt, james-roberts, arrasel403, abidhasan112, robinwpdeveloper, costdev, mukesh27.
    Fixes #50865.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55251 602fd350-edb4-49c9-b593-d223f7449a82

commit face5a97dd2611da21e2d19124da47a40c36edc2
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Feb 7 09:24:00 2023 +0000

    Build/Test Tools: Add unit tests for `wp_set_password` hook.
    
    Follow-up to [55056].
    
    Props audrasjb, SergeyBiryukov, costdev.
    Fixes #57436.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55250 602fd350-edb4-49c9-b593-d223f7449a82

commit e146f22ddf1b956ec99a823d8c71191375a84cb2
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Feb 7 09:06:51 2023 +0000

    Media: Maintain the functionnality of the deprecated `WP_Media_List_Table::column_desc()` method.
    
    Follow-up to [55159].
    
    Props peterwilsoncc, costdev, mukesh27.
    Fixes #39710.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55249 602fd350-edb4-49c9-b593-d223f7449a82

commit 4b6d7ebbc5bf9053384cb5851e01629fe2d5e66e
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Feb 7 08:53:01 2023 +0000

    Query: Add a `search_columns` argument to control which fields are searched in a search query.
    
    Previously, the `s` argument of the `WP_Query::parse_query()` method searched the `post_title`, `post_excerpt`, and `post_content` fields, with no way of controlling this apart from using the `posts_search` filter and adjusting the SQL manually. This changeset adds the ability to specify which fields are searched when performing a query, using the `search_columns` argument.
    
    Props johnbillion, birgire, petitphp, audrasjb, costdev, mukesh27.
    Fixes #43867.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55248 602fd350-edb4-49c9-b593-d223f7449a82

commit 0d0812c52d73362c5a0430882c46924198a0fae0
Author: Riad Benguella <youknowriad@git.wordpress.org>
Date:   Tue Feb 7 07:14:11 2023 +0000

    Site Editor: Backport site editor intialization changes from Gutenberg 15.1
    
    The site editor has been updated to not require the "home template" setting.
    This removes the key from the settings passed to the frontend.
    
    Props flixos90, hellofromtonya, ntsekouras.
    Fixes #57480.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55247 602fd350-edb4-49c9-b593-d223f7449a82

commit 07fc9b2d7449314ee658d764ce162e99cef6783b
Author: Riad Benguella <youknowriad@git.wordpress.org>
Date:   Tue Feb 7 07:01:56 2023 +0000

    Block Editor: Updated the WordPress packages to include Gutenberg 15.1.0 changes.
    
    In addition to all the packages being updated to the latest versions,
    this commit also includes some mandatory changes to avoid editor breakage:
    
     - Update React to to 18.2.0.
     - Add the right stylesheets to support iframed block editors.
    
    Props ntsekouras, mamaduka, flixos90, desrosj, peterwilsoncc.
    See #57471.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55246 602fd350-edb4-49c9-b593-d223f7449a82

commit d46dc08342c8e90e16289ae850097d6a31118cd6
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Tue Feb 7 03:32:43 2023 +0000

    Formatting: Guard `wp_strip_all_tags()` against fatal errors.
    
    Check the input of `wp_strip_all_tags()` before passing it to `strip_tags()`. This protects against fatal errors introduced in PHP 8, retaining the `E_USER_WARNING` from PHP 7, and prevents a PHP 8.1 deprecation notice when passing null.
    
    Props chocofc1, costdev, jrf, dd32, audrasjb, peterwilsoncc.
    Fixes #56434.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55245 602fd350-edb4-49c9-b593-d223f7449a82

commit 9d8e1ae0689ac5bb1b78d67a90364814b04abc81
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Tue Feb 7 03:15:49 2023 +0000

    Filesystem API: Add test for uncovered `WP_Error` in `move_dir()`.
    
    Introduces a test for the `WP_Error` object `destination_not_deleted_move_dir` in the `move_dir()` function.
    
    Follow up to [55226].
    
    Props costdev, mukesh27.
    Fixes #57375.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55244 602fd350-edb4-49c9-b593-d223f7449a82

commit 0708727a88406aa25631612bfc4206226fbcb0a2
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Tue Feb 7 03:08:26 2023 +0000

    Embeds: Use documented mixcloud.com oembed endpoint.
    
    Adds a trailing slash to the mixcloud.com oembed endpoint to match the documented version.
    
    Follow up to [55068].
    
    Props jeherve, matclayton.
    Fixes #57376.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55243 602fd350-edb4-49c9-b593-d223f7449a82

commit a697d6c3731e968fdc6ec7ed57b926b8fbde12d1
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Tue Feb 7 02:54:06 2023 +0000

    Embeds: Update YouTube provider for live URLs.
    
    YouTube Live stream URLs can take the form of `youtube.com/live/videocode`. This registers the URL format for the oembed provider.
    
    Props slieschke, costdev.
    Fixes #57632.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55242 602fd350-edb4-49c9-b593-d223f7449a82

commit e88660bc38f98c698ba2490c678fea9e1c2fab2b
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Mon Feb 6 21:35:25 2023 +0000

    Emoji: Fix emoji feature detection.
    
    The emoji feature detection that occurs on every page load by default has been broken at least since [45769], causing the feature detection to fail for browsers that in fact support emoji correctly. This has led to the `wp-emoji-release.min.js` file being loaded unnecessarily even in modern browsers, which accounts for roughly 4.7 KB of extra JavaScript on every page load.
    
    This changeset fixes the feature detection, by using the correct sequences of char codes.
    
    Props sergiomdgomes, dmsnell, peterwilsoncc.
    Fixes #57301.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55241 602fd350-edb4-49c9-b593-d223f7449a82

commit d69b60e7caeffe5e713aeb422b59ec9b6c99ca3e
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Mon Feb 6 21:34:56 2023 +0000

    Coding Standards: Add missing escaping function in `Custom_Image_Header::show_header_selector()`.
    
    Props chintan1896, SergeyBiryukov.
    Fixes #57638.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55240 602fd350-edb4-49c9-b593-d223f7449a82

commit 9f772e8805c9a1df99513a6e8f6d349c517f25fe
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Mon Feb 6 21:28:15 2023 +0000

    Users: Update `get_avatar_url()` and `get_avatar()` to include RoboHash support.
    
    Follow-up to [55238].
    
    Fixes #57493.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55239 602fd350-edb4-49c9-b593-d223f7449a82

commit 83909d1660f0dba319a364f0e747ae8f572d550e
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Mon Feb 6 21:17:14 2023 +0000

    Users: Add support for RoboHash Gravatar images in default user profile pics.
    
    Gravatar includes support for RoboHash auto-generated images. This changeset adds it to the built-in feature for user profile images.
    
    See Gravatar docs: https://en.gravatar.com/site/implement/images/.
    
    Props juliobox, audrasjb.
    Fixes #57493.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55238 602fd350-edb4-49c9-b593-d223f7449a82

commit f78f1ba8e055327f1423cac17661cfad50957c78
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Mon Feb 6 20:57:05 2023 +0000

    External Libraries: Update jQuery Migrate to version 3.4.0.
    
    A full list of changes in this release can be found upstream on the jQuery Migrate GitHub repository:
    https://github.com/jquery/jquery-migrate/compare/3.3.2...3.4.0.
    
    Props desrosj, audrasjb, a4jpcom, stalukder03, mukesh27, adeltahri, robinwpdeveloper, mahbubshovan.
    Fixes #56743.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55237 602fd350-edb4-49c9-b593-d223f7449a82

commit 84a59fe5f7e9f9b32c680b4cef3f5943acb5ff38
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Mon Feb 6 19:57:41 2023 +0000

    Themes: Add caching to `WP_Theme::is_block_theme()`.
    
    This changeset adds a `block_theme` entry in the theme cache data, similar to the existing entries `headers`, `errors`, `stylesheet`, and `template`.
    
    Props spacedmonkey, costdev, joemcgill, flixos90, mukesh27, adamsilverstein.
    Fixes #57114.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55236 602fd350-edb4-49c9-b593-d223f7449a82

commit 195393fdbbe798a5a8f4e1028c0f844766a65d40
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Mon Feb 6 19:41:25 2023 +0000

    Editor: Use `WP_HTML_Tag_Processor` in `wp_render_elements_support()`.
    
    Props ntsekouras.
    Fixes #57642.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55235 602fd350-edb4-49c9-b593-d223f7449a82

commit 363ed924630edcca2cc6a3d201385ab8df4dcab1
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Mon Feb 6 19:38:08 2023 +0000

    Editor: Support the `block_types` and `viewport_width` props for remote patterns fetched from Pattern Directory.
    
    Props ntsekouras, ironprogrammer, hellofromtonya, flixos90.
    Fixes #57611.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55234 602fd350-edb4-49c9-b593-d223f7449a82

commit a5ee8d64c6c49d95e08f1c8297eb2bd10a7b0fe9
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Mon Feb 6 18:53:27 2023 +0000

    Build/Test Tools: Update npm dependencies for bundled themes.
    
    This applies several dependency version updates to Twenty Nineteen, Twenty Twenty, and Twenty Twenty-One.
    
    `npm audit fix` has also been run to automatically fix any packages with reported vulnerabilities.
    
    See #57535.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55233 602fd350-edb4-49c9-b593-d223f7449a82

commit 153d7c758da9e5b3f3bb43ad7e0762e91dd4a438
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Mon Feb 6 18:42:33 2023 +0000

    Build/Test Tools: Update `json2php` package.
    
    This updates the `json2php` package to the latest version, which is currently `0.0.7`.
    
    See #57535.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55232 602fd350-edb4-49c9-b593-d223f7449a82

commit 97a0b1e7f3aae691f219d0a793d69e30db4fec2f
Author: Jorge Costa <jorgefilipecosta@git.wordpress.org>
Date:   Mon Feb 6 15:31:50 2023 +0000

    Block editor: Update WP_Theme_JSON_Resolver and improve its performance.
    
    This commit includes the latest updates WP_Theme_JSON_Resolver class made in the block editor. Some of these updates improve the performance of the class.
    
    Props Mamaduka, hellofromTonya, flixos90, jorgefilipecosta, oandregal, spacedmonkey, audrasjb, costdev, scruffian.
    Closes #57545.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55231 602fd350-edb4-49c9-b593-d223f7449a82

commit 38f74685cd0dcbdd1cb700035f22fb6a8a6e5510
Author: Jorge Costa <jorgefilipecosta@git.wordpress.org>
Date:   Mon Feb 6 15:22:38 2023 +0000

    Block editor: Add ID support to block wrapper attributes.
    
    This commit adds support for the ID attribute for dynamically rendered blocks.
    
    Props Soean, flixos90, poena, costdev, Mamaduka.
    Closes #56852.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55230 602fd350-edb4-49c9-b593-d223f7449a82

commit 4122c031d22e0e0c5fb9472c3b8d2202971599d6
Author: SergeyBiryukov <SergeyBiryukov@602fd350-edb4-49c9-b593-d223f7449a82>
Date:   Mon Feb 6 14:46:01 2023 +0000

    Upgrade/Install: Send language pack updates to `copy_dir()`.
    
    If the `clear_working` flag in `WP_Upgrader::install_package()` is false, the source should not be removed, so `copy_dir()` should be used instead.
    
    Partial updates, like language packs, may want to retain the destination. If the destination exists or has contents, this may be a partial update, and the destination should not be removed, so `copy_dir()` should be used instead.
    
    Follow-up to [55204], [55219], [55220], [55223], [55226].
    
    Props afragen, costdev, swissspidy.
    See #57557.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55229 602fd350-edb4-49c9-b593-d223f7449a82

commit 21887884e524247dfd5e59230209a44c706de5c8
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Mon Feb 6 08:57:13 2023 +0000

    Twenty Fourteen: Correctly reflect text color changes in Pullquote block.
    
    This changeset ensures text color changes on Pullquote block are reflected on both front-end and in the editor.
    
    Props umesh84, audrasjb, sabernhardt, bgoewert, ruchirj, amitbarai013, robinwpdeveloper, shamayel007.
    Fixes #56006.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55228 602fd350-edb4-49c9-b593-d223f7449a82

commit 1a028ccf8d70a278a7f5b11a2b50115099b7e133
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Mon Feb 6 08:24:59 2023 +0000

    Twenty Sixteen: Fix Gallery block images alignement.
    
    This changeset fixes an alignment issue that has been present since the gallery block markup was changed in WordPress 6.0.
    
    Props silicium23, zoonini, sabernhardt, bgoewert, ira2910, tahminar27.
    Fixes #56412.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55227 602fd350-edb4-49c9-b593-d223f7449a82

commit 3524ab90921b5b66a1bc23cb9360bff4fd04546d
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Mon Feb 6 04:19:37 2023 +0000

    Filesystem API: Prevent fatal error in `move_dir()`.
    
    Correctly instantiate `WP_Error()` within `move_dir()` to prevent a fatal error when unable to delete an existing directory that is intended to be replaced.
    
    Follow-up to [55204], [55219], [55220], [55223].
    
    Props swissspidy, costdev, afragen.
    Fixes #57375.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55226 602fd350-edb4-49c9-b593-d223f7449a82

commit ec83fd83fbb01ebbbff87fb0a7e6c05cd24b0374
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Feb 5 00:18:35 2023 +0000

    Upgrade/Install: Silence Requests deprecations before preloading.
    
    Intentional preloading of Requests 2.x classes and interfaces using their old (Requests 1.x) names should not produce deprecation notices.
    
    This commit defines `REQUESTS_SILENCE_PSR0_DEPRECATIONS` as `true` in `_preload_old_requests_classes_and_interfaces()`.
    
    Follow-up to [54997], [55007], [55046].
    
    Props costdev, afragen, jrf.
    Fixes #54504.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55225 602fd350-edb4-49c9-b593-d223f7449a82

commit 81f31d6fd82112a65d9a566dcebd1a134287d9fe
Author: Pascal Birchler <swissspidy@git.wordpress.org>
Date:   Sat Feb 4 20:45:36 2023 +0000

    I18N: Improve method names in `WP_Locale_Switcher()`.
    
    This is a follow-up to [55161] to rename `::get_current_locale()` to `::get_switched_locale()` and `::get_current_user_id()` to `::get_switched_user_id()` for improved clarity.
    
    Also:
    
    * Fix docblock for `switch_locale` filter. The User ID is `false` if missing, not `null`.
    * Add additional test involving `restore_previous_locale()` and improve test cleanup.
    
    And most importantly: happy birthday ocean90! 🎂
    
    Props johnjamesjacoby, ocean90.
    See #57123.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55224 602fd350-edb4-49c9-b593-d223f7449a82

commit c4cba6d49c301e85f8abb766bbdfd946d61066ce
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Feb 4 15:35:29 2023 +0000

    Filesystem API: Simplify two conditionals in `move_dir()`.
    
    This updates the check whether the destination directory already exists to only call `$wp_filesystem->exists()` once.
    
    Follow-up to [55204], [55219], [55220].
    
    Props azaozz, afragen, SergeyBiryukov.
    Fixes #57375.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55223 602fd350-edb4-49c9-b593-d223f7449a82

commit 1226afc5a4e494e08b3796d5691193d6d6290fb2
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Feb 4 15:16:13 2023 +0000

    Docs: Use consistent format for the `@return` tags in `_wp_object_name_sort_cb()` and `_wp_object_count_sort_cb()`.
    
    Both functions are used as a callback for `uasort()`.
    
    Follow-up to [36013], [55214].
    
    See #57358, #56792.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55222 602fd350-edb4-49c9-b593-d223f7449a82

commit d90afeeb695c2bc328ceb3fc50edaec587cd46a4
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Sat Feb 4 07:08:22 2023 +0000

    Media: Properly escape Download row action link in Media List Table.
    
    Props joedolson, pbiron, audrasjb.
    Fixes #57574.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55221 602fd350-edb4-49c9-b593-d223f7449a82

commit ca76a8d907454a8af525cdf9598dce7bb42cea5e
Author: Andrew Ozz <azaozz@git.wordpress.org>
Date:   Sat Feb 4 03:29:43 2023 +0000

    Upgrade/Install: Use `move_dir()` instead of `copy_dir()` in `WP_Upgrader::install_package()` when possible. This would make the filesystem operations a lot faster in most cases, and potentially reduce failures.
    
    Props: afragen, costdev, peterwilsoncc, pbiron, mukesh27, SergeyBiryukov, azaozz.
    Fixes: #57557.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55220 602fd350-edb4-49c9-b593-d223f7449a82

commit d8e7eef76d96ee89578e81a3296abf3373e0f03b
Author: Andrew Ozz <azaozz@git.wordpress.org>
Date:   Sat Feb 4 01:06:57 2023 +0000

    Filesystem API: Update `move_dir()` to better handle the differences in the `WP_Filesystem::move()` methods.
    
    Changes `move_dir()` to attempt to delete the destination when overwriting, before calling `WP_Filesystem::move()`.
    
    Props: afragen, costdev, azaozz.
    Fixes: #57375.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55219 602fd350-edb4-49c9-b593-d223f7449a82

commit 73ebc7660c647e2834f32817adf9eab25251b02e
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Fri Feb 3 22:23:19 2023 +0000

    Media: Hide 'view' link if empty string passed to attachment_link.
    
    Fix empty href attribute on 'View' link when the `attachment_link` filter is used to hide attachment pages.
    
    Props oh_hello, iqbalrony.
    Fixes #54824.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55218 602fd350-edb4-49c9-b593-d223f7449a82

commit 56fdee27eb2748cd55320737450d3346a06cbad4
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Fri Feb 3 19:23:40 2023 +0000

    Media: Pass `$size` argument to `get_attached_file` filter.
    
    Pass the new `$size` argument on `get_attached_file()` to `get_attached_file` filter. Follow up to [55199].
    
    Props SergeyBiryukov, joedolson.
    Fixes #51780.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55217 602fd350-edb4-49c9-b593-d223f7449a82

commit 8900fdfd7635786a9355ce97add090764895d1e7
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Fri Feb 3 18:23:55 2023 +0000

    Editor: Add missing `WP_Theme_JSON::process_blocks_custom_css()` method.
    
    Follow up to [55192].
    
    Props aristath, mamaduka, mukesh27, hellofromtonya.
    Fixes #57621.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55216 602fd350-edb4-49c9-b593-d223f7449a82

commit 97aeca6f73fa3cc9e099d3667d173c231e2e45c6
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Fri Feb 3 16:15:55 2023 +0000

    Query: Revert [55169].
    
    Revert [55169] and mark #56689 as wontfix. `get_page_by_path` can not use `WP_Query`, as is results in fatel errors for those using `get_page_by_path` in the `pre_get_posts` action or `posts_pre_query` filter. This sadly means that `WP_Query` can never be used in `get_page_by_path`.
    
    Props spacedmonkey, iandunn, mukesh27, joemcgill, adamsilverstein, otto42.
    See #56689.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55215 602fd350-edb4-49c9-b593-d223f7449a82

commit b7db42f94e21406c223a040e784a10b163d343a7
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Fri Feb 3 15:42:11 2023 +0000

    Fix a PHP 8 deprecation warning in `category-template.php` `uasort()` helper.
    
    Props Webrocker, jigar-bhanushali, jrf, audrasjb, costdev.
    Fixes #57358.
    See #56790.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55214 602fd350-edb4-49c9-b593-d223f7449a82

commit bd4d4af7849320678c7617e7ca1aed6cf87f1406
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Feb 3 14:45:42 2023 +0000

    Docs: Capitalize `X-Pingback` in `discover_pingback_server_uri()` DocBlock.
    
    Follow-up to [55210], [55211], [55212].
    
    See #54225.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55213 602fd350-edb4-49c9-b593-d223f7449a82

commit e83ea74dce59ab03dc174f2a347451e5668730b7
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Feb 3 14:39:31 2023 +0000

    HTTP API: Restore one instance of the `X-Pingback` header capitalization.
    
    The revert in the previous commit appears to be accidental.
    
    Follow-up to [55210], [55211].
    
    See #54225.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55212 602fd350-edb4-49c9-b593-d223f7449a82

commit 5c840d93bb833cd1ba5834499a602edc4530545f
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Fri Feb 3 13:51:11 2023 +0000

    HTTP API: Fix a unit test failure found after [55210].
    
    Follow-up to [55210].
    
    See #54225.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55211 602fd350-edb4-49c9-b593-d223f7449a82

commit 8fbe21a37a2649c7f0ee140d2a99fe72ca73c94e
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Fri Feb 3 13:33:18 2023 +0000

    HTTP API: Fix request header inconsistencies.
    
    This changeset improves the consistency in capitalization of fetching and outputting of request headers. It also updates occurrences found in some docblocks.
    
    Props johnjamesjacoby, costdev, audrasjb, petitphp, mhkuu, SergeyBiryukov.
    Fixes #54225.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55210 602fd350-edb4-49c9-b593-d223f7449a82

commit 4b71b1565ac140c64b595d961e1871802cf185bf
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Fri Feb 3 12:46:18 2023 +0000

    Media: Replace consecutive periods in `sanitize_file_name()`.
    
    On some servers, consecutive periods in a filename can cause a 403 Forbidden response.
    This changeset replaces consecutive periods with a single period, and adds related unit tests.
    
    Props ArtZ91, costdev, SergeyBiryukov, arthurshlain, mukesh27.
    Fixes #57242.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55209 602fd350-edb4-49c9-b593-d223f7449a82

commit 4833e2c06f747754c432e7b00d617ce91d790af6
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Fri Feb 3 04:03:00 2023 +0000

    Posts, Post Types: Add test coverage for `_truncate_post_slug()`.
    
    Props xknown, mukesh27, costdev, audrasjb.
    Fixes #56868.
    See #56793.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55208 602fd350-edb4-49c9-b593-d223f7449a82

commit 0138b0dcd6a90fada867f96ade2c2c18e62a68ca
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Fri Feb 3 03:56:10 2023 +0000

    Posts, Post Types: Deprecate `get_page_by_title()` in favour of `WP_Query`.
    
    Formally deprecate `get_page_by_title()`. In its current form the function is unpredictable in that it may return a result that leads to a 404 error and will return different results depending on the database version/engine combination used.
    
    It is recommended developers use `WP_Query` instead:
    
    {{{
    $query = new WP_Query(
     array(
      'post_type' => 'page',
      'title'     => 'Sample Page',
     )
    );
    }}}
    
    
    Props TimothyBlynJacobs, costdev, mukesh27, spacedmonkey, peterwilsoncc.
    Fixes #57041.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55207 602fd350-edb4-49c9-b593-d223f7449a82

commit f0cbb9dde4e929194ceed9b23bb208fa95ee0864
Author: Andrew Ozz <azaozz@git.wordpress.org>
Date:   Fri Feb 3 02:12:36 2023 +0000

    Fix couple of typos in inline docs.
    
    Props: ironprogrammer.
    See #57575.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55206 602fd350-edb4-49c9-b593-d223f7449a82

commit b85f581714c625f161b2ca43d5618b61460829ea
Author: Andrew Ozz <azaozz@git.wordpress.org>
Date:   Fri Feb 3 01:57:31 2023 +0000

    Docs: Document directory support in `FTP/SSH2` filesystem `::move()` methods.
    
    Props: costdev, flixos90, audrasjb.
    Fixes: #57604.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55205 602fd350-edb4-49c9-b593-d223f7449a82

commit 5872edc052e74f8eb95d2b68be814b5fe7b4fece
Author: Andrew Ozz <azaozz@git.wordpress.org>
Date:   Fri Feb 3 01:48:36 2023 +0000

    Filesystem API: Add directory support to `WP_Filesystem_Direct::move()`.
    
    Introduces:
    - New function: `wp_opcache_invalidate_directory()`, to recursively call `wp_opcache_invalidate()` after overwriting .php files.
    - New function: `move_dir()`, similar to `copy_dir()` that uses `WP_Filesystem::move()` followed by `wp_opcache_invalidate_directory()`, and has a fallback to `copy_dir()`.
    
    Props: costdev, afragen, peterwilsoncc, sergeybiryukov, ironprogrammer, flixos90, bronsonquick, mukesh27, azaozz.
    Fixes #57375.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55204 602fd350-edb4-49c9-b593-d223f7449a82

commit 39bfc2580d9b0ea7e6ff45b8d904408d925cbc4b
Author: Andrew Ozz <azaozz@git.wordpress.org>
Date:   Fri Feb 3 01:03:59 2023 +0000

    Introduce HTML API with HTML Tag Processor
    
    This commit pulls in the HTML Tag Processor from the Gutenbeg repository.
    
    The Tag Processor attempts to be an HTML5-spec-compliant parser that provides the ability in PHP to find specific HTML tags and then add, remove, or update attributes on that tag. It provides a safe and reliable way to modify the attribute on HTML tags.
    
    More information: https://github.com/WordPress/wordpress-develop/pull/3920.
    
    Props: antonvlasenko, bernhard-reiter, costdev, dmsnell, felixarntz, gziolo, hellofromtonya, zieladam, flixos90, ntsekouras, peterwilsoncc, swissspidy, andrewserong, onemaggie, get_dave, aristath, scruffian, justlevine, andraganescu, noisysocks, dlh, soean, cbirdsong, revgeorge, azaozz.
    Fixes #57575.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55203 602fd350-edb4-49c9-b593-d223f7449a82

commit 05b08caac8ddf7d75302d17512907a723e94c671
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Feb 3 00:45:24 2023 +0000

    Docs: Improve the DocBlock for `get_attached_file()`.
    
    Includes:
    * Using 3-digit format for the `@since` tag.
    * Minor wording updates and formatting corrections.
    
    Follow-up to [3203], [4612], [6379], [8203], [24983], [29090], [55199].
    
    See #51780, #56792.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55202 602fd350-edb4-49c9-b593-d223f7449a82

commit 67c8bf8e0d4d98615c3b51016a58d7f85bc269ad
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Fri Feb 3 00:34:59 2023 +0000

    Editor: Add missing controls to flex layouts in `wp_get_layout_style()`.
    
    Adds missing controls to flex layouts in `wp_get_layout_style()` for justify-content and vertical alignment options.
    
    References:
    * [https://github.com/WordPress/gutenberg/pull/47134 Gutenberg PR 47134].
    
    Follow-up to [54274].
    
    Props isabel_brison, andrewserong, jameskoster, joen, onemaggie , ndiego.
    Fixes #57602.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55201 602fd350-edb4-49c9-b593-d223f7449a82

commit 8ff58993482988856d6df72db6932a33174169f0
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Fri Feb 3 00:13:52 2023 +0000

    Widgets: Preserve classic sidebars when switching to a block theme.
    
    When switching to a block theme, classic sidebars were orphaned and their widgets remapping to the `'wp_inactive_widgets'` sidebar . This changeset preserves the sidebars and their widgets, providing a migration path to a block theme without losing the widgets.
    
    Classic sidebars are now:
    
    * Stored in a new theme mod called `'wp_classic_sidebars'`;
    * Restored to the `$wp_registered_sidebars` global variable when the `'widgets_init'` action fires (via a new internal function called `_wp_block_theme_register_classic_sidebars()`);
    * And marked as `'inactive'` when interacting with sidebars REST API endpoint.
    
    References:
    * [https://github.com/WordPress/gutenberg/pull/45509 Gutenberg PR 45509] which adds an option for importing widgets from sidebars into template parts.
    
    Follow-up to [50995], [6334].
    
    Props mamaduka, audrasjb, hellofromTonya, ironprogrammer, jameskoster, joen, matveb, mukesh27, noisysocks, poena, youknowriad.
    Fixes #57531.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55200 602fd350-edb4-49c9-b593-d223f7449a82

commit a501f4f40db8cb6563573d4b22d987457694d3b8
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Thu Feb 2 23:38:49 2023 +0000

    Media: Add argument to `get_attached_file()` for subsizes.
    
    Add a `$size` argument to `get_attached_file()` to simplify getting the path to an intermediate image size.
    
    Props paulschreiber, audrasjb, Mista-Flo.
    Fixes #51780.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55199 602fd350-edb4-49c9-b593-d223f7449a82

commit 5b49d955c24da58b65d7c946bdf32f74b6a675a3
Author: audrasjb <audrasjb@602fd350-edb4-49c9-b593-d223f7449a82>
Date:   Thu Feb 2 22:46:02 2023 +0000

    Media: Add a Download row action to the Media List Table.
    
    This changeset makes it easier for users to download their uploaded media by providing a Download row action to the Media List Table. It also rephrases the Copy URL row action for better consistency and to give room for the new Download action.
    
    Follow-up to [55156].
    
    Props pbiron, joedolson, kebbet, Mista-Flo, costdev, amin7, mukesh27.
    Fixes #57574.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55198 602fd350-edb4-49c9-b593-d223f7449a82

commit 95503d5abcdec51295c6c61a62e4786393acb5aa
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Feb 2 21:48:11 2023 +0000

    Plugins: Rephrase Add Plugins screen description for better clarity.
    
    This changeset rephrases the Add Plugins screen description to clarify the purpose of the two available options for installing plugins.
    
    Props tahmidulkarim, audrasjb, costdev, ryokuhi, krupalpanchal, SergeyBiryukov.
    Fixes #57155.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55197 602fd350-edb4-49c9-b593-d223f7449a82

commit 522c6b83d1b6a5fc174ba0c297b97da6ab50854d
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Feb 2 21:29:53 2023 +0000

    I18N: Pass `$locale` parameter to `override_load_textdomain` filter.
    
    In [53874] the `$locale` parameter was added to `load_textdomain()` so it can be used to properly fill `WP_Textdomain_Registry`. Since `$locale` may not be the same value as `determine_locale()` returns (e.g. when filtered by `plugin_locale` in `load_plugin_textdomain()`) this changeset also passes the `$locale` parameter to the filter so custom file loading implementations are using the same locale as `load_textdomain()` got.
    
    Follow-up to [53874].
    
    Props ocean90, cadic, SergeyBiryukov, swissspidy, costdev.
    Fixes #57056.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55196 602fd350-edb4-49c9-b593-d223f7449a82

commit b46bb7715cc4ab2615260c8f734bc24cd8d8dbb3
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Feb 2 20:23:01 2023 +0000

    Help/About: Update help tab texts to consistently describe button labels.
    
    This changeset ensures help tab texts consistently refer to the related button labels.
    
    Props kebbet, costdev.
    Fixes #57608.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55195 602fd350-edb4-49c9-b593-d223f7449a82

commit e53d61ac01bf5c3795e242dda0c6b1b2c75bc49b
Author: Jorge Costa <jorgefilipecosta@git.wordpress.org>
Date:   Thu Feb 2 19:36:29 2023 +0000

    Editor: Remove need for template prefix in get_template_hierarchy.
    
    This commit removes the need to pass a template prefix in get_template_hierarchy.
    This is required because, in some block editor usages, the template prefix is not known.
    
    Props youknowriad, davidbaumwald, jorgefilipecosta.
    Fixes #57614.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55194 602fd350-edb4-49c9-b593-d223f7449a82

commit 99702c84eba57097596a7b0f2906e30cf96bc60a
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Thu Feb 2 18:57:39 2023 +0000

    Editor: Remove unnecessary CSS comments from compiled styles.
    
    Props aristath, adamsilverstein, SergeyBiryukov, gziolo.
    Fixes #56388.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55193 602fd350-edb4-49c9-b593-d223f7449a82

commit 7b43a6da54bfb543b163ee140983a295fc65137d
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Thu Feb 2 18:50:54 2023 +0000

    Editor: Add support for custom CSS in global styles.
    
    This changeset introduces functions `wp_get_global_styles_custom_css()` and `wp_enqueue_global_styles_custom_css()`, which allow accessing and enqueuing custom CSS added via global styles.
    
    Custom CSS via global styles is handled separately from custom CSS via the Customizer. If a site uses both features, the custom CSS from both sources will be loaded. The global styles custom CSS is then loaded after the Customizer custom CSS, so if there are any conflicts between the rules, the global styles take precedence.
    
    Similarly to e.g. [55185], the result is cached in a non-persistent cache, except when `WP_DEBUG` is on to avoid interrupting the theme developer's workflow.
    
    Props glendaviesnz, oandregal, ntsekouras, mamaduka, davidbaumwald, hellofromtonya, flixos90.
    Fixes #57536.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55192 602fd350-edb4-49c9-b593-d223f7449a82

commit 61d5704c25dad6b7c50c56a8813302c8d6b896a3
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Thu Feb 2 16:34:04 2023 +0000

    Build/Test Tools: Update npm dependencies.
    
    This updates the following npm dependencies to their latest versions:
    
    - `chalk` from `5.1.0` to `5.2.0`.
    - `dotenv-expand` from `9.0.0` to `10.0.0`.
    - `grunt-contrib-qunit` from `6.2.0` to `6.2.1`.
    - `prettier` from `2.0.5` to `2.6.2`.
    - `qunit` from `2.19.1` to `2.19.4`.
    - `sass` from `1.55.0` to `1.58.0`.
    - `sinon` from `14.0.1` to `15.0.1`.
    - `sinon-test` from `3.1.4` to `3.1.5`.
    - `source-map-loader` from `4.0.0` to `4.0.1`.
    - `uglify-js` from `3.17.3` to `3.17.4`.
    - `wait-on` from `6.0.1` to `7.0.1`.
    - `webpack` from `5.74.0` to `5.75.0`.
    
    Additionally, `npm audit fix` has been run to further update packages that may contain vulnerabilities.
    
    Props naeemhaque, mukesh27, desrosj.
    See #57535.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55191 602fd350-edb4-49c9-b593-d223f7449a82

commit 60bc074deef67d1e43b75fa0083c79be3ce06f58
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Feb 2 13:57:48 2023 +0000

    Coding Standards: Rename the `$cat_ID` variable to `$cat_id` in `wp_update_category()`.
    
    This resolves a few WPCS warnings:
    {{{
    Variable "$cat_ID" is not in valid snake_case format, try "$cat_i_d"
    }}}
    
    Follow-up to [2695], [4490], [52958].
    
    Props hilayt24, viralsampat, desrosj, robinwpdeveloper, tanazmasaba, costdev, SergeyBiryukov.
    See #56754.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55190 602fd350-edb4-49c9-b593-d223f7449a82

commit 0c97bbc1189800763203f20ed612339472150121
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Feb 2 09:23:21 2023 +0000

    Twenty Twenty-Two: Improve spacing for the legacy Post Comments block.
    
    This changeset adds margins to improve spacing in the legacy Post Comments block. This change only affects users who have not updated to the new Comments block.
    
    Props patelhitesh, audrasjb, poena, miguelaxcar.
    Fixes #57560.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55189 602fd350-edb4-49c9-b593-d223f7449a82

commit d955c72056dd98e0f0a176c06a8b147ccd8ccaee
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Feb 2 09:12:12 2023 +0000

    Themes: Increase HTTP timeout for Theme API requests.
    
    This changeset modifies the HTTP request in `themes_api()` to use the same HTTP request timeout as in `plugins_api()`, which is 15 seconds, instead of a default value of 5 seconds.
    
    Props ahortin, peterwilsoncc, dd32, costdev.
    Fixes #57315.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55188 602fd350-edb4-49c9-b593-d223f7449a82

commit dfca88265ec2f8d10daaa8376de4e8a5856faae6
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Thu Feb 2 02:14:02 2023 +0000

    Media: Fix inconsistent font weight in media detail views.
    
    Make font weight consistent between different screens and different parts of media views.
    
    Props szaqal21, sabernhardt.
    Fixes #54509.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55187 602fd350-edb4-49c9-b593-d223f7449a82

commit 4dd9160d8ed2e41cd1ebd084e97eecbfd405421c
Author: Andrew Ozz <azaozz@git.wordpress.org>
Date:   Thu Feb 2 00:51:02 2023 +0000

    Emoji: Always skip nodes with the `wp-exclude-emoji` CSS class.
    
    Patches twemoji.js to add support for a `doNotParse()` callback. Uses that callback to always exclude emojis in HTML elements with the above class.
    
    Props: dd32, peterwilsoncc, azaozz.
    Fixes #52219.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55186 602fd350-edb4-49c9-b593-d223f7449a82

commit 6b4b2eb60f6686301d0f97f77b475e8d036fe2c4
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Wed Feb 1 22:57:04 2023 +0000

    Editor: Use a non-persistent object cache instead of transient in `wp_get_global_stylesheet()`.
    
    This changeset is part of a greater effort to enhance the caching strategy for theme.json based data. Similar to [55138], [55148], and [55155], the cache is currently ignored when `WP_DEBUG` is on to avoid interrupting the theme developer's workflow.
    
    Props spacedmonkey, oandregal, flixos90, ajlende, hellofromtonya.
    Fixes #57568.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55185 602fd350-edb4-49c9-b593-d223f7449a82

commit 888e139a9413a6bd2c9864e2c4f4ab67a667797f
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Wed Feb 1 22:50:11 2023 +0000

    KSES: Allow position-related CSS properties.
    
    Adds support for the following CSS properties considered safe for inline CSS:
    * `position`
    * `top`
    * `right`
    * `bottom`
    * `left`
    * `z-index`
    
    References:
    * [https://github.com/WordPress/gutenberg/pull/46142 Gutenberg PR 46142].
    
    Follow-up to [54117].
    
    Props andrewserong, mukesh27.
    Fixes #57504.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55184 602fd350-edb4-49c9-b593-d223f7449a82

commit 26c92e5e03bc01fecf7ff2056e3b06bd00d896a4
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Wed Feb 1 22:15:04 2023 +0000

    Media: Ensure media IDs are type `int` in bulk editing.
    
    Cast all array values to integers using `array_map` so functions like `wp_delete_attachment` receiving the expected variable type.
    
    Props eherman24, joedolson.
    Fixes #56170.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55183 602fd350-edb4-49c9-b593-d223f7449a82

commit 8e091f61563222920b7f81d7f5773e67dd884683
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Wed Feb 1 21:43:27 2023 +0000

    Embeds: Add oEmbed support for crowdsignal.net surveys.
    
    Crowdsignal has a block-editor powered survey/project editor. Surveys created using this editor appear on `*.crowdsignal.net` when published. This changeset adds oEmbed support for these URLs to embed Crowdsignal surveys.
    
    Props donncha, audrasjb, Mamaduka, ntsekouras.
    Fixes #57543.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55182 602fd350-edb4-49c9-b593-d223f7449a82

commit 8edf0e8900754e214d446fc9f875718ba8b6eb8d
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Wed Feb 1 20:42:23 2023 +0000

    Editor: Add 'wp-polyfill' to _wp_get_iframed_editor_assets() for inert attribute in Firefox.
    
    Adds the polyfill script to the iframe to make the `inert` attribute work correctly in Firefox. This solves the problem that the site editor can operate on the block editor in Firefox even in browse mode.
    
    Why?
    
    The inert attribute is intended to render the element and its sub-tree elements `inert`, but Firefox doesn't support this attribute. For the `inert` attribute to work as intended in Firefox, even within an iframe, the script needs to be injected into the iframe as well as the global document.
    
    References:
    * [https://github.com/WordPress/gutenberg/pull/47398 Gutenberg PR 47398].
    
    Follow-up to [53160].
    
    Props wildworks, mamaduka, youknowriad.
    Fixes #57552.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55181 602fd350-edb4-49c9-b593-d223f7449a82

commit 4c81af47fa3412568f8a487d79bf785641033e0f
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Wed Feb 1 20:29:56 2023 +0000

    Media: Remove meta data after restoring w/IMAGE_EDIT_OVERWRITE.
    
    When IMAGE_EDIT_OVERWRITE is defined as true the meta field `_wp_attachment_backup_sizes` is deleted after an image is restored.
    
    Props mitogh, jeawhanlee, robinwpdeveloper, iapial.
    Fixes #55150.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55180 602fd350-edb4-49c9-b593-d223f7449a82

commit bd0ab0cddfdea08b8a0a1763dcfa5c8892c1308a
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Wed Feb 1 20:15:38 2023 +0000

    Editor: Separate content styles for iframe in __wp_get_iframed_editor_assets() and wp_default_styles().
    
    This changeset:
    * Removes the `'wp-block-editor'` and `'wp-block-library'` from the iframe's stylesheet collection (i.e. `_wp_get_iframed_editor_assets()`).
    * Adds the new `'wp-block-editor-content'` for the separate stylesheet to the list of editor (`'wp-edit-blocks'`) dependencies.
    
    Why?
    
    These PHP changes are part of the initiative to:
    
    * Separate the content styles contained in the block editor package into a separate stylesheet.
    * Avoid loading all block editor styles into the iframe.
    
    References:
    * [https://github.com/WordPress/gutenberg/pull/44298 Gutenberg PR 44298].
    
    Follow-up to [53160], [50761].
    
    Props ellatrix, youknowriad.
    Fixes #57550.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55179 602fd350-edb4-49c9-b593-d223f7449a82

commit 58bc356fb085148a3ba2c570205997fe6e9f1d24
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Wed Feb 1 19:45:53 2023 +0000

    Media: Fix upload not visible if added after deleting media.
    
    Unset GET parameters in the media library so they don't suppress error notifications and messages. Fix an issue where uploading an image after being redirected from deleting media did not show the new upload in the gallery.
    
    Props rnitinb, Mista-Flo, desrosj, zebaafiashama, joedolson, antpb.
    Fixes #49178.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55178 602fd350-edb4-49c9-b593-d223f7449a82

commit 36da826901d82535ecb14591fe59d3f596653726
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Wed Feb 1 18:36:08 2023 +0000

    REST API: Declare 'edit_css' capability in links within `WP_REST_Global_Styles_Controller`.
    
    Updates the Global Styles endpoint to expose the `'edit_css'` capability via action links.
    
    References:
    * [https://github.com/WordPress/gutenberg/pull/46815 Gutenberg PR 46815] Part of an effort to hide custom CSS setting for users without `'edit_css'` capability.
    
    Follow-up to [52342], [52051].
    
    Props mamaduka, dsas, glendaviesnz, mmtr86, talldanwp, timothyblynjacobs.
    Fixes #57526.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55177 602fd350-edb4-49c9-b593-d223f7449a82

commit 7374cdeb74d997096d711b08c12a52920fbf902b
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Wed Feb 1 18:05:44 2023 +0000

    Themes: Add shadow presets support for theme.json.
    
    Adds shadow presets support for `theme.json` within the `WP_Theme_JSON` by
    
    * Adding it to presets metadata and valid settings.
    * Defining the default shadow presets in Core's `theme.json`.
    
    Includes PHPUnit tests.
    
    References:
    * [https://github.com/WordPress/gutenberg/pull/46813 Gutenberg PR 46813]
    * [https://github.com/WordPress/gutenberg/pull/47272 Gutenberg PR 47272]
    
    Follow-up to [54162], [52049], [50973].
    
    Props madhudollu, mamaduka, oandregal, scruffian, hellofromTonya.
    Fixes #57559.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55176 602fd350-edb4-49c9-b593-d223f7449a82

commit f3b858cb988e61ae9e9b1118cd6263ce091a5a72
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Wed Feb 1 16:13:49 2023 +0000

    Editor: Introduce minimum height dimensions block support.
    
    This changeset adds the new dimension feature's PHP code for supporting minimum height in the block editor inspector and in global styles. Minimum height is quite useful for defining the minimum vertical dimensions of a block, while allowing it to expand beyond that size.
    
    In this changeset:
    
    * Adds support in `theme.json`.
    * Adds support in the style engine.
    * Adds support in `wp_apply_dimensions_support()`.
    * Renames the setting from `'__experimentalDimensions'` to `dimensions` in `wp_register_dimensions_support()`.
    * Adds PHPUnit tests.
    
    Is renaming `'__experimentalDimensions'` a backwards-compatibility (BC) break?
    
    Though the setting has been in the code since 5.9.0, it was never wired to anything, ie it did not expose any controls or styles. Notice in `wp_register_dimensions_support()` and `wp_apply_dimensions_support()` prior to this changeset, there are inline comments as placeholders for height and width support, but no code.
    
    If a developer opted in to use it, it had no effect.
    
    A search in wp.org's plugin and themes repo showed no instances of this experimental setting.
    
    Given there was no functionality attached to it (until this changeset), no change in behavior or effect from removing it, and no usage found in the plugins and themes repository, it does appear to be a BC break.
    
    References:
    * [https://github.com/WordPress/gutenberg/pull/45300 Gutenberg PR 45300]
    * [https://github.com/WordPress/gutenberg/pull/45334 Gutenberg PR 45334]
    
    Follow-up to [53076], [52069].
    
    Props andrewserong, aaronrobertshaw , costdev, hellofromTonya, isabel_brison, joen, paaljoachim, mukesh27, ntsekouras, oandregal, ramonopoly.
    Fixes #57582.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55175 602fd350-edb4-49c9-b593-d223f7449a82

commit 8604838832fa73c6954b0c4b09f13aa83ba2e313
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Feb 1 15:27:14 2023 +0000

    Docs: Document the `inserter` property in `WP_Block_Patterns_Registry::register()`.
    
    Follow-up to [53152], [55173].
    
    See #56792.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55174 602fd350-edb4-49c9-b593-d223f7449a82

commit d2f6c417ff17b633cc600cb33bcbff76dc78784c
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Feb 1 15:00:19 2023 +0000

    Docs: Improve documentation for block pattern properties.
    
    Includes:
    * Adding the `templateTypes` property to the `WP_Block_Patterns_Registry::register()` DocBlock.
    * Adding `@since` notes for the `postTypes` and `templateTypes` properties to:
     * `_register_theme_block_patterns()`
     * `WP_Block_Patterns_Registry::register()`
    * Bringing some consistency to the order of properties between:
     * `_register_theme_block_patterns()`
     * `WP_Block_Patterns_Registry::register()`
     * `WP_REST_Block_Patterns_Controller::prepare_item_for_response()`
     * `WP_REST_Block_Patterns_Controller::get_item_schema()`
    
    Follow-up to [52943], [53152], [54263], [55168].
    
    See #56792.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55173 602fd350-edb4-49c9-b593-d223f7449a82

commit 52e5e065b365c6fcd9a5f980b3cfb04d82d0f309
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Wed Feb 1 13:41:16 2023 +0000

    Editor: Add support for editing block style variations in global styles.
    
    To allow editing of block style variations in global styles, this changeset adds the following for server side support:
    
    * building of block style schema into `WP_Theme_JSON::sanitize()`.
    * appending of style variation selectors to block metadata in `WP_Theme_JSON::get_blocks_metadata()`.
    * building of selectors and variations for nodes in `WP_Theme_JSON::get_block_nodes()`.
    
    Tests for happy and unhappy paths are included.
    
    Reference:
    * [https://github.com/WordPress/gutenberg/pull/46343 Gutenberg PR 46343]
    
    Follow-up to [54118], [50973], [50959].
    
    Props isabel_brison,
    Fixes #57583.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55172 602fd350-edb4-49c9-b593-d223f7449a82

commit 6036ee03af6aba166ab86b0dd9357dff2e2128da
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Tue Jan 31 19:39:51 2023 +0000

    Media: Allow to omit `decoding="async"` on tags from `wp_get_attachment_image()`.
    
    When adding `decoding="async"` to images was introduced in [53480], it did not provide the ability to customize that behavior specifically for image tags returned from `wp_get_attachment_image()`.
    
    With this changeset it is now possible to explicitly provide a `decoding` value of e.g. boolean `false` in the `$attr` parameter of the function, to ensure the attribute is omitted.
    
    Props maximej, adamsilverstein, flixos90, costdev, peterwilsoncc, mukesh27.
    Fixes #57086.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55171 602fd350-edb4-49c9-b593-d223f7449a82

commit a4d42f09d9ee081abfb7eb4e29f81d62dccee72a
Author: John Blackbourn <johnbillion@git.wordpress.org>
Date:   Tue Jan 31 17:48:45 2023 +0000

    Cron API: Improve the docs for some cron event and cron schedule related functions.
    
    See #56792
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55170 602fd350-edb4-49c9-b593-d223f7449a82

commit 4ca85e7528a42f2a6e3b5f6c942e5486c471ca78
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Tue Jan 31 16:54:22 2023 +0000

    Query: Use `WP_Query` in `get_page_by_path`.
    
    Replace raw database queries in `get_page_by_path` with a call to `WP_Query` class. This has a number of benefits, including improved caching and priming of post caches. To maintain backwards compatibility, this function calls `WP_Query` to gets all matching posts of all post statuses.
    
    Props spacedmonkey, peterwilsoncc, costdev,
    Fixes #56689.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55169 602fd350-edb4-49c9-b593-d223f7449a82

commit 620760e1c173aeddf31d313eb790248031287456
Author: Jorge Costa <jorgefilipecosta@git.wordpress.org>
Date:   Tue Jan 31 16:47:58 2023 +0000

    Add: Template types to the patterns API.
    
    Backports https://github.com/WordPress/gutenberg/pull/45814 into the core.
    This commit adds a new templateType property to the patterns registration API.
    This property allows a pattern to specify which template it makes sense on, e.g.: 404, single-post, single-product, category.
    
    Props youknowriad, ntsekouras,
    spacedmonkey.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55168 602fd350-edb4-49c9-b593-d223f7449a82

commit aaf0a3366c7b7df1cde0d6d339132153047102ba
Author: Jorge Costa <jorgefilipecosta@git.wordpress.org>
Date:   Tue Jan 31 15:22:33 2023 +0000

    Update: Improve performance of gutenberg_render_layout_support_flag.
    
    Backports https://github.com/WordPress/gutenberg/pull/46074 into the core.
    render_layout_support_flag is run per block, and inside we called get_global_settings three times. get_global_settings calls get_merged_data, which is costly. render_layout_support_flag is a filter called during the block render. When the blocks start rendering, there is no expectation that the theme.json settings change during the block render, so the settings and their derived information should all be static information of this function.
    This simple change removes 3*NUMBER_OF_BLOCKS calls of get_merged_data to just one call.
    
    Props oandregal, aristath, felixarntz, tellthemachines, andrewserong, aaronrobertshaw, aaronrobertshaw.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55167 602fd350-edb4-49c9-b593-d223f7449a82

commit 3ed5f38a4d80ce6e1736f606af0e35b239d7566a
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Jan 31 12:18:52 2023 +0000

    Docs: Fix typo in the `send_auth_cookies` filter DocBlock.
    
    Follow-up to [55164], [55165].
    
    See #56971, #39367.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55166 602fd350-edb4-49c9-b593-d223f7449a82

commit 4c926bf77ccd8a360f6754b4bb2b934719a0dfae
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Jan 31 12:16:23 2023 +0000

    Docs: Remove a duplicate line in the `send_auth_cookies` filter DocBlock.
    
    Describe the default values for the `$send` and `$expire` parameters.
    
    Follow-up to [55164].
    
    See #56971, #39367.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55165 602fd350-edb4-49c9-b593-d223f7449a82

commit 186abb264d6c97dc955ecc787f29c12be3ffb33c
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Jan 31 08:44:58 2023 +0000

    Users: Add context to the `send_auth_cookies` filter.
    
    This changeset adds `$user_id`, `$expire`, `$expiration` and `$token` parameters to provide context to `send_auth_cookies` hook, which allows the filter to skip sending auth cookies.
    
    Props dd32, mukesh27, costdev, peterwilsoncc, audrasjb.
    Fixes #56971.
    See #39367.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55164 602fd350-edb4-49c9-b593-d223f7449a82

commit b74cfa8dd96637965b11377f465ea5cae7a6e641
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Jan 30 15:22:17 2023 +0000

    Code Modernization: Allow some parameters with reserved keywords in `wp-includes/class-wp-text-diff-renderer-*.php`.
    
    This commit adds inline comments instructing PHPCS to ignore parameters with reserved keywords in the affected methods that should not be renamed:
    * `$string` parameter in `WP_Text_Diff_Renderer_inline::_splitOnWords()`
    * `$final` parameter in `WP_Text_Diff_Renderer_Table::_changed()` and `::interleave_changed_lines()`
    
    This resolves a few WPCS warnings along the lines of:
    {{{
    It is recommended not to use reserved keyword "string" as function parameter name. Found: $string
    It is recommended not to use reserved keyword "final" as function parameter name. Found: $final
    }}}
    
    The two `WP_Text_Diff_Renderer_*` classes in question extend the `Text_Diff_Renderer_inline` and `Text_Diff_Renderer` classes from the `Text_Diff` package and should have the same parameters as the parent class methods, per the Task 1 section of ticket #51553.
    
    The `Text_Diff` library currently included in WordPress core is no longer kept in sync with the upstream project and can be considered “adopted”, so the `$string` and `$final` parameters in the  parent class methods can technically be renamed, e.g. to `$input_string` and `$modified`, respectively.
    
    However, the “final” wording is also used to represent modified content in other parts the library, so it is more internally consistent to keep these parameters as is for now.
    
    Follow-up to [7747], [38352], [55136].
    
    See #56788.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55163 602fd350-edb4-49c9-b593-d223f7449a82

commit 51e9aed3b70a2bc793761d876f58c5d799e4d733
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Jan 30 14:13:49 2023 +0000

    Code Modernization: Rename parameters that use reserved keywords in `wp-includes/formatting.php`.
    
    While using reserved PHP keywords as parameter name labels is allowed, in the context of function calls using named parameters in PHP 8.0+, this will easily lead to confusion. To avoid that, it is recommended not to use reserved keywords as function parameter names.
    
    This commit renames the `$class` parameter to `$classname` in `sanitize_html_class()`.
    
    Follow-up to [54927].
    
    See also: [search:?q=code+modernization+rename+parameters+that+use+reserved+keywords&changeset=on equivalent commits for other files].
    
    Props jrf, aristath, poena, justinahinon, SergeyBiryukov.
    See #56788.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55162 602fd350-edb4-49c9-b593-d223f7449a82

commit bce2a0a534f09a66fde20512b87c3a3c107225d5
Author: Pascal Birchler <swissspidy@git.wordpress.org>
Date:   Mon Jan 30 10:25:53 2023 +0000

    I18N: Introduce `switch_to_user_locale()`.
    
    This new function makes it easier to switch to a specific user’s locale by reducing duplicate code and storing the user’s ID as additional context for plugins to consume. Existing usage of `switch_to_locale()` in core has been replaced with `switch_to_user_locale()` where appropriate.
    
    Also, this change ensures `WP_Locale_Switcher` properly filters `determine_locale` so that anyyone using the `determine_locale()` function will get the correct locale information when switching is in effect.
    
    Props costdev.
    Fixes #57123.
    See #26511.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55161 602fd350-edb4-49c9-b593-d223f7449a82

commit 3b4132d6c096a8a17fa52b9e00a201985a243406
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Jan 29 16:24:02 2023 +0000

    Build/Test Tools: Back up and restore the `$wp_filters` global when running tests.
    
    Introduced along with the `did_filter()` function, the `$wp_filters` global stores the number of times each filter has been applied during the current request.
    
    This commit adds `$wp_filters` to the list of globals that are saved in `WP_UnitTestCase_Base::_backup_hooks()` and restored in `::_restore_hooks()` so that hooks set by the current test do not accidentally affect future tests.
    
    Additionally, this commit brings some consistency by backing up and restoring the hook-related globals in the same order they are defined in `wp-includes/plugin.php`.
    
    Follow-up to [29251], [53803].
    
    Props sanjucta, SergeyBiryukov.
    Fixes #57236.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55160 602fd350-edb4-49c9-b593-d223f7449a82

commit 533b9b10debbb267b9ce80f3cef2acb57fcece59
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Sat Jan 28 22:15:16 2023 +0000

    Media: Deprecate unused method `WP_Media_List_Table::column_desc()`.
    
    This changeset formally deprecates the `column_desc()` method from `WP_Media_List_Table`, as it was never used anywhere in core.
    
    Props iandunn, JeffMatson, antpb, costdev, audrasjb.
    Fixes #39710.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55159 602fd350-edb4-49c9-b593-d223f7449a82

commit fcea1a91c89b9bdaac9193d364479ccd7452903a
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Jan 28 20:56:10 2023 +0000

    Database: Replace `substr_compare()` usage with `substr()` in `wpdb::prepare()`.
    
    This amends the previous commit to avoid a warning on PHP < 7.2.18 if haystack is an empty string:
    {{{
    Warning: substr_compare(): The start position cannot exceed initial string length
    }}}
    
    Follow-up to [55151], [55157].
    
    See #52506.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55158 602fd350-edb4-49c9-b593-d223f7449a82

commit d64680e98ddc5f91354deb01a0b968de458b6536
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Jan 28 13:46:16 2023 +0000

    Database: Replace `str_ends_with()` usage in `wpdb::prepare()`.
    
    This avoids a fatal error if the file is included directly outside of WordPress core, e.g. by HyperDB.
    
    While WordPress core does include a polyfill function, it is not directly loaded in the `wpdb` class.
    
    This commit replaces the `str_ends_with()` calls with `substr_compare()` for now.
    
    Follow-up to [55151].
    
    Props Otto42.
    See #52506.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55157 602fd350-edb4-49c9-b593-d223f7449a82

commit 999f02218ba170f2f48c1a5530e275b3d7d330a7
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Fri Jan 27 23:05:35 2023 +0000

    Media: Add download link to media modal and attachment details.
    
    Make it easier for users to download their uploaded media by providing a download link on the attachment details screen and in the media modal.
    
    Props countrymusicchicago, joedolson, amin7
    Fixes #41474.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55156 602fd350-edb4-49c9-b593-d223f7449a82

commit 1b1fa72384aa893c83c8785607d8465a3bba483b
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Fri Jan 27 22:12:37 2023 +0000

    Editor: Use a non-persistent object cache in `wp_get_global_settings()`.
    
    This changeset is part of a greater effort to enhance the caching strategy for `theme.json` based data. Similar to [55138] and [55148], the cache is currently ignored when `WP_DEBUG` is on to avoid interrupting the theme developer's workflow.
    
    This addition of a non-persistent cache results in a significant performance improvement for the overall load time of WordPress, with the Server-Timing load metric being ~8% faster and Time to First Byte being 25+% faster than before.
    
    Props oandregal, spacedmonkey, hellofromtonya, flixos90, azaozz, aristath.
    Fixes #57502.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55155 602fd350-edb4-49c9-b593-d223f7449a82

commit 30175c97ace6c675cdb4d2c505fde1b5df07d477
Author: Adam Silverstein <adamsilverstein@git.wordpress.org>
Date:   Fri Jan 27 22:01:59 2023 +0000

    Revisions: only create autosave when content changed.
    
    In the autosave REST API endpoint, avoid excessive database writes when an autosave is sent with content that is unchanged from the saved post.
    
    Before this fix, clicking "preview" in the editor (which uses the autosave feature) multiple times would cause an identical autosave entry to be deleted and re-created repeatedly.
    
    Props inwerpsel, aduth, mukesh27, ironprogrammer.
    Fixes #49532.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55154 602fd350-edb4-49c9-b593-d223f7449a82

commit ece2e850ca73020bae14f5954456ba2bfdf2b89b
Author: David Baumwald <davidbaumwald@git.wordpress.org>
Date:   Fri Jan 27 20:49:15 2023 +0000

    Tests: Resolve some line endings issues in `blocks/renderCommentTemplate.php` on Windows machines.
    
    This change resolves a unit test failure in `Tests_Blocks_RenderReusableCommentTemplate::test_rendering_comment_template_nested()` on systems using `\r\n` line endings.
    
    Props SergeyBiryukov.
    See #56793.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55153 602fd350-edb4-49c9-b593-d223f7449a82

commit b6f9fff7c373d83d1ec54d9764ab4fdcc0f92d2b
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Fri Jan 27 19:23:20 2023 +0000

    Build/Test Tools: Update third-party GitHub Actions.
    
    This updates the following third-party GitHub Actions to their latest versions.
    
    - `actions/cache`
    - `actions/checkout`
    - `actions/upload-artifact`
    - `actions/setup-node`
    - `actions/setup-php`
    - `actions/github-script`
    
    See #57572.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55152 602fd350-edb4-49c9-b593-d223f7449a82

commit ab7f91562deaaa5eac5fd64c11dd38fe687f48db
Author: David Baumwald <davidbaumwald@git.wordpress.org>
Date:   Fri Jan 27 18:47:53 2023 +0000

    Database: Add `%i` placeholder support to `$wpdb->prepare` to escape table and column names, take 2.
    
    [53575] during the 6.1 cycle was reverted in [54734] to address issues around multiple `%` placeholders not being properly quoted as reported in #56933.  Since then, this issue has been resolved and the underlying code improved significantly.  Additionally, the unit tests have been expanded and the inline docs have been improved as well.
    
    This change reintroduces `%i` placeholder support in `$wpdb->prepare()` to give extenders the ability to safely escape table and column names in database queries.
    
    Follow-up to [53575] and [54734].
    
    Props craigfrancis, jrf, xknown, costdev, ironprogrammer, SergeyBiryukov.
    Fixes #52506.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55151 602fd350-edb4-49c9-b593-d223f7449a82

commit 94ea12b60c42e0014308a5be5020b4f335bec308
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Fri Jan 27 15:53:15 2023 +0000

    Build/Test Tools: Update PostCSS to version 8.
    
    This updates PostCSS related dependencies for the main Core build process to versions that use the latest major version of PostCSS, 8.x.
    
    There were no changes to any versioned CSS files as a result of this update directly. However, two occurrences of `-o-tab-size` have been removed due to the version of `caniuse-lite` used being updated in the process.
    
    See #57554, #57555.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55150 602fd350-edb4-49c9-b593-d223f7449a82

commit c86eb190abc3f6fc8b48dc6e4b092cdb70215e07
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Jan 27 15:52:56 2023 +0000

    Themes: Add "Style Variations" to the list of WordPress theme features.
    
    Follow-up to [meta12372].
    
    Props poena, mukesh27, costdev.
    Fixes #56869. See #meta6545.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55149 602fd350-edb4-49c9-b593-d223f7449a82

commit dd33e32767d119929e769cd21abc3b00690fb14f
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Thu Jan 26 23:01:10 2023 +0000

    Editor: Use a non-persistent object cache instead of transient in `wp_get_global_stylesheet()`.
    
    This changeset is part of a greater effort to enhance the caching strategy for `theme.json` based data. Similar to [55138], the cache is currently ignored when `WP_DEBUG` is on to avoid interrupting the theme developer's workflow.
    
    Props oandregal, spacedmonkey, hellofromtonya, flixos90, ironprogrammer, azaozz, aristath, costdev, mcsf.
    Fixes #56910.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55148 602fd350-edb4-49c9-b593-d223f7449a82

commit e2b5177e7c58fed0d7de1ea03f2246656483ef71
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Thu Jan 26 19:59:16 2023 +0000

    Editor: Add is block theme setting to get_block_editor_settings().
    
    The block editor's iframe needs to know if the theme is a block theme. This changeset adds a setting to `get_block_editor_settings()`.
    
    Reference:
    * https://github.com/WordPress/gutenberg/pull/46212
    
    Props ellatrix, alexstine, costdev, dgwyer, glendaviesnz, scruffian.
    Fixes #57549.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55147 602fd350-edb4-49c9-b593-d223f7449a82

commit 1df9b8acf4a1885adaffcd8405d75719508206b0
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Thu Jan 26 18:37:47 2023 +0000

    Themes: Avoid unnecessary database queries from `get_default_block_editor_settings()` in `WP_Theme_JSON_Resolver::get_theme_data()`.
    
    The `get_default_block_editor_settings()` function included several pieces of data that are irrelevant for the purpose that `WP_Theme_JSON_Resolver` was calling it for, yet resulted in three database queries on page load that can be avoided.
    
    This changeset introduces a new function `get_classic_theme_supports_block_editor_settings()` to takes responsibility of only the data needed in `WP_Theme_JSON_Resolver`, which now uses that function. This leads to a reduction of database queries and accordingly a performance improvement.
    
    Props mamaduka, spacedmonkey, oandregal, flixos90, audrasjb, mukesh27.
    Fixes #57547.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55146 602fd350-edb4-49c9-b593-d223f7449a82

commit d1f3f85f0f2bd2b6e0bfa53aa71ea7a7f737e3c3
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Jan 26 18:10:54 2023 +0000

    Coding Standards: Bring some consistency to the order of attributes in password fields.
    
    Follow-up to [11359], [13592], [13696], [33023], [33246], [33353], [41556], [46256], [49248], [53111], [55094].
    
    See #56791.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55145 602fd350-edb4-49c9-b593-d223f7449a82

commit 8ca206a849a673935f487442fec94e730920cfa4
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Thu Jan 26 17:21:41 2023 +0000

    Docs: Update $types param for wp_get_global_stylesheet().
    
    In 6.1.0, the values the `$types` parameter accepts changed to include `'base-layout-styles'`.
    
    This commit updates the DocBlock to reflect this change and provide clear information of what the function will load if no types are passed to it.
    
    Reference:
    * https://github.com/WordPress/gutenberg/pull/46817
    
    Follow-up to [54162], [52054].
    
    Props oandregal, jorgefilipecosta , ntsekouras.
    Fixes #57563.
    See #56792.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55144 602fd350-edb4-49c9-b593-d223f7449a82

commit bce22ebbf8ea00ee7759af30663986058c4e3421
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Thu Jan 26 00:05:05 2023 +0000

    Bootstrap/Load: Avoid initializing `WP_Recovery_Mode` when fatal error handler is disabled.
    
    The WordPress recovery mode only works in combination with the fatal error handler that works as the entry mode for recovery mode. The fatal error handler can be disabled using the `WP_DISABLE_FATAL_ERROR_HANDLER` constant, but so far the logic in the `WP_Recovery_Mode` class was still being initialized even when that constant was set to `true`, which is unnecessary.
    
    This changeset updates the WordPress bootstrap process to only initialize `WP_Recovery_Mode` when needed.
    
    Props costdev.
    Fixes #56848.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55143 602fd350-edb4-49c9-b593-d223f7449a82

commit 9356d97222a60d228d60424dff9229783b4b28ca
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Wed Jan 25 22:07:47 2023 +0000

    Editor: Fix undefined variable following [54805].
    
    Props mamaduka, costdev, mukesh27.
    See #56974, #57067.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55142 602fd350-edb4-49c9-b593-d223f7449a82

commit ca90afc1f8098f12752dcb3e4a8152dc92301daf
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Wed Jan 25 21:54:43 2023 +0000

    Editor: Remove WP_DEBUG defined check in wp_tinycolor_hue_to_rgb().
    
    The constant `WP_DEBUG` is a default constant that is set within `wp_initial_constants()` when not defined. This means the constant will always be defined, thus making the `defined( 'WP_DEBUG' )` unnecessary.
    
    Removing the `defined()` provides these benefits:
    * Makes the code more readable.
    * Tiny performance optimization.
    
    References:
    * https://github.com/WordPress/gutenberg/pull/45979
    
    Follow-up to [52049].
    
    Props ocean90, spacedmonkey, mamaduka.
    See #57527.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55141 602fd350-edb4-49c9-b593-d223f7449a82

commit 616f0bca52a481a2eeb34e2e67615c12e2440707
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Wed Jan 25 21:41:00 2023 +0000

    Editor: Use in/decrementors in wp_tinycolor_hue_to_rgb().
    
    Replaces `+=` and `-=` with `++$t` and `--$t` (in/decrementors) within the `wp_tinycolor_hue_to_rgb()`.
    
    Why? For performance: in/decrementors are more performant than an assignment with a calculation.
    
    References:
    * https://www.php.net/manual/en/language.operators.increment.php
    * https://github.com/WordPress/gutenberg/pull/44551
    
    Follow-up to [50929].
    
    Props jrf, czapla, antonvlasenko, aristath, mamaduka.
    See #57527.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55140 602fd350-edb4-49c9-b593-d223f7449a82

commit 0c8c4f89a39a10084732ef4fe71ee6b211696bf9
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Wed Jan 25 20:20:15 2023 +0000

    Build/Test Tools: Revert [55137].
    
    This changeset resulted in some unexpected JavaScript validation failures.
    
    See #57555.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55139 602fd350-edb4-49c9-b593-d223f7449a82

commit f8bdacb6fc23e0e259a4a6af5187f67d5c6fbb84
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Wed Jan 25 19:36:58 2023 +0000

    Themes: Add static cache variable to wp_theme_has_theme_json().
    
    For performance, a static variable is added to `wp_theme_has_theme_json()` to cache the boolean result of determining if a theme (or its parent) has a `theme.json` file.
    
    This cache avoids the overhead of calling `get_stylesheet_directory()` and `get_template_directory()` each time `wp_theme_has_theme_json()` is invoked.
    
    The cache is lean, non-persistent, and encapsulated within the function (i.e. function scope and not available externally).
    
    The cache is ignored when:
    * `WP_DEBUG` is on to avoid interrupting theme developer's workflow and for extender automated test suites.
    * `WP_RUN_CORE_TESTS` is on to ensure each Core test exercises the checking code.
    
    Follow-up to [55092], [55086].
    
    Props oandregal, azaozz, costdev, dmsnell, flixos90, hellofromTonya, Otto42, spacedmonkey.
    Fixes #56975.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55138 602fd350-edb4-49c9-b593-d223f7449a82

commit 26ca958e2a65f160ce5aaa189e21ebb7282e510d
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Wed Jan 25 19:13:35 2023 +0000

    Build/Test Tools: Update `caniuse-lite` to the latest version.
    
    This updates the `caniuse-lite` database from `1.0.30001407` to `1.0.30001448` and applies the resulting changes to generated WP Admin CSS.
    
    This removes two occurrences of `-o-tab-size`, which was required for partial support of the `tab-size` property in Opera Mini. Usage has dropped below 1%, hence this vendor prefix being removed.
    
    See #57555.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55137 602fd350-edb4-49c9-b593-d223f7449a82

commit 01623b164cd7c367135422d212414f8bd16338a9
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Jan 25 01:38:59 2023 +0000

    Coding Standards: Allow some parameters with reserved keywords in `wp-includes/compat.php`.
    
    Parameter names for PHP polyfills in WordPress core need to 100% match the native PHP parameter names. Otherwise using named parameters with those functions could cause fatal errors for installations where the polyfills kick in.
    
    This commit adds inline comments instructing PHPCS to ignore parameters with reserved keywords in the affected functions that should not be renamed:
    * `$string` parameter in `mb_substr()` and `mb_strlen()`
    * `$array` parameter in `array_key_first()` and `array_key_last()`
    
    This resolves a few WPCS warnings along the lines of:
    {{{
    It is recommended not to use reserved keyword "string" as function parameter name. Found: $string
    }}}
    
    Follow-up to [7140], [10707], [17603], [17621], [32114], [52038], [53365].
    
    Props jrf.
    See #56788, #56791.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55136 602fd350-edb4-49c9-b593-d223f7449a82

commit cb5d5be4ca9fd71036e704798506466e59a0ed54
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Jan 24 21:30:42 2023 +0000

    Menus: Add missing escaping function in Admin Menu walker.
    
    Props aniketpatel, mukesh27, costdev.
    Fixes #57541.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55135 602fd350-edb4-49c9-b593-d223f7449a82

commit 4643bb45e070b8e8674abf75e99abccc3c0baf49
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Jan 24 21:11:47 2023 +0000

    Code Modernization: Fix a JS error in `wpdialog`.
    
    This changeset replaces `this.element._trigger('focus');` with `this.element.trigger('focus');` in `wpdialog` to fix a JS error introduced in [55052].
    
    Indeed, `this` inside the `open()` function of `wpdialog` refers to the jQuery UI widget, whereas `this.element` is the jQuery object of the DOM element. Thus, native jQuery methods need to be used, as `_trigger` is only defined on the jQuery UI widget.
    
    Follow-up to [55052].
    
    Props TobiasBg, audrasjb, shubham1gupta.
    Fixes #56830.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55134 602fd350-edb4-49c9-b593-d223f7449a82

commit e4ccebf2d796ed17a5a8da9c29f065cfa86e0e1b
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Tue Jan 24 20:38:25 2023 +0000

    Editor: Adds 'settings.typography.fluid.minFontSize' support to wp_get_typography_font_size_value().
    
    In `wp_get_typography_font_size_value()`, adds support for using a minimum font size for fluid typography when defined in a theme's `theme.json` file.
    
    Reference:
    * Part of [https://github.com/WordPress/gutenberg/pull/42489 Gutenberg PR 42489]
    
    Follow-up to [54497], [54260].
    
    Props andrewserong, ramonopoly, hellofromTonya, joen.
    Fixes #57529.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55133 602fd350-edb4-49c9-b593-d223f7449a82

commit 119ec3240e4a480de427017c578e6ad43d717932
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Tue Jan 24 16:52:42 2023 +0000

    Editor: Adds pagination and ordering support to `WP_REST_Pattern_Directory_Controller`.
    
    Adds pagination and ordering support to `WP_REST_Pattern_Directory_Controller` by allow listing `'per_page'`, `'page'`, `'offset'`, `'order'`, and `'orderby'` query parameters. This change enables pagination and ordering features in the pattern directory explorer by using the same sort as wordpress.org/patterns.
    
    Reference:
    * [https://github.com/WordPress/gutenberg/pull/45293 Gutenberg PR 45293]
    
    Follow-up to [55098], [51206], [51021].
    
    Props ntsekouras, ryelle, arrasel403, hellofromTonya, ironprogrammer, mukesh27, robinwpdeveloper.
    Fixes #57501.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55132 602fd350-edb4-49c9-b593-d223f7449a82

commit 1f28106a140c6a3a6c5b5675d647f7c0ef6788aa
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Jan 24 16:03:26 2023 +0000

    Code Modernization: Rename parameters that use reserved keywords in `phpunit/tests/kses.php`.
    
    While using reserved PHP keywords as parameter name labels is allowed, in the context of function calls using named parameters in PHP 8.0+, this will easily lead to confusion. To avoid that, it is recommended not to use reserved keywords as function parameter names.
    
    This commit renames the `$global` parameter to `$global_name` in `Tests_Kses::test_kses_globals_are_defined()`.
    
    Follow-up to [52229], [54203], [55090].
    
    Props jrf, aristath, poena, justinahinon, SergeyBiryukov.
    See #56788.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55131 602fd350-edb4-49c9-b593-d223f7449a82

commit b1363cc7fedf6ec7989844d6b51816bb82d233ed
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Jan 24 15:53:46 2023 +0000

    Code Modernization: Rename parameters that use reserved keywords in `phpunit/tests/functions/wpRefererField.php`.
    
    While using reserved PHP keywords as parameter name labels is allowed, in the context of function calls using named parameters in PHP 8.0+, this will easily lead to confusion. To avoid that, it is recommended not to use reserved keywords as function parameter names.
    
    This commit renames the `$echo` parameter to `$display` in `Tests_Functions_wpRefererField::test_wp_referer_field_should_respect_display_arg()`.
    
    Follow-up to [54420], [54929].
    
    Props jrf, aristath, poena, justinahinon, SergeyBiryukov.
    See #56788.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55130 602fd350-edb4-49c9-b593-d223f7449a82

commit 662b151d44f93ef1761dffb14adc991f893b7ced
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Jan 24 15:43:53 2023 +0000

    Code Modernization: Rename parameters that use reserved keywords in `wp-includes/class-wp-theme-json.php`.
    
    While using reserved PHP keywords as parameter name labels is allowed, in the context of function calls using named parameters in PHP 8.0+, this will easily lead to confusion. To avoid that, it is recommended not to use reserved keywords as function parameter names.
    
    This commit renames the `$default` parameter to `$default_value` in `WP_Theme_JSON::get_metadata_boolean()`.
    
    Follow-up to [52946], [52996], [52997], [52998], [53003], [53014], [53029], [53039], [53116], [53117], [53137], [53174], [53184], [53185], [53192], [53193], [53198], [53203], [53207], [53215], [53216], [53220], [53230], [53232], [53236], [53239], [53240], [53242], [53243], [53245], [53246], [53257], [53269], [53270], [53271], [53272], [53273], [53274], [53275], [53276], [53277], [53281], [53283], [53284], [53285], [53287], [53364], [53365], [54927], [54929], [54930], [54931], [54932], [54933], [54938], [54943], [54944], [54945], [54946], [54947], [54948], [54950], [54951], [54952], [54956], [54959], [54960], [54961], [54962], [54964], [54965], [54969], [54970], [54971], [54972], [54996], [55000], [55011], [55013], [55014], [55015], [55016], [55017], [55020], [55021], [55023], [55027], [55028], [55034], [55036], [55037], [55038], [55039], [55049], [55050], [55060], [55062], [55064], [55065], [55076], [55077], [55078], [55081], [55090], [55100], [55104], [55112], [55115], [55116], [55117], [55119], [55120], [55126], [55127].
    
    Props jrf, aristath, poena, justinahinon, SergeyBiryukov.
    See #56788.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55129 602fd350-edb4-49c9-b593-d223f7449a82

commit 29c6bca953b54091e563ac8fdbd14f479953a17d
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Jan 24 15:39:31 2023 +0000

    Docs: Add missing `@since` tag for `WP_Theme_JSON_Resolver::remove_json_comments()`.
    
    Follow-up to [54162].
    
    See #56792.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55128 602fd350-edb4-49c9-b593-d223f7449a82

commit 0ab59b1bdb93992f386348d2a0bbb9cb9d7554d1
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Jan 24 15:35:59 2023 +0000

    Code Modernization: Rename parameters that use reserved keywords in `wp-includes/class-wp-theme-json-resolver.php`.
    
    While using reserved PHP keywords as parameter name labels is allowed, in the context of function calls using named parameters in PHP 8.0+, this will easily lead to confusion. To avoid that, it is recommended not to use reserved keywords as function parameter names.
    
    This commit renames the `$array` parameter to `$input_array` in `WP_Theme_JSON_Resolver::remove_json_comments()`.
    
    Follow-up to [52946], [52996], [52997], [52998], [53003], [53014], [53029], [53039], [53116], [53117], [53137], [53174], [53184], [53185], [53192], [53193], [53198], [53203], [53207], [53215], [53216], [53220], [53230], [53232], [53236], [53239], [53240], [53242], [53243], [53245], [53246], [53257], [53269], [53270], [53271], [53272], [53273], [53274], [53275], [53276], [53277], [53281], [53283], [53284], [53285], [53287], [53364], [53365], [54927], [54929], [54930], [54931], [54932], [54933], [54938], [54943], [54944], [54945], [54946], [54947], [54948], [54950], [54951], [54952], [54956], [54959], [54960], [54961], [54962], [54964], [54965], [54969], [54970], [54971], [54972], [54996], [55000], [55011], [55013], [55014], [55015], [55016], [55017], [55020], [55021], [55023], [55027], [55028], [55034], [55036], [55037], [55038], [55039], [55049], [55050], [55060], [55062], [55064], [55065], [55076], [55077], [55078], [55081], [55090], [55100], [55104], [55112], [55115], [55116], [55117], [55119], [55120], [55126].
    
    Props jrf, aristath, poena, justinahinon, SergeyBiryukov.
    See #56788.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55127 602fd350-edb4-49c9-b593-d223f7449a82

commit 6bb9cf4751b341420088532c62863f30700d333c
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Jan 24 14:40:47 2023 +0000

    Code Modernization: Rename parameters that use reserved keywords in `wp-includes/blocks.php`.
    
    While using reserved PHP keywords as parameter name labels is allowed, in the context of function calls using named parameters in PHP 8.0+, this will easily lead to confusion. To avoid that, it is recommended not to use reserved keywords as function parameter names.
    
    This commit renames the `$default` parameter to `$default_value` in `block_has_support()`.
    
    Follow-up to [52946], [52996], [52997], [52998], [53003], [53014], [53029], [53039], [53116], [53117], [53137], [53174], [53184], [53185], [53192], [53193], [53198], [53203], [53207], [53215], [53216], [53220], [53230], [53232], [53236], [53239], [53240], [53242], [53243], [53245], [53246], [53257], [53269], [53270], [53271], [53272], [53273], [53274], [53275], [53276], [53277], [53281], [53283], [53284], [53285], [53287], [53364], [53365], [54927], [54929], [54930], [54931], [54932], [54933], [54938], [54943], [54944], [54945], [54946], [54947], [54948], [54950], [54951], [54952], [54956], [54959], [54960], [54961], [54962], [54964], [54965], [54969], [54970], [54971], [54972], [54996], [55000], [55011], [55013], [55014], [55015], [55016], [55017], [55020], [55021], [55023], [55027], [55028], [55034], [55036], [55037], [55038], [55039], [55049], [55050], [55060], [55062], [55064], [55065], [55076], [55077], [55078], [55081], [55090], [55100], [55104], [55112], [55115], [55116], [55117], [55119], [55120].
    
    Props jrf, aristath, poena, justinahinon, SergeyBiryukov.
    See #56788.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55126 602fd350-edb4-49c9-b593-d223f7449a82

commit 2bcd6390b2d0f52c1f85cb42bcd1b10d7c382ef5
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Tue Jan 24 14:34:10 2023 +0000

    Editor: Migrate old to the new pattern categories.
    
    Adds a new non-public `WP_REST_Block_Patterns_Controller::migrate_pattern_categories()` method to automatically migrate existing content's pattern categories to the new ones introduced in [55098].
    
    Old to  New
    `'buttons'` to `'call-to-action'`
    `'columns'` to `'text'`
    `'query'`   to `'posts'`
    
    Reference:
    * Part of [https://github.com/WordPress/gutenberg/pull/46144 Gutenberg PR 46144]
    
    Follow-up to [55098], [53152].
    
    Props ntsekouras, annezazu, jameskoster, joen, hellofromTonya, mcsf, paaljoachim, ryelle.
    Fixes #57532.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55125 602fd350-edb4-49c9-b593-d223f7449a82

commit f7de6aa943d330483d94718d8f5c9008212555b0
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Jan 24 12:56:13 2023 +0000

    Twenty Twenty-One: Refine `primary-navigation.js` behavior for anchor links.
    
    This changeset fixes a bug where clicking on an anchor link in the content changes the state of the button that opens and closes the responsive menu. It adds a conditional to check if the clicked anchor link is inside the primary navigation menu (`#site-navigation`), in order to prevent content anchor links from changing the state of the button.
    
    Known limitations: The state of the button is not reset when the browser is resized. If a menu anchor link is first clicked while on desktop width, and the browser width is reduced, the menu button will show the text "Close" even though the menu is not opened.
    
    Props andreaboe, sabernhardt, poena, afercia, chaion07, cu121, mukesh27.
    Fixes #53331.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55124 602fd350-edb4-49c9-b593-d223f7449a82

commit ac2ddd82f296eefb36fa33361a5a00752b8eeafd
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Jan 24 12:55:14 2023 +0000

    Docs: Various improvements in `ms-blogs.php` function descriptions, as per docblocks standards.
    
    See #56792.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55123 602fd350-edb4-49c9-b593-d223f7449a82

commit 7db8ca56ded2af7ae95afcd134e9073055713a2a
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Jan 24 08:49:47 2023 +0000

    Twenty Twenty-Two: Remove color reference from pattern names.
    
    This changeset removes color names from pattern names to make them less opinionated, and avoid mismatching when the user changes related colors. It does not update filenames for now, as they are not directly exposed to end users.
    
    Props poena, mukesh27.
    Fixes #56720.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55122 602fd350-edb4-49c9-b593-d223f7449a82

commit 0ed98f98f2f8dfaf128a33f95f7de0f27da9a9d7
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Jan 24 08:09:21 2023 +0000

    Themes: Support additional link related pseudo classes in `theme.json`.
    
    This changeset adds support for `:link` and `:any-link` in `theme.json`, using the `VALID_ELEMENT_PSEUDO_SELECTORS` array. `:link` can be used to style unvisited links and `:any-link` can be used to style any link containing an `href` attribute.
    
    Props peterwilsoncc, whaze, audrasjb, costdev, mukesh27.
    Fixes #57053.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55121 602fd350-edb4-49c9-b593-d223f7449a82

commit 0ab4ae8b4c14f3e20ec02d621de4430f6782652a
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Jan 23 16:52:36 2023 +0000

    Code Modernization: Rename parameters that use reserved keywords in `phpunit/tests/widgets/wpWidgetMedia.php`.
    
    While using reserved PHP keywords as parameter name labels is allowed, in the context of function calls using named parameters in PHP 8.0+, this will easily lead to confusion. To avoid that, it is recommended not to use reserved keywords as function parameter names.
    
    This commit renames the `$object` parameter to `$widget` in `Tests_Widgets_wpWidgetMedia::filter_widget_mocked_instance()`.
    
    Follow-up to [52946], [52996], [52997], [52998], [53003], [53014], [53029], [53039], [53116], [53117], [53137], [53174], [53184], [53185], [53192], [53193], [53198], [53203], [53207], [53215], [53216], [53220], [53230], [53232], [53236], [53239], [53240], [53242], [53243], [53245], [53246], [53257], [53269], [53270], [53271], [53272], [53273], [53274], [53275], [53276], [53277], [53281], [53283], [53284], [53285], [53287], [53364], [53365], [54927], [54929], [54930], [54931], [54932], [54933], [54938], [54943], [54944], [54945], [54946], [54947], [54948], [54950], [54951], [54952], [54956], [54959], [54960], [54961], [54962], [54964], [54965], [54969], [54970], [54971], [54972], [54996], [55000], [55011], [55013], [55014], [55015], [55016], [55017], [55020], [55021], [55023], [55027], [55028], [55034], [55036], [55037], [55038], [55039], [55049], [55050], [55060], [55062], [55064], [55065], [55076], [55077], [55078], [55081], [55090], [55100], [55104], [55112], [55115], [55116], [55117], [55119].
    
    Props jrf, aristath, poena, justinahinon, SergeyBiryukov.
    See #56788.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55120 602fd350-edb4-49c9-b593-d223f7449a82

commit 698c003a645f30a233e8929e71f405025b8db04c
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Jan 23 16:33:57 2023 +0000

    Code Modernization: Rename parameters that use reserved keywords in `phpunit/tests/shortcode.php`.
    
    While using reserved PHP keywords as parameter name labels is allowed, in the context of function calls using named parameters in PHP 8.0+, this will easily lead to confusion. To avoid that, it is recommended not to use reserved keywords as function parameter names.
    
    This commit:
    * Renames the `$return` parameter to `$output` in:
     * `Tests_Shortcode::filter_pre_do_shortcode_tag_attr()`
     * `Tests_Shortcode::filter_do_shortcode_tag_replace()`
     * `Tests_Shortcode::filter_do_shortcode_tag_generate()`
     * `Tests_Shortcode::filter_do_shortcode_tag_attr()`
    * Amends the `$return` parameter of the `pre_do_shortcode_tag` filter for consistency.
    
    Follow-up to [52946], [52996], [52997], [52998], [53003], [53014], [53029], [53039], [53116], [53117], [53137], [53174], [53184], [53185], [53192], [53193], [53198], [53203], [53207], [53215], [53216], [53220], [53230], [53232], [53236], [53239], [53240], [53242], [53243], [53245], [53246], [53257], [53269], [53270], [53271], [53272], [53273], [53274], [53275], [53276], [53277], [53281], [53283], [53284], [53285], [53287], [53364], [53365], [54927], [54929], [54930], [54931], [54932], [54933], [54938], [54943], [54944], [54945], [54946], [54947], [54948], [54950], [54951], [54952], [54956], [54959], [54960], [54961], [54962], [54964], [54965], [54969], [54970], [54971], [54972], [54996], [55000], [55011], [55013], [55014], [55015], [55016], [55017], [55020], [55021], [55023], [55027], [55028], [55034], [55036], [55037], [55038], [55039], [55049], [55050], [55060], [55062], [55064], [55065], [55076], [55077], [55078], [55081], [55090], [55100], [55104], [55112], [55115], [55116], [55117].
    
    Props jrf, aristath, poena, justinahinon, SergeyBiryukov.
    See #56788.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55119 602fd350-edb4-49c9-b593-d223f7449a82

commit 1433b636d1378929871e1169b848b52e5d43a7c8
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Jan 23 16:01:07 2023 +0000

    Tests: Use `wp_recursive_ksort()` in `WP_Theme_JSON_Resolver` tests.
    
    This replaces a helper method in `Tests_Theme_wpThemeJsonResolver` with the `wp_recursive_ksort()` function that was introduced later for the same purpose.
    
    Follow-up to [52049], [53129], [55117].
    
    See #56793.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55118 602fd350-edb4-49c9-b593-d223f7449a82

commit 005cfdbf4e60c179693ec280017cb06767643b29
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Jan 23 15:52:18 2023 +0000

    Code Modernization: Rename parameters that use reserved keywords in `wp-includes/functions.php`.
    
    While using reserved PHP keywords as parameter name labels is allowed, in the context of function calls using named parameters in PHP 8.0+, this will easily lead to confusion. To avoid that, it is recommended not to use reserved keywords as function parameter names.
    
    This commit:
    * Renames the `$array` parameter to `$input_array` in `wp_recursive_ksort()`.
    * Moves the function next to other array-related functions for consistency.
    
    Follow-up to [53129], [54929].
    
    Props jrf, aristath, poena, justinahinon, SergeyBiryukov.
    See #56788.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55117 602fd350-edb4-49c9-b593-d223f7449a82

commit 1e608be8c5ff7985aac0e15a7b5a41888a486d2b
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Jan 23 12:10:28 2023 +0000

    Code Modernization: Rename parameters that use reserved keywords in `phpunit/tests/rest-api.php`.
    
    While using reserved PHP keywords as parameter name labels is allowed, in the context of function calls using named parameters in PHP 8.0+, this will easily lead to confusion. To avoid that, it is recommended not to use reserved keywords as function parameter names.
    
    This commit:
    * Renames the `$string` parameter to `$date` in:
     * `Tests_REST_API::test_rest_parse_date()`
     * `Tests_REST_API::test_rest_parse_date_force_utc()`
    * Amends the `$value` and `$valid` parameters to `$expected` for consistency.
    
    Follow-up to [52946], [52996], [52997], [52998], [53003], [53014], [53029], [53039], [53116], [53117], [53137], [53174], [53184], [53185], [53192], [53193], [53198], [53203], [53207], [53215], [53216], [53220], [53230], [53232], [53236], [53239], [53240], [53242], [53243], [53245], [53246], [53257], [53269], [53270], [53271], [53272], [53273], [53274], [53275], [53276], [53277], [53281], [53283], [53284], [53285], [53287], [53364], [53365], [54927], [54929], [54930], [54931], [54932], [54933], [54938], [54943], [54944], [54945], [54946], [54947], [54948], [54950], [54951], [54952], [54956], [54959], [54960], [54961], [54962], [54964], [54965], [54969], [54970], [54971], [54972], [54996], [55000], [55011], [55013], [55014], [55015], [55016], [55017], [55020], [55021], [55023], [55027], [55028], [55034], [55036], [55037], [55038], [55039], [55049], [55050], [55060], [55062], [55064], [55065], [55076], [55077], [55078], [55081], [55090], [55100], [55104], [55112], [55115].
    
    Props jrf, aristath, poena, justinahinon, SergeyBiryukov.
    See #56788.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55116 602fd350-edb4-49c9-b593-d223f7449a82

commit e8dd1826616e6e88301df1daa9c25281fbe4675f
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Jan 23 11:07:13 2023 +0000

    Code Modernization: Rename parameters that use reserved keywords in `phpunit/tests/post.php`.
    
    While using reserved PHP keywords as parameter name labels is allowed, in the context of function calls using named parameters in PHP 8.0+, this will easily lead to confusion. To avoid that, it is recommended not to use reserved keywords as function parameter names.
    
    This commit renames the `$default` parameter to `$override_slug` in `Tests_Post::filter_pre_wp_unique_post_slug()`.
    
    Follow-up to [52946], [52996], [52997], [52998], [53003], [53014], [53029], [53039], [53116], [53117], [53137], [53174], [53184], [53185], [53192], [53193], [53198], [53203], [53207], [53215], [53216], [53220], [53230], [53232], [53236], [53239], [53240], [53242], [53243], [53245], [53246], [53257], [53269], [53270], [53271], [53272], [53273], [53274], [53275], [53276], [53277], [53281], [53283], [53284], [53285], [53287], [53364], [53365], [54927], [54929], [54930], [54931], [54932], [54933], [54938], [54943], [54944], [54945], [54946], [54947], [54948], [54950], [54951], [54952], [54956], [54959], [54960], [54961], [54962], [54964], [54965], [54969], [54970], [54971], [54972], [54996], [55000], [55011], [55013], [55014], [55015], [55016], [55017], [55020], [55021], [55023], [55027], [55028], [55034], [55036], [55037], [55038], [55039], [55049], [55050], [55060], [55062], [55064], [55065], [55076], [55077], [55078], [55081], [55090], [55100], [55104], [55112].
    
    Props jrf, aristath, poena, justinahinon, SergeyBiryukov.
    See #56788.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55115 602fd350-edb4-49c9-b593-d223f7449a82

commit c6f3ee4fd98098b56891dead881e6bb90a94f40e
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Sun Jan 22 20:05:38 2023 +0000

    Bundled Themes: Fix Separator block "Dots" style variation on various themes.
    
    This changeset fixes an issue with the "Dots" style of the Separator block on multiple bundled themes. It adds `max-width: 100%` to this style variation on the following themes: Twenty Eleven, Twenty Thirteen, Twenty Fourteen, Twenty Fifteen, and Twenty Sixteen.
    
    Props umesh84, sabernhardt, audrasjb, amin7, esratpopy, multidots1896.
    Fixes #56114.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55114 602fd350-edb4-49c9-b593-d223f7449a82

commit 9bbef090354b2727c2bdb33e9b9ad29b43e772e5
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Sun Jan 22 11:10:00 2023 +0000

    Posts, Post Types: Increase the input field's width in the Slug metabox.
    
    This changeset adds a `large-text` attribute and removes the `size` attribute of the text input field located in the Slug metabox. It improves its usability, at least for as long as the Slug metabox is available in the Classic Editor.
    
    Props ABTOP, nacin, helen, sabernhardt, abitofmind, tyxla, audrasjb.
    Fixes #16346.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55113 602fd350-edb4-49c9-b593-d223f7449a82

commit ea08277674413b9853aa19df6ecc23841de894b6
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Jan 22 00:15:14 2023 +0000

    Code Modernization: Rename parameters that use reserved keywords in `phpunit/tests/pluggable/signatures.php`.
    
    While using reserved PHP keywords as parameter name labels is allowed, in the context of function calls using named parameters in PHP 8.0+, this will easily lead to confusion. To avoid that, it is recommended not to use reserved keywords as function parameter names.
    
    This commit renames the `$function` parameter to `$function_name` in `Tests_Pluggable_Signatures::test_pluggable_function_signatures_match()`.
    
    Follow-up to [52946], [52996], [52997], [52998], [53003], [53014], [53029], [53039], [53116], [53117], [53137], [53174], [53184], [53185], [53192], [53193], [53198], [53203], [53207], [53215], [53216], [53220], [53230], [53232], [53236], [53239], [53240], [53242], [53243], [53245], [53246], [53257], [53269], [53270], [53271], [53272], [53273], [53274], [53275], [53276], [53277], [53281], [53283], [53284], [53285], [53287], [53364], [53365], [54927], [54929], [54930], [54931], [54932], [54933], [54938], [54943], [54944], [54945], [54946], [54947], [54948], [54950], [54951], [54952], [54956], [54959], [54960], [54961], [54962], [54964], [54965], [54969], [54970], [54971], [54972], [54996], [55000], [55011], [55013], [55014], [55015], [55016], [55017], [55020], [55021], [55023], [55027], [55028], [55034], [55036], [55037], [55038], [55039], [55049], [55050], [55060], [55062], [55064], [55065], [55076], [55077], [55078], [55081], [55090], [55100], [55104].
    
    Props jrf, aristath, poena, justinahinon, SergeyBiryukov.
    See #56788.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55112 602fd350-edb4-49c9-b593-d223f7449a82

commit 9822010bb87205a016c878ccd6688e649112e90e
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Jan 21 15:56:09 2023 +0000

    Docs: Further clarify the `wp_ajax_save_attachment` filter parameters description.
    
    Follow-up to [55106].
    
    See #23148.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55111 602fd350-edb4-49c9-b593-d223f7449a82

commit 02a08585ae58662794b1c25d43064dfb4425c8e4
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Sat Jan 21 09:05:14 2023 +0000

    Upgrade/Install: Disable spellcheck for password field on Setup screen.
    
    This changeset adds `spellcheck="false"` attribute to Database Password field on the Database Setup screen.
    
    Follow-up to [55094], [55095], [55096].
    
    See #56763.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55110 602fd350-edb4-49c9-b593-d223f7449a82

commit d8368e7e0ab5d3bd67187fcea2f56fd9c5a9fe6c
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Fri Jan 20 22:04:12 2023 +0000

    Menus: Hide the "Remove selected item" from Menus screen when no item is selected.
    
    This changeset removes the "Remove selected item" from the classic Navigation Menus screen when no item is selected, and makes it non focusable from assistive technologies.
    
    Plus, this changeset fixes a small unrelated coding standard issue in `nav-menus.css`.
    
    Props kebbet, joedolson, audrasjb.
    Fixes #56942.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55109 602fd350-edb4-49c9-b593-d223f7449a82

commit 9705e4e72e1b9977d1fa043e2160d483b579e404
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Fri Jan 20 21:41:26 2023 +0000

    Quick/Bulk Edit: Add an action hook on `bulk_edit_posts()`.
    
    This changeset introduces the `bulk_edit_posts` action hook, triggered after processing the post data for bulk edit and before it returns its results. For example, it allows developers to save additional data without having to perform any `.ajax()` call.
    
    Props helgatheviking, helen, Mte90, afercia, mrasharirfan, desrosj, itowhid06, pento, mensmaximus, audrasjb, costdev.
    Fixes #28112.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55108 602fd350-edb4-49c9-b593-d223f7449a82

commit 2ff0e8a3c20347260b2ccb9f209b2447d2c5d9e8
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Fri Jan 20 21:26:44 2023 +0000

    Plugins: Add visible focus on plugin modal close button.
    
    Change the focus and hover state of the plugin modal close button to use `#f0f0f1` with visible outline to be visible against modal overlay.
    
    Props dperonne, viralsampat, jeawhanlee, mukesh27, sabernhardt, joedolson.
    Fixes #56604.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55107 602fd350-edb4-49c9-b593-d223f7449a82

commit c12992dc9a276a0d03c86a644f649c8260730ceb
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Fri Jan 20 14:15:42 2023 +0000

    Media: Add an action hook on `wp_ajax_save_attachment()`.
    
    This changeset introduces the `wp_ajax_save_attachment` action hook, triggered after an attachment has been updated and before the JSON response is sent. For example, it allows developers to update any additional attachment fields that have been rendered by extending the `media.view.Attachment.Details` subview.
    
    Props griffinjt, bradyvercher, pputzer, antpb, sc0ttkclark, audrasjb, costdev, hellofromTonya.
    Fixes #23148.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55106 602fd350-edb4-49c9-b593-d223f7449a82

commit 675fe390b9c8d75795ff10bb5c8d8728be4ba11f
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Jan 20 01:34:41 2023 +0000

    Code Modernization: Use correct property in `IXR_Message::tag_open()`.
    
    The `IXR_Message` class declares a property `_currentTag`, which is never assigned or used. It does assign to `currentTag` instead, which outside of that one assignment is never used either.
    
    Since there are various other underscore-prefixed properties declared on the class, including one named `_currentTagContents` which is used in several places, it appears that the declared property is correct and the assignment is a typo.
    
    This commit resolves a notice on PHP 8.2:
    {{{
    Deprecated: Creation of dynamic property IXR_Message::$currentTag is deprecated
    }}}
    
    Follow-up to [1346].
    
    Props bjorsch, kraftbj, jrf, mukesh27, SergeyBiryukov.
    See #56790.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55105 602fd350-edb4-49c9-b593-d223f7449a82

commit d6afa281b614a9c457d8d0f16e596e3720d697ec
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Jan 20 00:19:09 2023 +0000

    Code Modernization: Rename parameters that use reserved keywords in `phpunit/tests/rest-api/rest-*-controller.php`.
    
    While using reserved PHP keywords as parameter name labels is allowed, in the context of function calls using named parameters in PHP 8.0+, this will easily lead to confusion. To avoid that, it is recommended not to use reserved keywords as function parameter names.
    
    This commit:
    * Renames the `$object` parameter to `$response_data` in:
     * `WP_Test_REST_Attachments_Controller::additional_field_get_callback()`
     * `WP_Test_REST_Autosaves_Controller::additional_field_get_callback()`
     * `WP_Test_REST_Categories_Controller::additional_field_get_callback()`
     * `WP_Test_REST_Comments_Controller::additional_field_get_callback()`
     * `WP_Test_REST_Post_Statuses_Controller::additional_field_get_callback()`
     * `WP_Test_REST_Post_Types_Controller::additional_field_get_callback()`
     * `WP_Test_REST_Posts_Controller::additional_field_get_callback()`
     * `WP_Test_REST_Revisions_Controller::additional_field_get_callback()`
     * `WP_Test_REST_Tags_Controller::additional_field_get_callback()`
     * `WP_Test_REST_Users_Controller::additional_field_get_callback()`
    * Amends the `$data` and `$prepared` parameters for consistency in:
     * `WP_REST_Controller::add_additional_fields_to_object()`
     * `WP_REST_Controller::filter_response_by_context()`
     * `rest_filter_response_by_context()`
    
    Follow-up to [52946], [52996], [52997], [52998], [53003], [53014], [53029], [53039], [53116], [53117], [53137], [53174], [53184], [53185], [53192], [53193], [53198], [53203], [53207], [53215], [53216], [53220], [53230], [53232], [53236], [53239], [53240], [53242], [53243], [53245], [53246], [53257], [53269], [53270], [53271], [53272], [53273], [53274], [53275], [53276], [53277], [53281], [53283], [53284], [53285], [53287], [53364], [53365], [54927], [54929], [54930], [54931], [54932], [54933], [54938], [54943], [54944], [54945], [54946], [54947], [54948], [54950], [54951], [54952], [54956], [54959], [54960], [54961], [54962], [54964], [54965], [54969], [54970], [54971], [54972], [54996], [55000], [55011], [55013], [55014], [55015], [55016], [55017], [55020], [55021], [55023], [55027], [55028], [55034], [55036], [55037], [55038], [55039], [55049], [55050], [55060], [55062], [55064], [55065], [55076], [55077], [55078], [55081], [55090], [55100].
    
    Props jrf, aristath, poena, justinahinon, SergeyBiryukov.
    See #56788.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55104 602fd350-edb4-49c9-b593-d223f7449a82

commit b0f853f580ee8feee88a85da51c2ccd5582decb9
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Jan 19 22:55:10 2023 +0000

    Permalinks: Remove floating on Permalinks settings screen.
    
    This changeset replaces floating elements with `flex` CSS positioning, while the markup stays the same to keep the elements' semantic value.
    
    Follow-up to [53706].
    
    Props sabernhardt, kebbet, audrasjb.
    Fixes #56673.
    See #55498.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55103 602fd350-edb4-49c9-b593-d223f7449a82

commit e4e15d1d8b5d4bb34e40c2067f419ff4aa14fc25
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Jan 19 21:46:58 2023 +0000

    Tests: Correct `additional_field_get_callback()` parameters in some REST API tests.
    
    The second parameter passed to `get_callback` in `WP_REST_Controller::add_additional_fields_to_object()` is the field name, not the request details.
    
    Includes moving the `get_callback` and `update_callback` helper functions next to the tests they are used in.
    
    Follow-up to [38832], [43768].
    
    See #56793.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55102 602fd350-edb4-49c9-b593-d223f7449a82

commit a9bd7719db67fdc3ff3282998dc139acffde367b
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Jan 19 17:39:10 2023 +0000

    Twenty Twenty-One: Fix obsolete navigation block styles for better Global Styles support.
    
    This changeset removes some CSS custom properties that targets navigation menu items to avoid preventing the block from inheriting padding values set by the Global Styles system.
    
    Props Joen, desrosj, poena, audrasjb, hellofromtonya, SergeyBiryukov.
    Fixes #53220.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55101 602fd350-edb4-49c9-b593-d223f7449a82

commit e229ac401dd85ad61bfd990975b252e12440bc1d
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Jan 19 17:07:22 2023 +0000

    Code Modernization: Rename parameters that use reserved keywords in `phpunit/tests/option/themeMods.php`.
    
    While using reserved PHP keywords as parameter name labels is allowed, in the context of function calls using named parameters in PHP 8.0+, this will easily lead to confusion. To avoid that, it is recommended not to use reserved keywords as function parameter names.
    
    This commit renames the `$default` parameter to `$default_value` in `Tests_Option_ThemeMods::test_theme_mod_default_value_with_percent_symbols()`.
    
    Follow-up to [52946], [52996], [52997], [52998], [53003], [53014], [53029], [53039], [53116], [53117], [53137], [53174], [53184], [53185], [53192], [53193], [53198], [53203], [53207], [53215], [53216], [53220], [53230], [53232], [53236], [53239], [53240], [53242], [53243], [53245], [53246], [53257], [53269], [53270], [53271], [53272], [53273], [53274], [53275], [53276], [53277], [53281], [53283], [53284], [53285], [53287], [53364], [53365], [54927], [54929], [54930], [54931], [54932], [54933], [54938], [54943], [54944], [54945], [54946], [54947], [54948], [54950], [54951], [54952], [54956], [54959], [54960], [54961], [54962], [54964], [54965], [54969], [54970], [54971], [54972], [54996], [55000], [55011], [55013], [55014], [55015], [55016], [55017], [55020], [55021], [55023], [55027], [55028], [55034], [55036], [55037], [55038], [55039], [55049], [55050], [55060], [55062], [55064], [55065], [55076], [55077], [55078], [55081], [55090].
    
    Props jrf, aristath, poena, justinahinon, SergeyBiryukov.
    See #56788.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55100 602fd350-edb4-49c9-b593-d223f7449a82

commit 157a23382d316d2b735962d5be3b9bff4e297144
Author: Pascal Birchler <swissspidy@git.wordpress.org>
Date:   Thu Jan 19 14:11:08 2023 +0000

    I18N: Allow installing new translations when changing the user locale on the profile page.
    
    Up until now, new translations could only be installed via Settings -> General.
    When editing the user profile, one could only select locales that were already installed.
    
    This change allows also installing new translations if the editing user has the necessary capabilities.
    
    Props barryceelen, johnbillion, ocean90, swissspidy.
    Fixes #38664.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55099 602fd350-edb4-49c9-b593-d223f7449a82

commit 9599b39a5a2e141fb1c389ef4dad007213cd765b
Author: Riad Benguella <youknowriad@git.wordpress.org>
Date:   Thu Jan 19 12:19:51 2023 +0000

    Editor: Updated the bundled block pattern categories.
    
    This adds descriptions to the existing pattern categories.
    It also updates backports the new pattern categories:
    banner, call to action, posts, team, testimonials, services,
    portfolio and contact.
    
    Fixes #57479.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55098 602fd350-edb4-49c9-b593-d223f7449a82

commit 48342a279d916e2e85e057a4762a1727a51ee3d1
Author: Riad Benguella <youknowriad@git.wordpress.org>
Date:   Thu Jan 19 12:11:57 2023 +0000

    Editor: Allow block pattern categories to have descriptions.
    
    Updates the corresponding REST API endpoint and unit test.
    
    Fixes #57478.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55097 602fd350-edb4-49c9-b593-d223f7449a82

commit 134c05d69814a1bb277293b8ddc30167a4118a17
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Jan 19 11:46:47 2023 +0000

    Application Passwords: Disable spellcheck for password field.
    
    This changeset adds `spellcheck="false"` attribute to application password field.
    
    Follow-up to [55094], [55095].
    
    Props Spaceshipone.
    Fixes #56763.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55096 602fd350-edb4-49c9-b593-d223f7449a82

commit adc62118f7d8f6eade0d1fcaeab91fbaad3d5f88
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Jan 19 09:10:19 2023 +0000

    Twenty Twenty-One: Disable spellcheck for post password field.
    
    This changeset adds `spellcheck="false"` attribute to various password fields.
    
    Follow-up to [55094].
    
    Props dziudek, audrasjb, gainesm, fosuahmed.
    See #56763.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55095 602fd350-edb4-49c9-b593-d223f7449a82

commit 2b831ffa1f042e1576f76399808f16d713ea650f
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Jan 19 08:51:41 2023 +0000

    Login and Registration: Disable spellcheck for password fields.
    
    This changeset adds `spellcheck="false"` attribute to various password fields.
    
    The spellcheck global attribute defines whether the element may be checked for spelling errors. The `false` value indicates that the element should not be checked for spelling errors, which is relevant for a password field.
    
    Furthermore, and as per MDN specs, using spellchecking can have consequences for users' security and privacy. The specification does not regulate how spellchecking is done and the content of the element may be sent to a third party for spellchecking results. Thus, it is recommended to set `spellcheck` attribute to `false` for elements that can contain sensitive information. Which is the case for password fields.
    
    Props dziudek, audrasjb, gainesm, fosuahmed.
    Fixes #56763.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55094 602fd350-edb4-49c9-b593-d223f7449a82

commit 65caf62944ffe6098ecf964e7cf2823ed7fa9eb2
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Thu Jan 19 07:32:28 2023 +0000

    Media: Allow for customization of lazy-loading featured images.
    
    When lazy-loading images was introduced, in [52065] the check for `wp_lazy_loading_enabled()` was omitted by accident in the logic to set the attribute with its default value on `img` tags from `get_the_post_thumbnail()`. Without this check, it is impossible for third-party developers to modify the behavior for featured images.
    
    This changeset fixes the problem by introducing the check.
    
    Props flixos90, joemcgill, mukesh27.
    Fixes #57490.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55093 602fd350-edb4-49c9-b593-d223f7449a82

commit 84bb54d618beef2312ad0c0bb1ee121e4fd1d2d0
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Wed Jan 18 21:58:00 2023 +0000

    Themes: Revert caching from r55086.
    
    Calls to `wp-admin/load-styles.php` do not include the loading of `wp_cache_*()` functions. With [55086], this caused a fatal error:
    
    {{{
    Fatal error: Uncaught Error: Call to undefined function wp_cache_get() in /wp-includes/global-styles-and-settings.php on line 285
    }}}
    
    In some production and local environments running `trunk`, the admin area looked broken as the styling was not loaded as there were no HTTP requests.
    
    This commit reverts the caching from [55086] to restore sites running `trunk` until a solution is found.
    
    Follow-up to [55086].
    
    Props Otto42, dmsnell, costdev.
    See #56975.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55092 602fd350-edb4-49c9-b593-d223f7449a82

commit e57e0e80b9b3953d842f3397a4c83fdac329d8ee
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Wed Jan 18 18:49:19 2023 +0000

    Media: Prevent hidden overflow on uploaded image names.
    
    Allow the image upload notification to expand height and display the full image name when uploaded. Primarily effects mobile devices, where the available space for image names is narrow.
    
    Props sumitsingh.
    Fixes #54812.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55091 602fd350-edb4-49c9-b593-d223f7449a82

commit d54b686c8d5c7b207a843cdaa81f4e34664be165
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Jan 18 16:17:41 2023 +0000

    Code Modernization: Rename parameters that use reserved keywords in `phpunit/tests/kses.php`.
    
    While using reserved PHP keywords as parameter name labels is allowed, in the context of function calls using named parameters in PHP 8.0+, this will easily lead to confusion. To avoid that, it is recommended not to use reserved keywords as function parameter names.
    
    This commit:
    * Renames the `$string` parameter to `$content` in:
     * `Tests_Kses::test_wp_filter_post_kses_address()`
     * `Tests_Kses::test_wp_filter_post_kses_a()`
     * `Tests_Kses::test_wp_filter_post_kses_abbr()`
    * Amends a few parameters and variables in other tests in the same file for consistency.
    
    Follow-up to [52946], [52996], [52997], [52998], [53003], [53014], [53029], [53039], [53116], [53117], [53137], [53174], [53184], [53185], [53192], [53193], [53198], [53203], [53207], [53215], [53216], [53220], [53230], [53232], [53236], [53239], [53240], [53242], [53243], [53245], [53246], [53257], [53269], [53270], [53271], [53272], [53273], [53274], [53275], [53276], [53277], [53281], [53283], [53284], [53285], [53287], [53364], [53365], [54927], [54929], [54930], [54931], [54932], [54933], [54938], [54943], [54944], [54945], [54946], [54947], [54948], [54950], [54951], [54952], [54956], [54959], [54960], [54961], [54962], [54964], [54965], [54969], [54970], [54971], [54972], [54996], [55000], [55011], [55013], [55014], [55015], [55016], [55017], [55020], [55021], [55023], [55027], [55028], [55034], [55036], [55037], [55038], [55039], [55049], [55050], [55060], [55062], [55064], [55065], [55076], [55077], [55078], [55081].
    
    Props jrf, aristath, poena, justinahinon, SergeyBiryukov.
    See #56788.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55090 602fd350-edb4-49c9-b593-d223f7449a82

commit 8d56405c59aac89173d4a0f5d1ad7ba9d0e7ecd5
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Wed Jan 18 14:50:29 2023 +0000

    Twenty Twenty-One: Revert [55088].
    
    [55088] introduced some issues with the "Test Default Themes & Create ZIPs" workflow on GitHub Actions. This changeset reverts it to leave time to figure out what failed and why.
    
    See #53220.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55089 602fd350-edb4-49c9-b593-d223f7449a82

commit 27cf88122d6f26488a683d32a51ef2ef27e5acd0
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Wed Jan 18 13:31:16 2023 +0000

    Twenty Twenty-One: Fix obsolete navigation block styles for better Global Styles support.
    
    This changeset removes CSS custom properties that targets navigation menu items to avoid preventing the block from inheriting padding values set by the Global Styles system.
    
    Props Joen, desrosj, poena.
    Fixes #53220.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55088 602fd350-edb4-49c9-b593-d223f7449a82

commit 308dd0ae53a8bbbbf2270d43667c0fe4525c6169
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Jan 18 12:58:05 2023 +0000

    Tests: Add unique messages to assertions for attachment filenames in `wp_mail()`.
    
    This makes the assertions more helpful, as per the [https://make.wordpress.org/core/handbook/testing/automated-testing/writing-phpunit-tests/#using-assertions Writing PHP Tests] guidelines:
    > All PHPUnit assertions, as well as all WordPress custom assertions, allow for a `$message` parameter to be passed. This message will be displayed when the assertion fails and can help immensely when debugging a test. This parameter should always be used if more than one assertion is used in a test method.
    
    Follow-up to [55030], [55032].
    
    Props mukesh27, costdev.
    See #28407.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55087 602fd350-edb4-49c9-b593-d223f7449a82

commit 6a9e92dc76e397737cdf5f2322c2540eacaf0c45
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Wed Jan 18 11:38:16 2023 +0000

    Themes: Introduce wp_theme_has_theme_json() for public consumption.
    
    Adds `wp_theme_has_theme_json()` for public consumption, to replace the private internal Core-only `WP_Theme_JSON_Resolver::theme_has_support()` method. This new global function checks if a theme or its parent has a `theme.json` file.
    
    For performance, results are cached as an integer `1` or `0` in the `'theme_json'` group with `'wp_theme_has_theme_json'` key. This is a non-persistent cache. Why? To make the derived data from `theme.json` is always fresh from the potential modifications done via hooks that can use dynamic data (modify the stylesheet depending on some option, settings depending on user permissions, etc.).
    
    Also adds a new public function `wp_clean_theme_json_cache()` to clear the cache on `'switch_theme'` and `start_previewing_theme'`.
    
    References:
    * [https://github.com/WordPress/gutenberg/pull/45168 Gutenberg PR 45168] Add `wp_theme_has_theme_json` as a public API to know whether a theme has a `theme.json`.
    * [https://github.com/WordPress/gutenberg/pull/45380 Gutenberg PR 45380] Deprecate `WP_Theme_JSON_Resolver:theme_has_support()`.
    * [https://github.com/WordPress/gutenberg/pull/46150 Gutenberg PR 46150] Make `theme.json` object caches non-persistent.
    * [https://github.com/WordPress/gutenberg/pull/45979 Gutenberg PR 45979] Don't check if constants set by `wp_initial_constants()` are defined.
    * [https://github.com/WordPress/gutenberg/pull/45950 Gutenberg PR 45950] Cleaner logic in `wp_theme_has_theme_json`.
    
    Follow-up to [54493], [53282], [52744], [52049], [50959].
    
    Props oandregal, afragen, alexstine, aristath, azaozz, costdev, flixos90, hellofromTonya, mamaduka, mcsf, ocean90, spacedmonkey.
    Fixes #56975.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55086 602fd350-edb4-49c9-b593-d223f7449a82

commit 410889469f29a39c308619c7437d8a7520575860
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Wed Jan 18 11:18:36 2023 +0000

    Posts, Post Types: Use persistent caching in `get_adjacent_post` function.
    
    The function `get_adjacent_post` cached the results of database query in the cache group `counts`. This is a none persistent group and meant cache would not persist on the next request. Change cache to save to the `posts` cache group. Cache invalidation is done by using get last changed value of the `posts` and `terms` group as a salt for the cache key.
    
    Props spacedmonkey, peterwilsoncc, johnbillion, boonebgorges, mukesh27, dd32.
    Fixes #41131.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55085 602fd350-edb4-49c9-b593-d223f7449a82

commit 15b5159d49e1fb4b27b83da8bfd54f70a300841e
Author: Riad Benguella <youknowriad@git.wordpress.org>
Date:   Wed Jan 18 11:14:33 2023 +0000

    Editor: Add inert attribute polyfill.
    
    The new Gutenberg packages are using the inert attribute
    to disable some parts of the HTML tree in an accessible way.
    
    Props ntsekouras.
    Fixes #57492.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55084 602fd350-edb4-49c9-b593-d223f7449a82

commit ec6b2f20455cf39bd269b2f71749c03140d79ef1
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Wed Jan 18 09:56:55 2023 +0000

    Taxonomy: Remove placeholder from `WP_Term_Query` cache key.
    
    Remove escape placeholder from query cache key, as placeholders are on a based on a unique id on every request. This meant that it is impossible for a cache to be reused, making queries that use escape placeholders such as searches, meta queries or using the `description__like` / `name__like` parameters were unable to be cached.
    
    Follow on from [54634].
    
    Props spacedmonkey, peterwilsoncc.
    Fixes #57298.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55083 602fd350-edb4-49c9-b593-d223f7449a82

commit 7f788f38c8a8a53880730250ea1bd0df2f327d9e
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Jan 17 21:32:42 2023 +0000

    Administration: Use a consistent capitalization in Privacy Policy related strings.
    
    This changeset fixes a few use case:
    - When referring to the Privacy Policy page, "Privacy Policy" should use capitalization on "Privacy Policy", but "page" should remain lowercase;
    - When referring to the fact that a website needs, let's say "a relevant privacy policy", "privacy policy" should stay lowercase.
    
    This changeset also updates other small capitalization issues.
    
    Props aravindajith, audrasjb, sarathar, nithi22, costdev.
    Fixes #57226.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55082 602fd350-edb4-49c9-b593-d223f7449a82

commit e8eda98db9598517a56ee6b58673a741e9c32c41
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Jan 17 14:05:38 2023 +0000

    Code Modernization: Rename parameters that use reserved keywords in `phpunit/tests/hooks/addFilter.php`.
    
    While using reserved PHP keywords as parameter name labels is allowed, in the context of function calls using named parameters in PHP 8.0+, this will easily lead to confusion. To avoid that, it is recommended not to use reserved keywords as function parameter names.
    
    This commit renames the `$string` parameter to `$value` in:
    * `Tests_Hooks_AddFilter::_filter_remove_and_add1()`
    * `Tests_Hooks_AddFilter::_filter_remove_and_add2()`
    * `Tests_Hooks_AddFilter::_filter_remove_and_recurse_and_add2()`
    * `Tests_Hooks_AddFilter::_filter_remove_and_add3()`
    * `Tests_Hooks_AddFilter::_filter_remove_and_add4()`
    
    Follow-up to [52946], [52996], [52997], [52998], [53003], [53014], [53029], [53039], [53116], [53117], [53137], [53174], [53184], [53185], [53192], [53193], [53198], [53203], [53207], [53215], [53216], [53220], [53230], [53232], [53236], [53239], [53240], [53242], [53243], [53245], [53246], [53257], [53269], [53270], [53271], [53272], [53273], [53274], [53275], [53276], [53277], [53281], [53283], [53284], [53285], [53287], [53364], [53365], [54927], [54929], [54930], [54931], [54932], [54933], [54938], [54943], [54944], [54945], [54946], [54947], [54948], [54950], [54951], [54952], [54956], [54959], [54960], [54961], [54962], [54964], [54965], [54969], [54970], [54971], [54972], [54996], [55000], [55011], [55013], [55014], [55015], [55016], [55017], [55020], [55021], [55023], [55027], [55028], [55034], [55036], [55037], [55038], [55039], [55049], [55050], [55060], [55062], [55064], [55065], [55076], [55077], [55078].
    
    Props jrf, aristath, poena, justinahinon, SergeyBiryukov.
    See #56788.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55081 602fd350-edb4-49c9-b593-d223f7449a82

commit d9ec8536f7961ca066dc54c39e53fd41cbc5ecab
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Mon Jan 16 20:37:19 2023 +0000

    Docs: Remove unused `post_modified` and `post_modified_gmt` params from `wp_insert_post()` docblock.
    
    Props dshanske, mehulkaklotar.
    Fixes #57473.
    See #56792.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55080 602fd350-edb4-49c9-b593-d223f7449a82

commit 659694d2c6d5a5a3d47952454112a0168a1d2a02
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Mon Jan 16 19:57:29 2023 +0000

    Editor: Update packages to unblock lazy-loading issues.
    
    Fixing the issue that featured images are always lazy-loaded in block themes required an upstream Gutenberg change https://github.com/WordPress/gutenberg/pull/45534. This changeset updates packages in order to unblock the remainder of the fix in `trunk`.
    
    Props mamaduka.
    See #56930.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55079 602fd350-edb4-49c9-b593-d223f7449a82

commit f438c0bff6674eed40a8300dc8145386e9016a5b
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Jan 16 16:24:45 2023 +0000

    Code Modernization: Rename parameters that use reserved keywords in `phpunit/tests/functions/wpListSort.php`.
    
    While using reserved PHP keywords as parameter name labels is allowed, in the context of function calls using named parameters in PHP 8.0+, this will easily lead to confusion. To avoid that, it is recommended not to use reserved keywords as function parameter names.
    
    This commit renames the `$list` parameter to `$input_list` in:
    * `Tests_Functions_wpListSort::test_wp_list_sort()`
    * `Tests_Functions_wpListSort::test_wp_list_sort_preserve_keys()`
    
    Follow-up to [52946], [52996], [52997], [52998], [53003], [53014], [53029], [53039], [53116], [53117], [53137], [53174], [53184], [53185], [53192], [53193], [53198], [53203], [53207], [53215], [53216], [53220], [53230], [53232], [53236], [53239], [53240], [53242], [53243], [53245], [53246], [53257], [53269], [53270], [53271], [53272], [53273], [53274], [53275], [53276], [53277], [53281], [53283], [53284], [53285], [53287], [53364], [53365], [54927], [54929], [54930], [54931], [54932], [54933], [54938], [54943], [54944], [54945], [54946], [54947], [54948], [54950], [54951], [54952], [54956], [54959], [54960], [54961], [54962], [54964], [54965], [54969], [54970], [54971], [54972], [54996], [55000], [55011], [55013], [55014], [55015], [55016], [55017], [55020], [55021], [55023], [55027], [55028], [55034], [55036], [55037], [55038], [55039], [55049], [55050], [55060], [55062], [55064], [55065], [55076], [55077].
    
    Props jrf, aristath, poena, justinahinon, SergeyBiryukov.
    See #56788.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55078 602fd350-edb4-49c9-b593-d223f7449a82

commit f7bb05ab970ce0c9d5b7aba4880554166f35be10
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Jan 16 16:19:54 2023 +0000

    Code Modernization: Rename parameters that use reserved keywords in `phpunit/tests/functions/wpListPluck.php`.
    
    While using reserved PHP keywords as parameter name labels is allowed, in the context of function calls using named parameters in PHP 8.0+, this will easily lead to confusion. To avoid that, it is recommended not to use reserved keywords as function parameter names.
    
    This commit renames the `$list` parameter to `$input_list` in `Tests_Functions_wpListPluck::test_wp_list_pluck()`.
    
    Follow-up to [52946], [52996], [52997], [52998], [53003], [53014], [53029], [53039], [53116], [53117], [53137], [53174], [53184], [53185], [53192], [53193], [53198], [53203], [53207], [53215], [53216], [53220], [53230], [53232], [53236], [53239], [53240], [53242], [53243], [53245], [53246], [53257], [53269], [53270], [53271], [53272], [53273], [53274], [53275], [53276], [53277], [53281], [53283], [53284], [53285], [53287], [53364], [53365], [54927], [54929], [54930], [54931], [54932], [54933], [54938], [54943], [54944], [54945], [54946], [54947], [54948], [54950], [54951], [54952], [54956], [54959], [54960], [54961], [54962], [54964], [54965], [54969], [54970], [54971], [54972], [54996], [55000], [55011], [55013], [55014], [55015], [55016], [55017], [55020], [55021], [55023], [55027], [55028], [55034], [55036], [55037], [55038], [55039], [55049], [55050], [55060], [55062], [55064], [55065], [55076].
    
    Props jrf, aristath, poena, justinahinon, SergeyBiryukov.
    See #56788.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55077 602fd350-edb4-49c9-b593-d223f7449a82

commit 9a309c3609244e9e3fcdb080edf0851797db3131
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Jan 16 16:16:48 2023 +0000

    Code Modernization: Rename parameters that use reserved keywords in `phpunit/tests/functions/wpListFilter.php`.
    
    While using reserved PHP keywords as parameter name labels is allowed, in the context of function calls using named parameters in PHP 8.0+, this will easily lead to confusion. To avoid that, it is recommended not to use reserved keywords as function parameter names.
    
    This commit renames the `$list` parameter to `$input_list` in `Tests_Functions_wpListFilter::test_wp_list_filter()`.
    
    Follow-up to [52946], [52996], [52997], [52998], [53003], [53014], [53029], [53039], [53116], [53117], [53137], [53174], [53184], [53185], [53192], [53193], [53198], [53203], [53207], [53215], [53216], [53220], [53230], [53232], [53236], [53239], [53240], [53242], [53243], [53245], [53246], [53257], [53269], [53270], [53271], [53272], [53273], [53274], [53275], [53276], [53277], [53281], [53283], [53284], [53285], [53287], [53364], [53365], [54927], [54929], [54930], [54931], [54932], [54933], [54938], [54943], [54944], [54945], [54946], [54947], [54948], [54950], [54951], [54952], [54956], [54959], [54960], [54961], [54962], [54964], [54965], [54969], [54970], [54971], [54972], [54996], [55000], [55011], [55013], [55014], [55015], [55016], [55017], [55020], [55021], [55023], [55027], [55028], [55034], [55036], [55037], [55038], [55039], [55049], [55050], [55060], [55062], [55064], [55065].
    
    Props jrf, aristath, poena, justinahinon, SergeyBiryukov.
    See #56788.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55076 602fd350-edb4-49c9-b593-d223f7449a82

commit 78f6ac9c29eedd528d5748ee99613b715ac94e9c
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Sun Jan 15 17:50:13 2023 +0000

    Docs: Various docblock fixes in Multisite WordPress API related functions.
    
    Follow-up to [55074].
    
    See #56792.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55075 602fd350-edb4-49c9-b593-d223f7449a82

commit 253b2db06b9e3633005305c132ea51f673a61276
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Sun Jan 15 17:16:02 2023 +0000

    Docs: Add a missing quote to `wp_is_large_network()` Docblock params.
    
    Props lanacodes.
    Fixes #57468.
    See #56792.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55074 602fd350-edb4-49c9-b593-d223f7449a82

commit 682c579436aebbc1ff7fa5454150aa9d25653849
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Sun Jan 15 15:22:04 2023 +0000

    Docs: Typo correction in POP3 class `send_cmd()` inline docs.
    
    Props nitman43, manojkpatil, kebbet.
    Fixes #57449.
    See #56792.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55073 602fd350-edb4-49c9-b593-d223f7449a82

commit 61074b97e786ec71cddd74503f4807b7dcf4a8df
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Sun Jan 15 14:55:19 2023 +0000

    Docs: Use third-person singular verbs for Script Loader related function descriptions, as per docblocks standards.
    
    See #56792.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55072 602fd350-edb4-49c9-b593-d223f7449a82

commit 124a4a9773d1513b3dd3c8c7e296c95eb2612025
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Sun Jan 15 14:48:03 2023 +0000

    Docs: Improve `wp_style_add_data()` function description.
    
    This changeset removes an extra apostrophe in `wp_style_add_data()` DocBlock.
    
    Props lanacodes, ashrafulsarkar, SergeyBiryukov.
    Fixes #57466.
    See #56792.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55071 602fd350-edb4-49c9-b593-d223f7449a82

commit 3a63ed2939092ceeccbfd5733d009f1252eca1e6
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Jan 15 13:36:10 2023 +0000

    Tests: Use more specific assertions in image saving tests.
    
    When passed a `WP_Image_Editor` instance as the `$image` parameter, `wp_save_image_file()` returns an array on success, so we can specifically check for an array instead of any non-empty result.
    
    Likewise, in PDF tests, when creating an attachment is expected to return an integer ID and not a `WP_Error` object, we can specifically check for that.
    
    Follow-up to [1061/tests], [38949], [39617], [42792], [53529], [53530], [53531], [55019], [55066].
    
    See #56793.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55070 602fd350-edb4-49c9-b593-d223f7449a82

commit b223ec07eda42d237b69bca3530e72af45d52ca0
Author: John Blackbourn <johnbillion@git.wordpress.org>
Date:   Sun Jan 15 00:59:52 2023 +0000

    HTTP API: Correct the name of a filter referenced in the docs for `wp_redirect()` and `wp_safe_redirect()`.
    
    Props pbiron, audrasjb, SergeyBiryukov
    
    Fixes #57464
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55069 602fd350-edb4-49c9-b593-d223f7449a82

commit f434da3decf9208532b0f3e6e2ee7ea069597ffd
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Sat Jan 14 10:47:40 2023 +0000

    Embeds: Update Mixcloud oEmbed URL to the new domain.
    
    Replaces `https://www.mixcloud.com/oembed` with `https://app.mixcloud.com/oembed`.
    Mixcloud plan to redirect old URLs to the new endpoint.
    
    Props matclayton, peterwilsoncc, audrasjb, ayeshrajans.
    Fixes #57376.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55068 602fd350-edb4-49c9-b593-d223f7449a82

commit cb8713510330cba710f1c5bdca5fb7c18e182aa7
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Sat Jan 14 09:34:55 2023 +0000

    Themes: Add opt-in Appearance Tools support for Classic Themes.
    
    This changeset merges the following changes from Gutenberg repository:
    
    - Allow themes without `theme.json` to opt-in to appearance tools via `add_theme_support( 'appearance-tools' );`
    - Update `wpThemeJsonResolver` unit tests accordingly
    
    See the following pull request for more info: https://github.com/WordPress/gutenberg/pull/43337
    
    Props ironprogrammer, audrasjb.
    Fixes #57460.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55067 602fd350-edb4-49c9-b593-d223f7449a82

commit c17a4760b7482f0859329fdf6e94f6c7d6c468f7
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Jan 14 02:06:02 2023 +0000

    Tests: Move the test for `wp_save_image_file()` with a GD resource to a more appropriate place.
    
    When passed a GD resource as `$image`, `wp_save_image_file()` should throw a deprecated argument notice:
    {{{
    Function wp_save_image_file was called with an argument that is deprecated since version 3.5.0!
    $image needs to be a WP_Image_Editor object.
    }}}
    
    The test verifies that the notice is thrown as expected.
    
    Includes:
    * Removing the `Tests_Functions_Deprecated` class. It appears to be initially intended for testing deprecated functions or arguments, but this was later superseded by the `@expectedDeprecated` annotation.
    * Removing a redundant test for `wp_save_image_file()` **not** throwing a deprecation notice when passed a `WP_Image_Editor` instance. This is already covered by `test_wp_save_image_file()`, which would fail if there is an unexpected deprecation notice.
    
    Follow-up to [1061/tests], [25408], [25409], [53529].
    
    See #56793.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55066 602fd350-edb4-49c9-b593-d223f7449a82

commit be2f7bbfae6cb734c97b58fbf30fb4586c27e7e8
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Jan 13 22:11:04 2023 +0000

    Code Modernization: Rename parameters that use reserved keywords in `phpunit/tests/functions/deprecated.php`.
    
    While using reserved PHP keywords as parameter name labels is allowed, in the context of function calls using named parameters in PHP 8.0+, this will easily lead to confusion. To avoid that, it is recommended not to use reserved keywords as function parameter names.
    
    This commit renames the `$function` parameter to `$function_name` in `Tests_Functions_Deprecated::deprecated_function()`.
    
    Follow-up to [52946], [52996], [52997], [52998], [53003], [53014], [53029], [53039], [53116], [53117], [53137], [53174], [53184], [53185], [53192], [53193], [53198], [53203], [53207], [53215], [53216], [53220], [53230], [53232], [53236], [53239], [53240], [53242], [53243], [53245], [53246], [53257], [53269], [53270], [53271], [53272], [53273], [53274], [53275], [53276], [53277], [53281], [53283], [53284], [53285], [53287], [53364], [53365], [54927], [54929], [54930], [54931], [54932], [54933], [54938], [54943], [54944], [54945], [54946], [54947], [54948], [54950], [54951], [54952], [54956], [54959], [54960], [54961], [54962], [54964], [54965], [54969], [54970], [54971], [54972], [54996], [55000], [55011], [55013], [55014], [55015], [55016], [55017], [55020], [55021], [55023], [55027], [55028], [55034], [55036], [55037], [55038], [55039], [55049], [55050], [55060], [55062], [55064].
    
    Props jrf, aristath, poena, justinahinon, SergeyBiryukov.
    See #56788.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55065 602fd350-edb4-49c9-b593-d223f7449a82

commit f254a95e635aa4e2151277ec5d4ea3a0e15cdfd3
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Jan 13 14:36:11 2023 +0000

    Code Modernization: Rename parameters that use reserved keywords in `phpunit/tests/formatting/sanitizeTrackbackUrls.php`.
    
    While using reserved PHP keywords as parameter name labels is allowed, in the context of function calls using named parameters in PHP 8.0+, this will easily lead to confusion. To avoid that, it is recommended not to use reserved keywords as function parameter names.
    
    This commit renames the `$break` parameter to `$separator` in `Tests_Formatting_SanitizeTrackbackUrls::test_sanitize_trackback_urls_with_multiple_urls()`.
    
    Follow-up to [52946], [52996], [52997], [52998], [53003], [53014], [53029], [53039], [53116], [53117], [53137], [53174], [53184], [53185], [53192], [53193], [53198], [53203], [53207], [53215], [53216], [53220], [53230], [53232], [53236], [53239], [53240], [53242], [53243], [53245], [53246], [53257], [53269], [53270], [53271], [53272], [53273], [53274], [53275], [53276], [53277], [53281], [53283], [53284], [53285], [53287], [53364], [53365], [54927], [54929], [54930], [54931], [54932], [54933], [54938], [54943], [54944], [54945], [54946], [54947], [54948], [54950], [54951], [54952], [54956], [54959], [54960], [54961], [54962], [54964], [54965], [54969], [54970], [54971], [54972], [54996], [55000], [55011], [55013], [55014], [55015], [55016], [55017], [55020], [55021], [55023], [55027], [55028], [55034], [55036], [55037], [55038], [55039], [55049], [55050], [55060], [55062].
    
    Props jrf, aristath, poena, justinahinon, SergeyBiryukov.
    See #56788.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55064 602fd350-edb4-49c9-b593-d223f7449a82

commit 1c9f84f963ecc27b116e12ec32bdd61992fd045c
Author: John Blackbourn <johnbillion@git.wordpress.org>
Date:   Fri Jan 13 14:20:46 2023 +0000

    HTTP API: Correct the documentation for the `https_ssl_verify` and `https_local_ssl_verify` filters.
    
    The value for both these filters can also contain a string path to a CA file used to authenticate the identity of the remote server.
    
    Props chesio, mcaskill
    
    Fixes #54803
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55063 602fd350-edb4-49c9-b593-d223f7449a82

commit 4912e0107dddbc34bdac71a1a7bc9f8e21335742
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Jan 13 13:57:18 2023 +0000

    Code Modernization: Rename parameters that use reserved keywords in `phpunit/tests/formatting/sanitizeTextField.php`.
    
    While using reserved PHP keywords as parameter name labels is allowed, in the context of function calls using named parameters in PHP 8.0+, this will easily lead to confusion. To avoid that, it is recommended not to use reserved keywords as function parameter names.
    
    This commit renames the `$string` parameter to `$str` in `Tests_Formatting_SanitizeTextField::test_sanitize_text_field()`.
    
    Follow-up to [52946], [52996], [52997], [52998], [53003], [53014], [53029], [53039], [53116], [53117], [53137], [53174], [53184], [53185], [53192], [53193], [53198], [53203], [53207], [53215], [53216], [53220], [53230], [53232], [53236], [53239], [53240], [53242], [53243], [53245], [53246], [53257], [53269], [53270], [53271], [53272], [53273], [53274], [53275], [53276], [53277], [53281], [53283], [53284], [53285], [53287], [53364], [53365], [54927], [54929], [54930], [54931], [54932], [54933], [54938], [54943], [54944], [54945], [54946], [54947], [54948], [54950], [54951], [54952], [54956], [54959], [54960], [54961], [54962], [54964], [54965], [54969], [54970], [54971], [54972], [54996], [55000], [55011], [55013], [55014], [55015], [55016], [55017], [55020], [55021], [55023], [55027], [55028], [55034], [55036], [55037], [55038], [55039], [55049], [55050], [55060].
    
    Props jrf, aristath, poena, justinahinon, SergeyBiryukov.
    See #56788.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55062 602fd350-edb4-49c9-b593-d223f7449a82

commit 9d48ae36c3a4e19e6a830749a0696593c61b4ebb
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Fri Jan 13 13:17:45 2023 +0000

    Bundled Themes: Add Mastodon domains for menu item icons.
    
    This changeset adds the top 10 Mastodon domains by popularity to Twenty Twenty and Twenty Twenty-One Social icon feature.
    
    Note: other Mastodon domains can be added to the array of domain mapping using `twentytwenty_social_icons_map` and `twenty_twenty_one_social_icons_map` filters.
    
    Props triumvirate, sabernhardt, audrasjb, peterwilsoncc, rryyaanndd, ianbelanger.
    Fixes #57293, #49099.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55061 602fd350-edb4-49c9-b593-d223f7449a82

commit f8904ff48a4e24fd1c588dabbe79405636535e1e
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Jan 13 00:59:29 2023 +0000

    Code Modernization: Rename parameters that use reserved keywords in `phpunit/tests/file.php`.
    
    While using reserved PHP keywords as parameter name labels is allowed, in the context of function calls using named parameters in PHP 8.0+, this will easily lead to confusion. To avoid that, it is recommended not to use reserved keywords as function parameter names.
    
    This commit renames the `$case` parameter to `$filename` in `Tests_File::test_wp_tempnam()`.
    
    Follow-up to [52946], [52996], [52997], [52998], [53003], [53014], [53029], [53039], [53116], [53117], [53137], [53174], [53184], [53185], [53192], [53193], [53198], [53203], [53207], [53215], [53216], [53220], [53230], [53232], [53236], [53239], [53240], [53242], [53243], [53245], [53246], [53257], [53269], [53270], [53271], [53272], [53273], [53274], [53275], [53276], [53277], [53281], [53283], [53284], [53285], [53287], [53364], [53365], [54927], [54929], [54930], [54931], [54932], [54933], [54938], [54943], [54944], [54945], [54946], [54947], [54948], [54950], [54951], [54952], [54956], [54959], [54960], [54961], [54962], [54964], [54965], [54969], [54970], [54971], [54972], [54996], [55000], [55011], [55013], [55014], [55015], [55016], [55017], [55020], [55021], [55023], [55027], [55028], [55034], [55036], [55037], [55038], [55039], [55049], [55050].
    
    Props jrf, aristath, poena, justinahinon, SergeyBiryukov.
    See #56788.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55060 602fd350-edb4-49c9-b593-d223f7449a82

commit 515d3fe69fab163a68d4610715c036d100a9e53f
Author: Andrew Ozz <azaozz@git.wordpress.org>
Date:   Thu Jan 12 23:23:01 2023 +0000

    Menus: Compare `$menu_item->ID` and `$menu_item->menu_item_parent` as strings and avoid moidifying them. Plugins may change the ID to a string.
    
    Props Chouby, peterwilsoncc, Chrystl, manooweb, azaozz.
    Fixes #57169.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55059 602fd350-edb4-49c9-b593-d223f7449a82

commit 771a0c9f58e5a42c13661c115150d7d645f7617e
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Jan 12 23:06:20 2023 +0000

    Build/Test Tools: Fix an incorrect inline comment in `Tests_Ajax_wpAjaxReplytoComment`.
    
    This changeset replaces "Become an administrator" with "Become a subscriber" in an inline comment located in `Tests_Ajax_wpAjaxReplytoComment::test_as_subscriber`.
    
    Props davidbinda.
    Fixes #57452.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55058 602fd350-edb4-49c9-b593-d223f7449a82

commit 9dcb8f97c9613c6925b6957bf4ca76c9a4c5e8ca
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Jan 12 13:12:44 2023 +0000

    Docs: Correct the type of the `$user_id` parameter in `wp_set_password` action.
    
    Follow-up to [6600], [55056].
    
    See #57436.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55057 602fd350-edb4-49c9-b593-d223f7449a82

commit 344c4dce6881a5649ba69b50a6e9b89ff4a890ef
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Jan 12 09:03:29 2023 +0000

    Users: Add an action hook on `wp_set_password()`.
    
    This changeset introduces the `wp_set_password` action hook, triggered after a password is set for a given user. As several plugins are calling `wp_set_password()` directly, adding an action to the end of the function will help plugin authors to catch all instances of password setting.
    
    Props tanner-m, audrasjb.
    Fixes #57436.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55056 602fd350-edb4-49c9-b593-d223f7449a82

commit 5836a438084356ebd232ffc152e18a6cf1c4f16f
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Jan 12 00:17:45 2023 +0000

    Upgrade/Install: Revert a temporary conditional for testing the Rollbacks feature project.
    
    The [https://make.wordpress.org/core/2021/02/19/feature-plugin-rollback-update-failure/ Rollback Update Failure feature project] has been split into two plugins for testing:
     * [https://github.com/afragen/faster-updates Faster Updates] speeds up plugin or theme updates by moving files rather than copying them, thus decreasing the memory usage and reducing the chance of timeouts or running out of disk space during updates.
     * [https://wordpress.org/plugins/rollback-update-failure/ Rollback Update Failure] creates a temporary backup of plugins and themes before updating. This aims to make the update process more reliable and ensure that if a plugin or theme update fails, the previous version can be safely restored.
    
    The current priority of the feature project is to test the new `move_dir()` function, which offers better performance than `copy_dir()`. Instead of copying a directory in a recursive manner file by file from one location to another, `move_dir()` uses the `rename()` PHP function to speed up the process, which is instrumental in updating large plugins without a delay. If the renaming failed, it falls back to the `copy_dir()` WP function.
    
    The `move_dir()` function is self-contained in the Faster Updates plugin and does not require any special hooks in core, so the conditional previously added to `WP_Upgrader::install_package()` to facilitate testing is no longer needed and can be removed.
    
    Follow-up to [53578], [54484], [54643].
    
    Props afragen, costdev, peterwilsoncc.
    See #56057, #57375, #57386.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55055 602fd350-edb4-49c9-b593-d223f7449a82

commit 55c34595d013ed02c1126a05ede66c1943ab72b3
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Wed Jan 11 23:18:12 2023 +0000

    Date/Time: Prevent errors in `current_time()` when using timestamp and no value for `gmt_offset`.
    
    This changeset moves typecasting to affect the `get_option` value, which ensures that when math is done it does not generate any error. In PHP 7.4 and earlier the previous implementation was dismissed as a warning, but in PHP 8+ it would have throw a fatal error.
    
    Follow-up to [45856].
    
    Props Nick_theGeek, SergeyBiryukov, johnbillion.
    Fixes #57035.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55054 602fd350-edb4-49c9-b593-d223f7449a82

commit 0aa20cc0502f9d46cc1fe99abd3ba8bdfb4fc5d1
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Wed Jan 11 15:21:18 2023 +0000

    Formatting: Improve performance of `esc_url()`.
    
    This changeset indirectly improves performance of the commonly used `esc_url()` function by optimizing the low-level function `wp_kses_bad_protocol()` for the by far most common scenarios, which are URLs using either the `http` or `https` protocol.
    
    For this common scenario, the changeset now avoids the `do while` loop. While for a single call to the `esc_url()` function the performance wins are negligible, given that `esc_url()` is often called many times in one page load, they can add up, making this a worthwhile improvement.
    
    Props mukesh27, schlessera, markjaquith, azaozz, spacedmonkey.
    Fixes #22951.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55053 602fd350-edb4-49c9-b593-d223f7449a82

commit c3aed4a3b1606ab9dd9fdabb0caa8124ddbd3f5c
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Wed Jan 11 14:05:22 2023 +0000

    Code Modernization: Fix a jQuery Migrate deprecation in `wpdialog`.
    
    This changeset replaces a `focus()` shorthand in WP Core's customized jQuery UI widget `wpdialog` to avoid a jQuery Migrate deprecation notice in the browser's console.
    
    Props TobiasBg, elifvish.
    Fixes #56830.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55052 602fd350-edb4-49c9-b593-d223f7449a82

commit a930d258b932b2e7d6e50f7fccc1d3d0607a5f0f
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Wed Jan 11 13:57:17 2023 +0000

    Docs: Align spelling with American English.
    
    This changeset updates the use of "-ise" suffix to American English "-ize" in various files.
    
    Follow-up to [54663], [54664], [55043], [55044].
    
    Props kebbet, mukesh27.
    See #56811, #56792.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55051 602fd350-edb4-49c9-b593-d223f7449a82

commit c45465ca9f0c2195681b4009356c5d1941745b99
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Jan 11 12:21:41 2023 +0000

    Code Modernization: Rename parameters that use reserved keywords in `phpunit/tests/customize/setting.php`.
    
    While using reserved PHP keywords as parameter name labels is allowed, in the context of function calls using named parameters in PHP 8.0+, this will easily lead to confusion. To avoid that, it is recommended not to use reserved keywords as function parameter names.
    
    This commit renames the `$default` parameter to `$default_value` in:
    * `Tests_WP_Customize_Setting::custom_type_getter()`
    * `Tests_WP_Customize_Setting::custom_type_value_filter()`
    
    Follow-up to [52946], [52996], [52997], [52998], [53003], [53014], [53029], [53039], [53116], [53117], [53137], [53174], [53184], [53185], [53192], [53193], [53198], [53203], [53207], [53215], [53216], [53220], [53230], [53232], [53236], [53239], [53240], [53242], [53243], [53245], [53246], [53257], [53269], [53270], [53271], [53272], [53273], [53274], [53275], [53276], [53277], [53281], [53283], [53284], [53285], [53287], [53364], [53365], [54927], [54929], [54930], [54931], [54932], [54933], [54938], [54943], [54944], [54945], [54946], [54947], [54948], [54950], [54951], [54952], [54956], [54959], [54960], [54961], [54962], [54964], [54965], [54969], [54970], [54971], [54972], [54996], [55000], [55011], [55013], [55014], [55015], [55016], [55017], [55020], [55021], [55023], [55027], [55028], [55034], [55036], [55037], [55038], [55039], [55049].
    
    Props jrf, aristath, poena, justinahinon, SergeyBiryukov.
    See #56788.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55050 602fd350-edb4-49c9-b593-d223f7449a82

commit f3dc0609c042a3e7857c8581c2301cd319cb4362
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Jan 11 11:50:01 2023 +0000

    Code Modernization: Rename parameters that use reserved keywords in `phpunit/tests/customize/nav-menus.php`.
    
    While using reserved PHP keywords as parameter name labels is allowed, in the context of function calls using named parameters in PHP 8.0+, this will easily lead to confusion. To avoid that, it is recommended not to use reserved keywords as function parameter names.
    
    This commit renames the `$type` and `$object` parameters to `$object_type` and `$object_name` in `Test_WP_Customize_Nav_Menus::filter_items()`.
    
    Follow-up to [52946], [52996], [52997], [52998], [53003], [53014], [53029], [53039], [53116], [53117], [53137], [53174], [53184], [53185], [53192], [53193], [53198], [53203], [53207], [53215], [53216], [53220], [53230], [53232], [53236], [53239], [53240], [53242], [53243], [53245], [53246], [53257], [53269], [53270], [53271], [53272], [53273], [53274], [53275], [53276], [53277], [53281], [53283], [53284], [53285], [53287], [53364], [53365], [54927], [54929], [54930], [54931], [54932], [54933], [54938], [54943], [54944], [54945], [54946], [54947], [54948], [54950], [54951], [54952], [54956], [54959], [54960], [54961], [54962], [54964], [54965], [54969], [54970], [54971], [54972], [54996], [55000], [55011], [55013], [55014], [55015], [55016], [55017], [55020], [55021], [55023], [55027], [55028], [55034], [55036], [55037], [55038], [55039].
    
    Props jrf, aristath, poena, justinahinon, SergeyBiryukov.
    See #56788.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55049 602fd350-edb4-49c9-b593-d223f7449a82

commit 80bb61d33fc5ad8324b8688bb3774d69d9ce55d4
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Wed Jan 11 09:15:06 2023 +0000

    General: revert [55045].
    
    This changeset reverts [55045] to maintain backward compatibility for developers using the function in their SCSS.
    
    Follow-up to [55045].
    
    Unprops audrasjb.
    Props peterwilsoncc, kebbet.
    See #56811.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55048 602fd350-edb4-49c9-b593-d223f7449a82

commit 0d39c0aa1e7c31db14aa4e2110c61e80423a7943
Author: Tonya Mork <hellofromtonya@git.wordpress.org>
Date:   Tue Jan 10 13:59:00 2023 +0000

    I18N: Initialize `WP_Locale` array properties.
    
    Initializing the `WP_Locale` array properties to an empty array at the class definition point. Why?
    
    * Ensure the properties initialize to an `array` data type at instantiation (rather than `null`).
    
    This initialization is needed to ensure the properties are not `null` if another class inherits from `WP_Locale` but does not run `WP_Locale::init()` from the constructor. In this case, the initialization prevents
    
    {{{
    Warning: array_values() expects parameter 1 to be array, null given
    }}}
    
    when Core uses any of the properties.
    
    * Good design practice.
    
    The code and documentation are clearly expecting these properties to be an `array` data type. Setting each to a default `array()` state further helps to clearly communicate the code design.
    
    Follow-up to [37889], [36292], [31078], [3676], [6589].
    
    Props tyxla, SergeyBiryukov, azaozz, hellofromTonya, mukesh27.
    See #57427.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55047 602fd350-edb4-49c9-b593-d223f7449a82

commit 234698c55171f6479e4b6c127b0dcd6992ed7bf1
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Jan 10 11:28:31 2023 +0000

    HTTP API: Use correct class reference for Requests' HTTP Proxy in `WP_Http::request()`.
    
    Renaming the class was missed in [54997] when updating changes in `WP_Http::request()` for the Requests 2.0.0 external library upgrade. The `HTTP` class no longer exists and caused a fatal error:
    {{{
    PHP Fatal error: Class 'WpOrg\Requests\Proxy\HTTP' not found in wp-includes/class-wp-http.php on line 382
    }}}
    
    This commit renames the class to `Http` and resolves the fatal error.
    
    Follow-up to [52244], [52315], [52327], [52328], [54997], [55007].
    
    Props danielbachhuber, jrf.
    See #54504.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55046 602fd350-edb4-49c9-b593-d223f7449a82

commit 76253b9997be684c92ad230776fdda58fddcfbc7
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Jan 10 11:04:36 2023 +0000

    General: Align spelling with American English.
    
    This changeset renames `url-friendly-colour` to `url-friendly-color` in `_admin.scss`.
    
    Follow-up to [54663], [54664], [55043], [55044].
    
    Props kebbet.
    See #56811.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55045 602fd350-edb4-49c9-b593-d223f7449a82

commit 5a32388a137ad8a5f92f00cfd820144ed1079eee
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Jan 10 09:28:17 2023 +0000

    Docs: Align spelling with American English.
    
    This changeset updates the use of "-ise" suffix to American English "-ize" and replaces "behaviour" with "behavior" in various docblocks.
    
    Follow-up to [54663], [54664], [55043].
    
    Props kebbet.
    See #56811, #56792.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55044 602fd350-edb4-49c9-b593-d223f7449a82

commit 8f44c445e6786f8f1bbd52825d4ad5b33a93a644
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Jan 10 09:07:01 2023 +0000

    Docs: Align spelling with American English.
    
    This changeset updates the use of "-ise" suffix to American English "-ize" in docblocks.
    
    Follow-up to [54663], [54664].
    
    Props ironprogrammer, costdev.
    See #56811, #56792.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55043 602fd350-edb4-49c9-b593-d223f7449a82

commit 50e9ae1cbbc0e8545de4dfc0c6b13fc36298ea5f
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Tue Jan 10 08:59:14 2023 +0000

    Help/About: Improve comments keyboard shortcuts HelpHub links.
    
    This changeset adds an anchor in Comments keyboard shortcut documentation links to direct the user to a more specific section of the HelpHub documentation. It also removes `target="_blank" from a link, since preventing data loss when clicking any on User Edit and Comment Edit screens is already handled by another existing ticket (#40493).
    
    Props NekoJonez, SergeyBiryukov, sabernhardt, dennisatyoast, robinwpdeveloper.
    Fixes #56920.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55042 602fd350-edb4-49c9-b593-d223f7449a82

commit d6665e64f5e9b858ce358344832b5b86abb8d22e
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Mon Jan 9 23:43:19 2023 +0000

    Twenty Twenty-Three: Fix incorrect gradient values in Aubergine theme.
    
    This changeset removes two unwanted semicolons from the gradients declaration in `aubergine.json`, fixing two gradients that were showing a checkerboard pattern instead of the gradient, and a console error for each of them.
    
    Props wildworks, sabernhardt.
    Fixes #57245.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55041 602fd350-edb4-49c9-b593-d223f7449a82

commit bacd0f00787a3b923c4ff4b1d88297d000802e28
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Mon Jan 9 21:30:55 2023 +0000

    Pings/Trackbacks: Remove a mention of the "Page" post type from the Discussion meta box.
    
    This changeset removes a mention of the "Page" post type from the Discussion meta box as this is a generic meta box, used for multiple post types. It makes it more consistent with the other option available in the meta box ("Allow comments") and also with the corresponding option in the block editor.
    
    Follow-up to [12323].
    
    Props jeremyfelt, sabernhardt, audrasjb, virgar.
    Fixes #57429.
    See #11346.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55040 602fd350-edb4-49c9-b593-d223f7449a82

commit 268eac288467f0e5546e4538779f313983397c6c
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Jan 9 16:38:34 2023 +0000

    Code Modernization: Rename parameters that use reserved keywords in `phpunit/tests/customize/manager.php`.
    
    While using reserved PHP keywords as parameter name labels is allowed, in the context of function calls using named parameters in PHP 8.0+, this will easily lead to confusion. To avoid that, it is recommended not to use reserved keywords as function parameter names.
    
    This commit:
    * Renames the `$class` parameter to `$setting_class` in:
     * `Tests_WP_Customize_Manager::return_dynamic_customize_setting_class()`
     * `Tests_WP_Customize_Manager::return_dynamic_customize_setting_args()`
    * Amends the `$args` and `$id` parameters in both methods for consistency.
    * Corrects the DocBlock for `::return_dynamic_customize_setting_args()`.
    
    Follow-up to [52946], [52996], [52997], [52998], [53003], [53014], [53029], [53039], [53116], [53117], [53137], [53174], [53184], [53185], [53192], [53193], [53198], [53203], [53207], [53215], [53216], [53220], [53230], [53232], [53236], [53239], [53240], [53242], [53243], [53245], [53246], [53257], [53269], [53270], [53271], [53272], [53273], [53274], [53275], [53276], [53277], [53281], [53283], [53284], [53285], [53287], [53364], [53365], [54927], [54929], [54930], [54931], [54932], [54933], [54938], [54943], [54944], [54945], [54946], [54947], [54948], [54950], [54951], [54952], [54956], [54959], [54960], [54961], [54962], [54964], [54965], [54969], [54970], [54971], [54972], [54996], [55000], [55011], [55013], [55014], [55015], [55016], [55017], [55020], [55021], [55023], [55027], [55028], [55034], [55036], [55037], [55038].
    
    Props jrf, aristath, poena, justinahinon, SergeyBiryukov.
    See #56788.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55039 602fd350-edb4-49c9-b593-d223f7449a82

commit 199f33246fc7af511b679d3ecfb2579a73361d90
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Jan 9 00:40:55 2023 +0000

    Code Modernization: Rename parameters that use reserved keywords in `phpunit/tests/cron.php`.
    
    While using reserved PHP keywords as parameter name labels is allowed, in the context of function calls using named parameters in PHP 8.0+, this will easily lead to confusion. To avoid that, it is recommended not to use reserved keywords as function parameter names.
    
    This commit:
    * Renames the `$null` parameter to `$result` in `Tests_Cron::filter_pre_schedule_event_filter()`.
    * Amends the `$pre` parameter of the `pre_schedule_event` filter for consistency.
    
    Follow-up to [52946], [52996], [52997], [52998], [53003], [53014], [53029], [53039], [53116], [53117], [53137], [53174], [53184], [53185], [53192], [53193], [53198], [53203], [53207], [53215], [53216], [53220], [53230], [53232], [53236], [53239], [53240], [53242], [53243], [53245], [53246], [53257], [53269], [53270], [53271], [53272], [53273], [53274], [53275], [53276], [53277], [53281], [53283], [53284], [53285], [53287], [53364], [53365], [54927], [54929], [54930], [54931], [54932], [54933], [54938], [54943], [54944], [54945], [54946], [54947], [54948], [54950], [54951], [54952], [54956], [54959], [54960], [54961], [54962], [54964], [54965], [54969], [54970], [54971], [54972], [54996], [55000], [55011], [55013], [55014], [55015], [55016], [55017], [55020], [55021], [55023], [55027], [55028], [55034], [55036], [55037].
    
    Props jrf, aristath, poena, justinahinon, SergeyBiryukov.
    See #56788.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55038 602fd350-edb4-49c9-b593-d223f7449a82

commit 4f813e3817baec2be73fe372a278c3dca2fb97a9
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Jan 8 01:13:59 2023 +0000

    Code Modernization: Rename parameters that use reserved keywords in `phpunit/tests/compat/mbSubstr.php`.
    
    While using reserved PHP keywords as parameter name labels is allowed, in the context of function calls using named parameters in PHP 8.0+, this will easily lead to confusion. To avoid that, it is recommended not to use reserved keywords as function parameter names.
    
    This commit renames the `$string` parameter to `$input_string` in the unit tests for `mb_substr()` polyfill.
    
    Follow-up to [52946], [52996], [52997], [52998], [53003], [53014], [53029], [53039], [53116], [53117], [53137], [53174], [53184], [53185], [53192], [53193], [53198], [53203], [53207], [53215], [53216], [53220], [53230], [53232], [53236], [53239], [53240], [53242], [53243], [53245], [53246], [53257], [53269], [53270], [53271], [53272], [53273], [53274], [53275], [53276], [53277], [53281], [53283], [53284], [53285], [53287], [53364], [53365], [54927], [54929], [54930], [54931], [54932], [54933], [54938], [54943], [54944], [54945], [54946], [54947], [54948], [54950], [54951], [54952], [54956], [54959], [54960], [54961], [54962], [54964], [54965], [54969], [54970], [54971], [54972], [54996], [55000], [55011], [55013], [55014], [55015], [55016], [55017], [55020], [55021], [55023], [55027], [55028], [55034], [55036].
    
    Props jrf, aristath, poena, justinahinon, SergeyBiryukov.
    See #56788.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55037 602fd350-edb4-49c9-b593-d223f7449a82

commit 7cd8e5793c9593a411e2d4371c1585c6f2e2fd3f
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Jan 7 00:36:22 2023 +0000

    Code Modernization: Rename parameters that use reserved keywords in `phpunit/tests/compat/mbStrlen.php`.
    
    While using reserved PHP keywords as parameter name labels is allowed, in the context of function calls using named parameters in PHP 8.0+, this will easily lead to confusion. To avoid that, it is recommended not to use reserved keywords as function parameter names.
    
    This commit renames the `$string` parameter to `$input_string` in the unit tests for `mb_strlen()` polyfill.
    
    Follow-up to [52946], [52996], [52997], [52998], [53003], [53014], [53029], [53039], [53116], [53117], [53137], [53174], [53184], [53185], [53192], [53193], [53198], [53203], [53207], [53215], [53216], [53220], [53230], [53232], [53236], [53239], [53240], [53242], [53243], [53245], [53246], [53257], [53269], [53270], [53271], [53272], [53273], [53274], [53275], [53276], [53277], [53281], [53283], [53284], [53285], [53287], [53364], [53365], [54927], [54929], [54930], [54931], [54932], [54933], [54938], [54943], [54944], [54945], [54946], [54947], [54948], [54950], [54951], [54952], [54956], [54959], [54960], [54961], [54962], [54964], [54965], [54969], [54970], [54971], [54972], [54996], [55000], [55011], [55013], [55014], [55015], [55016], [55017], [55020], [55021], [55023], [55027], [55028], [55034].
    
    Props jrf, aristath, poena, justinahinon, SergeyBiryukov.
    See #56788.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55036 602fd350-edb4-49c9-b593-d223f7449a82

commit 5a497225b286964ff9302a21272731172840ed05
Author: Jonny Harris <spacedmonkey@git.wordpress.org>
Date:   Fri Jan 6 10:34:00 2023 +0000

    Query: Stop priming posts twice in `WP_Query`.
    
    Part revert of [54352]. In cases where queries are not split, then it results in priming posts that are already loaded resulting in a superfluous database query.
    
    Props spacedmonkey, flixos90, peterwilsoncc.
    Fixes #57373.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55035 602fd350-edb4-49c9-b593-d223f7449a82

commit 700dfe6cff6362a36dfea21743a070f2f1c1e090
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Jan 6 00:35:57 2023 +0000

    Code Modernization: Rename parameters that use reserved keywords in `phpunit/tests/block-supports/elements.php`.
    
    While using reserved PHP keywords as parameter name labels is allowed, in the context of function calls using named parameters in PHP 8.0+, this will easily lead to confusion. To avoid that, it is recommended not to use reserved keywords as function parameter names.
    
    This commit renames the `$string` parameter to `$block_content` in `Tests_Block_Supports_Elements::make_unique_id_one()`.
    
    Follow-up to [52946], [52996], [52997], [52998], [53003], [53014], [53029], [53039], [53116], [53117], [53137], [53174], [53184], [53185], [53192], [53193], [53198], [53203], [53207], [53215], [53216], [53220], [53230], [53232], [53236], [53239], [53240], [53242], [53243], [53245], [53246], [53257], [53269], [53270], [53271], [53272], [53273], [53274], [53275], [53276], [53277], [53281], [53283], [53284], [53285], [53287], [53364], [53365], [54927], [54929], [54930], [54931], [54932], [54933], [54938], [54943], [54944], [54945], [54946], [54947], [54948], [54950], [54951], [54952], [54956], [54959], [54960], [54961], [54962], [54964], [54965], [54969], [54970], [54971], [54972], [54996], [55000], [55011], [55013], [55014], [55015], [55016], [55017], [55020], [55021], [55023], [55027], [55028].
    
    Props jrf, aristath, poena, justinahinon, SergeyBiryukov.
    See #56788.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55034 602fd350-edb4-49c9-b593-d223f7449a82

commit 0b3a68dbd151d18c07a25609db29c261af592e44
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Jan 5 15:25:44 2023 +0000

    Coding Standards: Correct alignment in `wp-includes/option.php`.
    
    This fixes an `Equals sign not aligned with surrounding statements` WPCS warning, so that the output of `composer format` is clean.
    
    Follow-up to [54948].
    
    See #56791.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55033 602fd350-edb4-49c9-b593-d223f7449a82

commit bf6ca94eca298aa24252cfa55b03f6172239ffe8
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Jan 5 11:17:18 2023 +0000

    Coding Standards: Fix WPCS issues in `phpunit/tests/pluggable/wpMail.php`.
    
    This addresses a few errors along the lines of:
    
    * Opening parenthesis of a multi-line function call must be the last content on the line
    * Only one argument is allowed per line in a multi-line function call
    * Each array item in a multi-line array declaration must end in a comma
    * Closing parenthesis of a multi-line function call must be on a line by itself
    
    Follow-up to [55030].
    
    See #28407.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55032 602fd350-edb4-49c9-b593-d223f7449a82

commit 096878791ebd1907dee35cc5348f28c7c7c039aa
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Jan 5 10:47:19 2023 +0000

    Tests: Use correct variable in `_fake_download_url_non_200_response_code()`.
    
    Follow-up to [55029].
    
    See #56793.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55031 602fd350-edb4-49c9-b593-d223f7449a82

commit 45053ef512e2ba45e4e812553bcb6ae16ab7a907
Author: John James Jacoby <johnjamesjacoby@git.wordpress.org>
Date:   Thu Jan 5 10:47:06 2023 +0000

    Mail: allow custom attachment filenames in `wp_mail()`.
    
    Previous to this change, attachment filenames in outgoing emails could only ever be derived from their paths (passed in as a numerically indexed array of `$attachments`).
    
    This changeset adds support for passing an associative `$attachments` array, where the key strings will be used as filenames instead.
    
    Includes 2 new unit tests to ensure both array formats continue to work as intended.
    
    Props johnjamesjacoby, ritteshpatel, swissspidy, syntaxart.
    Fixes #28407.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55030 602fd350-edb4-49c9-b593-d223f7449a82

commit d8f311800dbb14c9f06329a8254e3a900e62b947
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Jan 5 10:21:19 2023 +0000

    Tests: Bring some consistency to mocking HTTP requests in unit tests.
    
    Includes:
    * Renaming the `$preempt` parameter to `$response` in the `pre_http_request` filter to better match the context used in callbacks (returning the original value if the conditions are not met rather than preempting the request).
    * Synchronizing parameter names and types in various `pre_http_request` callbacks in unit tests.
    
    Follow-up to [34509], [37907], [40628], [40629], [45667], [46175], [48242], [48462], [49904], [51021], [51973], [52146], [52382], [54043], [54968].
    
    See #56793, #56792.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55029 602fd350-edb4-49c9-b593-d223f7449a82

commit 53063c633306997e2502a7ea90c90b58236f7183
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Jan 4 14:16:57 2023 +0000

    Code Modernization: Rename parameters that use reserved keywords in `phpunit/includes/utils.php`.
    
    While using reserved PHP keywords as parameter name labels is allowed, in the context of function calls using named parameters in PHP 8.0+, this will easily lead to confusion. To avoid that, it is recommended not to use reserved keywords as function parameter names.
    
    This commit:
    * Renames the `$callable` parameter to `$callback` in `get_echo()`.
    * Renames the `$array` parameter to `$expected_data` in `gen_tests_array()`.
    
    Follow-up to [52946], [52996], [52997], [52998], [53003], [53014], [53029], [53039], [53116], [53117], [53137], [53174], [53184], [53185], [53192], [53193], [53198], [53203], [53207], [53215], [53216], [53220], [53230], [53232], [53236], [53239], [53240], [53242], [53243], [53245], [53246], [53257], [53269], [53270], [53271], [53272], [53273], [53274], [53275], [53276], [53277], [53281], [53283], [53284], [53285], [53287], [53364], [53365], [54927], [54929], [54930], [54931], [54932], [54933], [54938], [54943], [54944], [54945], [54946], [54947], [54948], [54950], [54951], [54952], [54956], [54959], [54960], [54961], [54962], [54964], [54965], [54969], [54970], [54971], [54972], [54996], [55000], [55011], [55013], [55014], [55015], [55016], [55017], [55020], [55021], [55023], [55027].
    
    Props jrf, aristath, poena, justinahinon, SergeyBiryukov.
    See #56788.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55028 602fd350-edb4-49c9-b593-d223f7449a82

commit 309553e87f9b97645ec4e13cfe455af34b24abb5
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Jan 3 12:45:29 2023 +0000

    Code Modernization: Rename parameters that use reserved keywords in `phpunit/includes/spy-rest-server.php`.
    
    While using reserved PHP keywords as parameter name labels is allowed, in the context of function calls using named parameters in PHP 8.0+, this will easily lead to confusion. To avoid that, it is recommended not to use reserved keywords as function parameter names.
    
    This commit renames the `$namespace` parameter to `$route_namespace` in `Spy_REST_Server::register_route()`.
    
    Follow-up to [52946], [52996], [52997], [52998], [53003], [53014], [53029], [53039], [53116], [53117], [53137], [53174], [53184], [53185], [53192], [53193], [53198], [53203], [53207], [53215], [53216], [53220], [53230], [53232], [53236], [53239], [53240], [53242], [53243], [53245], [53246], [53257], [53269], [53270], [53271], [53272], [53273], [53274], [53275], [53276], [53277], [53281], [53283], [53284], [53285], [53287], [53364], [53365], [54927], [54929], [54930], [54931], [54932], [54933], [54938], [54943], [54944], [54945], [54946], [54947], [54948], [54950], [54951], [54952], [54956], [54959], [54960], [54961], [54962], [54964], [54965], [54969], [54970], [54971], [54972], [54996], [55000], [55011], [55013], [55014], [55015], [55016], [55017], [55020], [55021], [55023].
    
    Props jrf, aristath, poena, justinahinon, SergeyBiryukov.
    See #56788.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55027 602fd350-edb4-49c9-b593-d223f7449a82

commit 15cd32ac3dd02ab5949cb343ad8164d981bcc115
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Mon Jan 2 22:48:55 2023 +0000

    Networks and Sites: Mark required fields as such in New User Form.
    
    This changeset adds `required="required"` attributes to required form fields and uses `wp_required_field_message()` and `wp_required_field_indicator()` functions to improve the generated markup, and for better consistency with other required fields.
    
    Props jackreichert, flixos90, afercia, sabernhardt.
    Fixes #38460.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55026 602fd350-edb4-49c9-b593-d223f7449a82

commit e088de67e899aa0aaf7336b58955adbaad52526c
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Jan 2 00:28:02 2023 +0000

    Tests: Update the terminology used for filter names in `tests_add_filter()`.
    
    This commit renames the `$tag` and `$function_to_add` parameters to match the `add_filter()` function signature.
    
    Includes:
    * Renaming the `$tag` parameter to `$hook_name`.
    * Renaming the `$function_to_add` parameter to `$callback`.
    * Synchronizing documentation for:
     * `tests_add_filter()` and `add_filter()`
     * `_test_filter_build_unique_id()` and `_wp_filter_build_unique_id()`
    
    Follow-up to [760/tests], [38582], [43555], [46801], [50807], [52300], [53804], [53805], [55023].
    
    See #56793.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55025 602fd350-edb4-49c9-b593-d223f7449a82

commit 7978e05ec02ac35170727f4bb7f6b4b39c2dca39
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Jan 1 00:04:17 2023 +0000

    Happy New Year! 🎄
    
    Update copyright year to 2023 in `license.txt` and bundled themes.
    
    Follow-up to [18201], [23306], [28064], [36855], [36856], [39659], [40241], [42424], [46719], [46720], [47025], [47026], [49915], [52427].
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@55024 602fd350-edb4-49c9-b593-d223f7449a82
